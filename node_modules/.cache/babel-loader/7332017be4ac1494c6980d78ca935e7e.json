{"ast":null,"code":"var _jsxFileName = \"/Users/antoine/Documents/DGCCRF/dgccrf-front/src/components/fields/entrepriseField.component.js\";\n\n/* eslint-disable no-undef */\n\n/* eslint-disable no-console */\nimport React from 'react';\nimport { Form, Select } from 'semantic-ui-react';\nimport PropTypes from 'prop-types';\nimport axios from 'axios';\nimport config from '../../config';\nexport default class EntrepriseField extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      searchResults: []\n    };\n  }\n\n  async changeSearchResults(searchText) {\n    try {\n      let _ref = await axios.get(config.backend.base_url + '/entreprise/search?query=' + searchText),\n          data = _ref.data;\n\n      this.setState({\n        searchResults: data.map(etab => ({\n          key: etab.ETOB_SIRET,\n          value: etab.ETOB_SIRET,\n          text: etab.ETOB_RAISON_SOCIALE\n        }))\n      });\n    } catch (e) {\n      console.log(e);\n    }\n  }\n\n  render() {\n    return React.createElement(Form.Group, {\n      widths: \"equal\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 36\n      },\n      __self: this\n    }, React.createElement(Form.Field, {\n      fluid: true,\n      control: Select,\n      search: true,\n      options: this.state.searchResults.concat([{\n        key: this.props.ETOB_SIRET,\n        value: this.props.ETOB_SIRET,\n        text: this.props.ETOB_RAISON_SOCIALE\n      }]),\n      required: true,\n      label: \"Raison Sociale\",\n      placeholder: \"Rechercher\",\n      onSearchChange: (e, data) => {\n        this.changeSearchResults(data.searchQuery);\n        this.props.changeRaisonSocialeValue(data.searchQuery);\n      },\n      onChange: (e, data) => {\n        this.props.changeRaisonSocialeValue(e.currentTarget.innerText);\n        this.props.changeSiretValue(data.value);\n      },\n      value: this.props.ETOB_SIRET,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 37\n      },\n      __self: this\n    }), React.createElement(Form.Input, {\n      fluid: true,\n      required: true,\n      label: \"SIRET\",\n      placeholder: \"SIRET\",\n      onChange: e => this.props.changeSiretValue(e.target.value),\n      value: this.props.ETOB_SIRET,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62\n      },\n      __self: this\n    }));\n  }\n\n}\nEntrepriseField.propTypes = {\n  ETOB_RAISON_SOCIALE: PropTypes.string.isRequired,\n  ETOB_SIRET: PropTypes.string.isRequired,\n  changeSiretValue: PropTypes.func.isRequired,\n  changeRaisonSocialeValue: PropTypes.func.isRequired\n};","map":{"version":3,"sources":["/Users/antoine/Documents/DGCCRF/dgccrf-front/src/components/fields/entrepriseField.component.js"],"names":["React","Form","Select","PropTypes","axios","config","EntrepriseField","Component","constructor","props","state","searchResults","changeSearchResults","searchText","get","backend","base_url","data","setState","map","etab","key","ETOB_SIRET","value","text","ETOB_RAISON_SOCIALE","e","console","log","render","concat","searchQuery","changeRaisonSocialeValue","currentTarget","innerText","changeSiretValue","target","propTypes","string","isRequired","func"],"mappings":"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","sourcesContent":["/* eslint-disable no-undef */\n/* eslint-disable no-console */\nimport React from 'react';\nimport { Form, Select } from 'semantic-ui-react';\nimport PropTypes from 'prop-types';\nimport axios from 'axios';\nimport config from '../../config';\n\nexport default class EntrepriseField extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      searchResults: []\n    };\n  }\n\n  async changeSearchResults(searchText) {\n    try {\n      let { data } = await axios.get(\n        config.backend.base_url + '/entreprise/search?query=' + searchText\n      );\n      this.setState({\n        searchResults: data.map(etab => ({\n          key: etab.ETOB_SIRET,\n          value: etab.ETOB_SIRET,\n          text: etab.ETOB_RAISON_SOCIALE\n        }))\n      });\n    } catch (e) {\n      console.log(e);\n    }\n  }\n\n  render() {\n    return (\n      <Form.Group widths=\"equal\">\n        <Form.Field\n          fluid\n          control={Select}\n          search\n          options={this.state.searchResults.concat([\n            {\n              key: this.props.ETOB_SIRET,\n              value: this.props.ETOB_SIRET,\n              text: this.props.ETOB_RAISON_SOCIALE\n            }\n          ])}\n          required\n          label=\"Raison Sociale\"\n          placeholder=\"Rechercher\"\n          onSearchChange={(e, data) => {\n            this.changeSearchResults(data.searchQuery);\n            this.props.changeRaisonSocialeValue(data.searchQuery);\n          }}\n          onChange={(e, data) => {\n            this.props.changeRaisonSocialeValue(e.currentTarget.innerText);\n            this.props.changeSiretValue(data.value);\n          }}\n          value={this.props.ETOB_SIRET}\n        />\n\n        <Form.Input\n          fluid\n          required\n          label=\"SIRET\"\n          placeholder=\"SIRET\"\n          onChange={e => this.props.changeSiretValue(e.target.value)}\n          value={this.props.ETOB_SIRET}\n        />\n      </Form.Group>\n    );\n  }\n}\n\nEntrepriseField.propTypes = {\n  ETOB_RAISON_SOCIALE: PropTypes.string.isRequired,\n  ETOB_SIRET: PropTypes.string.isRequired,\n  changeSiretValue: PropTypes.func.isRequired,\n  changeRaisonSocialeValue: PropTypes.func.isRequired\n};\n"]},"metadata":{},"sourceType":"module"}