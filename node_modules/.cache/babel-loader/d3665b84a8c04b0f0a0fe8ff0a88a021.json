{"ast":null,"code":"var _jsxFileName = \"/Users/antoine/Documents/DGCCRF/dgccrf-front/src/containers/dossier/visites.container.js\";\nimport React from 'react';\nimport { Grid, List, Icon, Container, Button, Search, Segment } from 'semantic-ui-react';\nimport { Link } from 'react-router-dom';\nimport moment from 'moment';\nimport PropTypes from 'prop-types';\nimport Visite from './visite';\nimport _ from 'lodash';\nimport MyActivityIndicator from '../../components/myActivityIndicator.component';\nimport PouchDbServices from '../../services';\nlet visitesService = PouchDbServices.services.visite;\nexport default class VisitesComponent extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      visitesList: [],\n      isLoading: true\n    };\n  }\n\n  componentDidMount() {\n    let dossierId = this.props.match.params.id;\n    visitesService.getVisitesByDossier(dossierId).then(data => this.setState({\n      visitesList: data,\n      isLoading: false\n    }));\n    visitesService.onChanges(() => this.setState({\n      isLoading: true\n    }, () => {\n      visitesService.getVisitesByDossier(dossierId).then(data => this.setState({\n        visitesList: data,\n        isLoading: false\n      }));\n    }));\n  }\n\n  render() {\n    console.log(this.state.visitesList);\n    return !this.state.isLoading ? React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      style: {\n        backgroundColor: '#f2f2f2',\n        position: 'fixed',\n        zIndex: 10,\n        display: 'flex',\n        width: '100%',\n        justifyContent: 'space-between',\n        alignItems: 'center',\n        height: 70\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      style: {\n        flex: 1,\n        maxWidth: 200\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60\n      },\n      __self: this\n    }, React.createElement(Search, {\n      input: {\n        fluid: true\n      },\n      open: false // onSearchChange={_.debounce(this.handleSearchChange, 500)}\n      ,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      style: {\n        flex: 2,\n        textAlign: 'right'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    }, React.createElement(Link, {\n      to: \"/nouvelle-visite\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    }, React.createElement(Button, {\n      style: {\n        padding: 5\n      },\n      icon: true,\n      basic: true,\n      color: \"blue\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70\n      },\n      __self: this\n    }, React.createElement(Icon, {\n      name: \"plus\",\n      size: \"large\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    }), \"Cr\\xE9er une visite\"))))), React.createElement(\"div\", {\n      style: {\n        paddingTop: 70\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    }, this.state.visitesList.length > 0 ? this.state.visitesList.map((visite, i) => React.createElement(Visite, {\n      visite: visite,\n      key: i,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    })) : React.createElement(Segment, {\n      style: {\n        fontStyle: 'italic'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    }, ' ', \"Pas encore de visites pour ce dossier!\", ' '))) : React.createElement(MyActivityIndicator, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    });\n  }\n\n}\nVisitesComponent.propTypes = {\n  match: PropTypes.objectOf({\n    params: PropTypes.objectOf({\n      id: PropTypes.string\n    })\n  })\n};","map":{"version":3,"sources":["/Users/antoine/Documents/DGCCRF/dgccrf-front/src/containers/dossier/visites.container.js"],"names":["React","Grid","List","Icon","Container","Button","Search","Segment","Link","moment","PropTypes","Visite","_","MyActivityIndicator","PouchDbServices","visitesService","services","visite","VisitesComponent","Component","constructor","props","state","visitesList","isLoading","componentDidMount","dossierId","match","params","id","getVisitesByDossier","then","data","setState","onChanges","render","console","log","backgroundColor","position","zIndex","display","width","justifyContent","alignItems","height","flex","maxWidth","fluid","textAlign","padding","paddingTop","length","map","i","fontStyle","propTypes","objectOf","string"],"mappings":"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","sourcesContent":["import React from 'react';\nimport {\n  Grid,\n  List,\n  Icon,\n  Container,\n  Button,\n  Search,\n  Segment\n} from 'semantic-ui-react';\nimport { Link } from 'react-router-dom';\nimport moment from 'moment';\nimport PropTypes from 'prop-types';\nimport Visite from './visite';\nimport _ from 'lodash';\nimport MyActivityIndicator from '../../components/myActivityIndicator.component';\n\nimport PouchDbServices from '../../services';\nlet visitesService = PouchDbServices.services.visite;\n\nexport default class VisitesComponent extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      visitesList: [],\n      isLoading: true\n    };\n  }\n\n  componentDidMount() {\n    let dossierId = this.props.match.params.id;\n    visitesService\n      .getVisitesByDossier(dossierId)\n      .then(data => this.setState({ visitesList: data, isLoading: false }));\n    visitesService.onChanges(() =>\n      this.setState({ isLoading: true }, () => {\n        visitesService\n          .getVisitesByDossier(dossierId)\n          .then(data => this.setState({ visitesList: data, isLoading: false }));\n      })\n    );\n  }\n\n  render() {\n    console.log(this.state.visitesList);\n    return !this.state.isLoading ? (\n      <div>\n        <div\n          style={{\n            backgroundColor: '#f2f2f2',\n            position: 'fixed',\n            zIndex: 10,\n            display: 'flex',\n            width: '100%',\n            justifyContent: 'space-between',\n            alignItems: 'center',\n            height: 70\n          }}\n        >\n          <div style={{ flex: 1, maxWidth: 200 }}>\n            <Search\n              input={{ fluid: true }}\n              open={false}\n            // onSearchChange={_.debounce(this.handleSearchChange, 500)}\n            />\n          </div>\n          <div style={{ flex: 2, textAlign: 'right' }}>\n            <Link to=\"/nouvelle-visite\">\n              <Button style={{ padding: 5 }} icon basic color=\"blue\">\n                <div>\n                  <Icon name=\"plus\" size=\"large\" />\n                  Créer une visite\n                </div>\n              </Button>\n            </Link>\n          </div>\n        </div>\n\n        <div style={{ paddingTop: 70 }}>\n          {this.state.visitesList.length > 0 ? (\n            this.state.visitesList.map((visite, i) => (\n              <Visite visite={visite} key={i} />\n            ))\n          ) : (\n              <Segment style={{ fontStyle: 'italic' }}>\n                {' '}\n                Pas encore de visites pour ce dossier!{' '}\n              </Segment>\n            )}\n        </div>\n      </div>\n    ) : (\n        <MyActivityIndicator />\n      );\n  }\n}\n\nVisitesComponent.propTypes = {\n  match: PropTypes.objectOf({\n    params: PropTypes.objectOf({\n      id: PropTypes.string\n    })\n  })\n};\n"]},"metadata":{},"sourceType":"module"}