(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{331:function(e,t,a){},357:function(e,t,a){},396:function(e,t,a){},461:function(e,t,a){e.exports=a.p+"static/media/target001.2b784759.png"},462:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAA30AAATvCAIAAAA94Q4oAAAACXBIWXMAABCbAAAQmwF0iZxLAAATvklEQVR42u3WMQEAAAjDMMC/52GBhy+R0KudpAAA4NlIAACA7wQAwHcCAIDvBADAdwIA4DsBAMB3AgDgOwEAwHcCAOA7AQDwnQAA4DsBAPCdAADgOwEA8J0AAPhOAADwnQAA+E4AAHwnAAD4TgAAfCcAAPhOAAB8JwAAvhMAAHwnAAC+EwAAfCcAAL4TAADfCQAAvhMAAN8JAAC+EwAA3wkAgO8EAADfCQCA7wQAwHcCAIDvBADAdwIAgO8EAMB3AgDgOwEAwHcCAOA7AQDAdwIA4DsBAPCdAADgOwEA8J0AAPhOAADwnQAA+E4AAPCdAAD4TgAAfCcAAPhOAAB8JwAA+E4AAHwnAAC+EwAAfCcAAL4TAAB8JwAAvhMAAN8JAAC+EwAA3wkAgO8EAADfCQCA7wQAAN8JAIDvBADAdwIAgO8EAMB3AgCA7wQAwHcCAOA7AQDAdwIA4DsBAMB3AgDgOwEA8J0AAOA7AQDwnQAA+E4AAPCdAAD4TgAA8J0AAPhOAAB8JwAA+E4AAHwnAAD4TgAAfCcAAL4TAAB8JwAAvhMAAN8JAAC+EwAA3wkAAL4TAADfCQCA7wQAAN8JAIDvBAAA3wkAgO8EAMB3AgCA7wQAwHcCAIDvBADAdwIA4DsBAMB3AgDgOwEA8J0AAOA7AQDwnQAA4DsBAPCdAAD4TgAA8J0AAPhOAADwnQAA+E4AAHwnAAD4TgAAfCcAAL5TAgAAfCcAAL4TAAB8JwAAvhMAAN8JAAC+EwAA3wkAAL4TAADfCQCA7wQAAN8JAIDvBAAA3wkAgO8EAMB3AgCA7wQAwHcCAOA7AQDAdwIA4DsBAMB3AgDgOwEA8J0AAOA7AQDwnQAA4DsBAPCdAAD4TgAA8J0AAPhOAADwnQAA+E4AAHwnAAD4TgAAfCcAAL4TAAB8JwAAvhMAAHwnAAC+EwAA3wkAAL4TAADfCQAAvhMAAN8JAIDvBAAA3wkAgO8EAMB3AgCA7wQAwHcCAIDvBADAdwIA4DsBAMB3AgDgOwEAwHcCAOA7AQDwnQAA4DsBAPCdAADgOwEA8J0AAPhOAADwnQAA+E4AAHwnAAD4TgAAfCcAAPhOAAB8JwAAvhMAAHwnAAC+EwAAfCcAAL4TAADfCQAAvhMAAN8JAAC+EwAA3wkAgO8EAADfCQCA7wQAwHcCAIDvBADAdwIAgO8EAMB3AgDgOwEAwHcCAOA7AQDAdwIA4DsBAPCdAADgOwEA8J0AAPhOAADwnQAA+E4AAPCdAAD4TgAAfCcAAPhOAAB8JwAA+E4AAHwnAAC+EwAAfCcAAL4TAAB8JwAAvhMAAN8JAAC+EwAA3wkAgO8EAADfCQCA7wQAAN8JAIDvBADAdwIAgO8EAMB3AgCA7wQAwHcCAOA7AQDAdwIA4DsBAPCdEgAA4DsBAPCdAADgOwEA8J0AAPhOAADwnQAA+E4AAPCdAAD4TgAAfCcAAPhOAAB8JwAA+E4AAHwnAAC+EwAAfCcAAL4TAADfCQAAvhMAAN8JAAC+EwAA3wkAgO8EAADfCQCA7wQAAN8JAIDvBADAdwIAgO8EAMB3AgCA7wQAwHcCAOA7AQDAdwIA4DsBAPCdAADgOwEA8J0AAOA7AQDwnQAA+E4AAPCdAAD4TgAA8J0AAPhOAAB8JwAA+E4AAHwnAAC+EwAAfCcAAL4TAAB8JwAAvhMAAN8JAAC+EwAA3wkAAL4TAADfCQCA7wQAAN8JAIDvBAAA3wkAgO8EAMB3AgCA7wQAwHcCAOA7AQDAdwIA4DsBAMB3AgDgOwEA8J0AAOA7AQDwnQAA4DsBAPCdAAD4TgAA8J0AAPhOAADwnQAA+E4AAHwnAAD4TgAAfCcAAL4TAAB8JwAAvhMAAHwnAAC+EwAA3wkAAL4TAADfCQAAvhMAAN8JAIDvBAAA3wkAgO8EAMB3AgCA7wQAwHcCAIDvBADAdwIA4DsBAMB3AgDgOwEAwHcCAOA7AQDwnQAA4DsBAPCdAADgOwEA8J0AAPhOAADwnQAA+E4AAHwnAAD4TgAAfCcAAPhOAAB8JwAAvhMAAHwnAAC+EwAAfCcAAL4TAADfCQAAvhMAAN8JAIDvlAAAAN8JAIDvBAAA3wkAgO8EAMB3AgCA7wQAwHcCAIDvBADAdwIA4DsBAMB3AgDgOwEAwHcCAOA7AQDwnQAA4DsBAPCdAAD4TgAA8J0AAPhOAADwnQAA+E4AAHwnAAD4TgAAfCcAAPhOAAB8JwAAvhMAAHwnAAC+EwAAfCcAAL4TAADfCQAAvhMAAN8JAIDvBAAA3wkAgO8EAADfCQCA7wQAwHcCAIDvBADAdwIAgO8EAMB3AgDgOwEAwHcCAOA7AQDwnQAA4DsBAPCdAADgOwEA8J0AAPhOAADwnQAA+E4AAPCdAAD4TgAAfCcAAPhOAAB8JwAA+E4AAHwnAAC+EwAAfCcAAL4TAADfCQAAvhMAAN8JAAC+EwAA3wkAgO8EAADfCQCA7wQAAN8JAIDvBADAdwIAgO8EAMB3AgCA7wQAwHcCAOA7AQDAdwIA4DsBAPCdAADgOwEA8J0AAOA7AQDwnQAA+E4AAPCdAAD4TgAA8J0AAPhOAAB8JwAA+E4AAHwnAAC+EwAAfCcAAL4TAAB8JwAAvhMAAN8JAAC+EwAA3wkAAL4TAADfCQCA7wQAAN8JAIDvBAAA3wkAgO8EAMB3AgCA7wQAwHcCAOA7AQDAdwIA4DsBAMB3AgDgOwEA8J0AAOA7AQDwnQAA4DsBAPCdAAD4TgAA8J0AAPhOAAB8pwQAAPhOAAB8JwAA+E4AAHwnAAC+EwAAfCcAAL4TAAB8JwAAvhMAAN8JAAC+EwAA3wkAAL4TAADfCQCA7wQAAN8JAIDvBADAdwIAgO8EAMB3AgCA7wQAwHcCAOA7AQDAdwIA4DsBAMB3AgDgOwEA8J0AAOA7AQDwnQAA4DsBAPCdAAD4TgAA8J0AAPhOAAB8JwAA+E4AAHwnAAD4TgAAfCcAAL4TAAB8JwAAvhMAAHwnAAC+EwAA3wkAAL4TAADfCQCA7wQAAN8JAIDvBAAA3wkAgO8EAMB3AgCA7wQAwHcCAIDvBADAdwIA4DsBAMB3AgDgOwEAwHcCAOA7AQDwnQAA4DsBAPCdAAD4TgAA8J0AAPhOAADwnQAA+E4AAHwnAAD4TgAAfCcAAPhOAAB8JwAAvhMAAHwnAAC+EwAAfCcAAL4TAADfCQAAvhMAAN8JAIDvBAAA3wkAgO8EAADfCQCA7wQAwHcCAIDvBADAdwIAgO8EAMB3AgDgOwEAwHcCAOA7AQDwnQAA4DsBAPCdAADgOwEA8J0AAPhOAADwnQAA+E4AAPCdAAD4TgAAfCcAAPhOAAB8JwAA+E4AAHwnAAC+EwAAfCcAAL4TAADfCQAAvhMAAN8JAAC+EwAA3wkAgO8EAADfCQCA7wQAAN8JAIDvBADAdwIAgO8EAMB3AgDgOyUAAMB3AgDgOwEAwHcCAOA7AQDwnQAA4DsBAPCdAADgOwEA8J0AAPhOAADwnQAA+E4AAPCdAAD4TgAAfCcAAPhOAAB8JwAAvhMAAHwnAAC+EwAAfCcAAL4TAADfCQAAvhMAAN8JAAC+EwAA3wkAgO8EAADfCQCA7wQAAN8JAIDvBADAdwIAgO8EAMB3AgDgOwEAwHcCAOA7AQDAdwIA4DsBAPCdAADgOwEA8J0AAOA7AQDwnQAA+E4AAPCdAAD4TgAAfCcAAPhOAAB8JwAA+E4AAHwnAAC+EwAAfCcAAL4TAAB8JwAAvhMAAN8JAAC+EwAA3wkAAL4TAADfCQCA7wQAAN8JAIDvBADAdwIAgO8EAMB3AgCA7wQAwHcCAOA7AQDAdwIA4DsBAMB3AgDgOwEA8J0AAOA7AQDwnQAA4DsBAPCdAAD4TgAA8J0AAPhOAAB8JwAA+E4AAHwnAAD4TgAAfCcAAL4TAAB8JwAAvhMAAHwnAAC+EwAA3wkAAL4TAADfCQCA7wQAAN8JAIDvBAAA3wkAgO8EAMB3AgCA7wQAwHcCAIDvBADAdwIA4DsBAMB3AgDgOwEAwHcCAOA7AQDwnQAA4DsBAPCdAAD4TgAA8J0AAPhOAADwnQAA+E4AAHwnAAD4TgAAfCcAAPhOAAB8JwAAvhMAAHwnAAC+EwAA3ykBAAC+EwAA3wkAAL4TAADfCQCA7wQAAN8JAIDvBAAA3wkAgO8EAMB3AgCA7wQAwHcCAIDvBADAdwIA4DsBAMB3AgDgOwEA8J0AAOA7AQDwnQAA4DsBAPCdAAD4TgAA8J0AAPhOAADwnQAA+E4AAHwnAAD4TgAAfCcAAPhOAAB8JwAAvhMAAHwnAAC+EwAA3wkAAL4TAADfCQAAvhMAAN8JAIDvBAAA3wkAgO8EAADfCQCA7wQAwHcCAIDvBADAdwIA4DsBAMB3AgDgOwEAwHcCAOA7AQDwnQAA4DsBAPCdAADgOwEA8J0AAPhOAADwnQAA+E4AAPCdAAD4TgAAfCcAAPhOAAB8JwAAvhMAAHwnAAC+EwAAfCcAAL4TAADfCQAAvhMAAN8JAAC+EwAA3wkAgO8EAADfCQCA7wQAAN8JAIDvBADAdwIAgO8EAMB3AgDgOwEAwHcCAOA7AQDAdwIA4DsBAPCdAADgOwEA8J0AAOA7AQDwnQAA+E4AAPCdAAD4TgAAfCcAAPhOAAB8JwAA+E4AAHwnAAC+EwAAfCcAAL4TAAB8JwAAvhMAAN8JAAC+EwAA3wkAAL4TAADfCQCA7wQAAN8JAIDvBADAdwIAgO8EAMB3AgCA7wQAwHcCAOA7AQDAdwIA4DsBAMB3AgDgOwEA8J0AAOA7AQDwnQAA+E4JAADwnQAA+E4AAPCdAAD4TgAAfCcAAPhOAAB8JwAA+E4AAHwnAAC+EwAAfCcAAL4TAAB8JwAAvhMAAN8JAAC+EwAA3wkAgO8EAADfCQCA7wQAAN8JAIDvBADAdwIAgO8EAMB3AgCA7wQAwHcCAOA7AQDAdwIA4DsBAMB3AgDgOwEA8J0AAOA7AQDwnQAA+E4AAPCdAAD4TgAA8J0AAPhOAAB8JwAA+E4AAHwnAAD4TgAAfCcAAL4TAAB8JwAAvhMAAN8JAAC+EwAA3wkAAL4TAADfCQCA7wQAAN8JAIDvBAAA3wkAgO8EAMB3AgCA7wQAwHcCAIDvBADAdwIA4DsBAMB3AgDgOwEA8J0AAOA7AQDwnQAA4DsBAPCdAAD4TgAA8J0AAPhOAADwnQAA+E4AAHwnAAD4TgAAfCcAAPhOAAB8JwAAvhMAAHwnAAC+EwAA3wkAAL4TAADfCQAAvhMAAN8JAIDvBAAA3wkAgO8EAADfCQCA7wQAwHcCAIDvBADAdwIA4DsBAMB3AgDgOwEAwHcCAOA7AQDwnQAA4DsBAPCdAADgOwEA8J0AAPhOAADwnQAA+E4AAPCdAAD4TgAAfCcAAPhOAAB8JwAAvhMAAHwnAAC+EwAAfCcAAL4TAADfCQAAvhMAAN8JAAC+EwAA3wkAgO8EAADfCQCA7wQAwHdKAACA7wQAwHcCAIDvBADAdwIA4DsBAMB3AgDgOwEAwHcCAOA7AQDwnQAA4DsBAPCdAADgOwEA8J0AAPhOAADwnQAA+E4AAHwnAAD4TgAAfCcAAPhOAAB8JwAAvhMAAHwnAAC+EwAAfCcAAL4TAADfCQAAvhMAAN8JAAC+EwAA3wkAgO8EAADfCQCA7wQAwHcCAIDvBADAdwIAgO8EAMB3AgDgOwEAwHcCAOA7AQDAdwIA4DsBAPCdAADgOwEA8J0AAPhOAADwnQAA+E4AAPCdAAD4TgAAfCcAAPhOAAB8JwAA+E4AAHwnAAC+EwAAfCcAAL4TAAB8JwAAvhMAAN8JAAC+EwAA3wkAgO8EAADfCQCA7wQAAN8JAIDvBADAdwIAgO8EAMB3AgCA7wQAwHcCAOA7AQDAdwIA4DsBAMB3AgDgOwEA8J0AAOA7AQDwnQAA+E4AAPCdAAD4TgAA8J0AAPhOAAB8JwAA+E4AAHwnAAD4TgAAfCcAAL4TAAB8JwAAvhMAAN8JAAC+EwAA3wkAAL4TAADfCQCA7wQAAN8JAIDvBAAA3wkAgO8EAMB3AgCA7wQAwHcCAIDvBADAdwIA4DsBAMB3AgDgOwEA8J0AAOA7AQDwnQAA4DsBAPCdAAD4TgAA8J0AAPhOAADwnQAA+E4AAHwnAAD4TgAAfCcAAL5TAgAAfCcAAL4TAAB8JwAAvhMAAN8JAAC+EwAA3wkAAL4TAADfCQCA7wQAAN8JAIDvBAAA3wkAgO8EAMB3AgCA7wQAwHcCAOA7AQDAdwIA4DsBAMB3AgDgOwEA8J0AAOA7AQDwnQAA4DsBAPCdAAD4TgAA8J0AAPhOAADwnQAA+E4AAHwnAAD4TgAAfCcAAL4TAAB8JwAAvhMAAHwnAAC+EwAA3wkAAL4TAADfCQAAvhMAAN8JAIDvBAAA3wkAgO8EAMB3AgCA7wQAwHcCAIDvBADAdwIA4DsBAMB3AgDgOwEAwHcCAOA7AQDwnQAA4DsBAPCdAADgOwEA8J0AAPhOAADwnQAA+E4AAHwnAAD4TgAAfCcAAPhOAAB8JwAAvhMAAHwnAAC+EwAAfCcAAL4TAADfCQAAvhMAAN8JAAC+EwAA3wkAgO8EAADfCQCA7wQAwHcCAIDvBADAdwIAgO8EAMB3AgDgOwEAwHcCAOA7AQDAdwIA4DsBAPCdAADgOwEA8J0AAPhOAADwnQAA+E4AADhZ5RwM2/VuIdYAAAAASUVORK5CYII="},507:function(e,t,a){e.exports=a(794)},517:function(e,t,a){},518:function(e,t,a){},710:function(e,t,a){},711:function(e,t,a){},782:function(e,t,a){},784:function(e,t,a){},789:function(e,t,a){},790:function(e,t,a){e.exports=a.p+"static/media/target001.2b784759.png"},791:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAA30AAATvCAIAAAA94Q4oAAAACXBIWXMAABCbAAAQmwF0iZxLAAATvklEQVR42u3WMQEAAAjDMMC/52GBhy+R0KudpAAA4NlIAACA7wQAwHcCAIDvBADAdwIA4DsBAMB3AgDgOwEAwHcCAOA7AQDwnQAA4DsBAPCdAADgOwEA8J0AAPhOAADwnQAA+E4AAHwnAAD4TgAAfCcAAPhOAAB8JwAAvhMAAHwnAAC+EwAAfCcAAL4TAADfCQAAvhMAAN8JAAC+EwAA3wkAgO8EAADfCQCA7wQAwHcCAIDvBADAdwIAgO8EAMB3AgDgOwEAwHcCAOA7AQDAdwIA4DsBAPCdAADgOwEA8J0AAPhOAADwnQAA+E4AAPCdAAD4TgAAfCcAAPhOAAB8JwAA+E4AAHwnAAC+EwAAfCcAAL4TAAB8JwAAvhMAAN8JAAC+EwAA3wkAgO8EAADfCQCA7wQAAN8JAIDvBADAdwIAgO8EAMB3AgCA7wQAwHcCAOA7AQDAdwIA4DsBAMB3AgDgOwEA8J0AAOA7AQDwnQAA+E4AAPCdAAD4TgAA8J0AAPhOAAB8JwAA+E4AAHwnAAD4TgAAfCcAAL4TAAB8JwAAvhMAAN8JAAC+EwAA3wkAAL4TAADfCQCA7wQAAN8JAIDvBAAA3wkAgO8EAMB3AgCA7wQAwHcCAIDvBADAdwIA4DsBAMB3AgDgOwEA8J0AAOA7AQDwnQAA4DsBAPCdAAD4TgAA8J0AAPhOAADwnQAA+E4AAHwnAAD4TgAAfCcAAL5TAgAAfCcAAL4TAAB8JwAAvhMAAN8JAAC+EwAA3wkAAL4TAADfCQCA7wQAAN8JAIDvBAAA3wkAgO8EAMB3AgCA7wQAwHcCAOA7AQDAdwIA4DsBAMB3AgDgOwEA8J0AAOA7AQDwnQAA4DsBAPCdAAD4TgAA8J0AAPhOAADwnQAA+E4AAHwnAAD4TgAAfCcAAL4TAAB8JwAAvhMAAHwnAAC+EwAA3wkAAL4TAADfCQAAvhMAAN8JAIDvBAAA3wkAgO8EAMB3AgCA7wQAwHcCAIDvBADAdwIA4DsBAMB3AgDgOwEAwHcCAOA7AQDwnQAA4DsBAPCdAADgOwEA8J0AAPhOAADwnQAA+E4AAHwnAAD4TgAAfCcAAPhOAAB8JwAAvhMAAHwnAAC+EwAAfCcAAL4TAADfCQAAvhMAAN8JAAC+EwAA3wkAgO8EAADfCQCA7wQAwHcCAIDvBADAdwIAgO8EAMB3AgDgOwEAwHcCAOA7AQDAdwIA4DsBAPCdAADgOwEA8J0AAPhOAADwnQAA+E4AAPCdAAD4TgAAfCcAAPhOAAB8JwAA+E4AAHwnAAC+EwAAfCcAAL4TAAB8JwAAvhMAAN8JAAC+EwAA3wkAgO8EAADfCQCA7wQAAN8JAIDvBADAdwIAgO8EAMB3AgCA7wQAwHcCAOA7AQDAdwIA4DsBAPCdEgAA4DsBAPCdAADgOwEA8J0AAPhOAADwnQAA+E4AAPCdAAD4TgAAfCcAAPhOAAB8JwAA+E4AAHwnAAC+EwAAfCcAAL4TAADfCQAAvhMAAN8JAAC+EwAA3wkAgO8EAADfCQCA7wQAAN8JAIDvBADAdwIAgO8EAMB3AgCA7wQAwHcCAOA7AQDAdwIA4DsBAPCdAADgOwEA8J0AAOA7AQDwnQAA+E4AAPCdAAD4TgAA8J0AAPhOAAB8JwAA+E4AAHwnAAC+EwAAfCcAAL4TAAB8JwAAvhMAAN8JAAC+EwAA3wkAAL4TAADfCQCA7wQAAN8JAIDvBAAA3wkAgO8EAMB3AgCA7wQAwHcCAOA7AQDAdwIA4DsBAMB3AgDgOwEA8J0AAOA7AQDwnQAA4DsBAPCdAAD4TgAA8J0AAPhOAADwnQAA+E4AAHwnAAD4TgAAfCcAAL4TAAB8JwAAvhMAAHwnAAC+EwAA3wkAAL4TAADfCQAAvhMAAN8JAIDvBAAA3wkAgO8EAMB3AgCA7wQAwHcCAIDvBADAdwIA4DsBAMB3AgDgOwEAwHcCAOA7AQDwnQAA4DsBAPCdAADgOwEA8J0AAPhOAADwnQAA+E4AAHwnAAD4TgAAfCcAAPhOAAB8JwAAvhMAAHwnAAC+EwAAfCcAAL4TAADfCQAAvhMAAN8JAIDvlAAAAN8JAIDvBAAA3wkAgO8EAMB3AgCA7wQAwHcCAIDvBADAdwIA4DsBAMB3AgDgOwEAwHcCAOA7AQDwnQAA4DsBAPCdAAD4TgAA8J0AAPhOAADwnQAA+E4AAHwnAAD4TgAAfCcAAPhOAAB8JwAAvhMAAHwnAAC+EwAAfCcAAL4TAADfCQAAvhMAAN8JAIDvBAAA3wkAgO8EAADfCQCA7wQAwHcCAIDvBADAdwIAgO8EAMB3AgDgOwEAwHcCAOA7AQDwnQAA4DsBAPCdAADgOwEA8J0AAPhOAADwnQAA+E4AAPCdAAD4TgAAfCcAAPhOAAB8JwAA+E4AAHwnAAC+EwAAfCcAAL4TAADfCQAAvhMAAN8JAAC+EwAA3wkAgO8EAADfCQCA7wQAAN8JAIDvBADAdwIAgO8EAMB3AgCA7wQAwHcCAOA7AQDAdwIA4DsBAPCdAADgOwEA8J0AAOA7AQDwnQAA+E4AAPCdAAD4TgAA8J0AAPhOAAB8JwAA+E4AAHwnAAC+EwAAfCcAAL4TAAB8JwAAvhMAAN8JAAC+EwAA3wkAAL4TAADfCQCA7wQAAN8JAIDvBAAA3wkAgO8EAMB3AgCA7wQAwHcCAOA7AQDAdwIA4DsBAMB3AgDgOwEA8J0AAOA7AQDwnQAA4DsBAPCdAAD4TgAA8J0AAPhOAAB8pwQAAPhOAAB8JwAA+E4AAHwnAAC+EwAAfCcAAL4TAAB8JwAAvhMAAN8JAAC+EwAA3wkAAL4TAADfCQCA7wQAAN8JAIDvBADAdwIAgO8EAMB3AgCA7wQAwHcCAOA7AQDAdwIA4DsBAMB3AgDgOwEA8J0AAOA7AQDwnQAA4DsBAPCdAAD4TgAA8J0AAPhOAAB8JwAA+E4AAHwnAAD4TgAAfCcAAL4TAAB8JwAAvhMAAHwnAAC+EwAA3wkAAL4TAADfCQCA7wQAAN8JAIDvBAAA3wkAgO8EAMB3AgCA7wQAwHcCAIDvBADAdwIA4DsBAMB3AgDgOwEAwHcCAOA7AQDwnQAA4DsBAPCdAAD4TgAA8J0AAPhOAADwnQAA+E4AAHwnAAD4TgAAfCcAAPhOAAB8JwAAvhMAAHwnAAC+EwAAfCcAAL4TAADfCQAAvhMAAN8JAIDvBAAA3wkAgO8EAADfCQCA7wQAwHcCAIDvBADAdwIAgO8EAMB3AgDgOwEAwHcCAOA7AQDwnQAA4DsBAPCdAADgOwEA8J0AAPhOAADwnQAA+E4AAPCdAAD4TgAAfCcAAPhOAAB8JwAA+E4AAHwnAAC+EwAAfCcAAL4TAADfCQAAvhMAAN8JAAC+EwAA3wkAgO8EAADfCQCA7wQAAN8JAIDvBADAdwIAgO8EAMB3AgDgOyUAAMB3AgDgOwEAwHcCAOA7AQDwnQAA4DsBAPCdAADgOwEA8J0AAPhOAADwnQAA+E4AAPCdAAD4TgAAfCcAAPhOAAB8JwAAvhMAAHwnAAC+EwAAfCcAAL4TAADfCQAAvhMAAN8JAAC+EwAA3wkAgO8EAADfCQCA7wQAAN8JAIDvBADAdwIAgO8EAMB3AgDgOwEAwHcCAOA7AQDAdwIA4DsBAPCdAADgOwEA8J0AAOA7AQDwnQAA+E4AAPCdAAD4TgAAfCcAAPhOAAB8JwAA+E4AAHwnAAC+EwAAfCcAAL4TAAB8JwAAvhMAAN8JAAC+EwAA3wkAAL4TAADfCQCA7wQAAN8JAIDvBADAdwIAgO8EAMB3AgCA7wQAwHcCAOA7AQDAdwIA4DsBAMB3AgDgOwEA8J0AAOA7AQDwnQAA4DsBAPCdAAD4TgAA8J0AAPhOAAB8JwAA+E4AAHwnAAD4TgAAfCcAAL4TAAB8JwAAvhMAAHwnAAC+EwAA3wkAAL4TAADfCQCA7wQAAN8JAIDvBAAA3wkAgO8EAMB3AgCA7wQAwHcCAIDvBADAdwIA4DsBAMB3AgDgOwEAwHcCAOA7AQDwnQAA4DsBAPCdAAD4TgAA8J0AAPhOAADwnQAA+E4AAHwnAAD4TgAAfCcAAPhOAAB8JwAAvhMAAHwnAAC+EwAA3ykBAAC+EwAA3wkAAL4TAADfCQCA7wQAAN8JAIDvBAAA3wkAgO8EAMB3AgCA7wQAwHcCAIDvBADAdwIA4DsBAMB3AgDgOwEA8J0AAOA7AQDwnQAA4DsBAPCdAAD4TgAA8J0AAPhOAADwnQAA+E4AAHwnAAD4TgAAfCcAAPhOAAB8JwAAvhMAAHwnAAC+EwAA3wkAAL4TAADfCQAAvhMAAN8JAIDvBAAA3wkAgO8EAADfCQCA7wQAwHcCAIDvBADAdwIA4DsBAMB3AgDgOwEAwHcCAOA7AQDwnQAA4DsBAPCdAADgOwEA8J0AAPhOAADwnQAA+E4AAPCdAAD4TgAAfCcAAPhOAAB8JwAAvhMAAHwnAAC+EwAAfCcAAL4TAADfCQAAvhMAAN8JAAC+EwAA3wkAgO8EAADfCQCA7wQAAN8JAIDvBADAdwIAgO8EAMB3AgDgOwEAwHcCAOA7AQDAdwIA4DsBAPCdAADgOwEA8J0AAOA7AQDwnQAA+E4AAPCdAAD4TgAAfCcAAPhOAAB8JwAA+E4AAHwnAAC+EwAAfCcAAL4TAAB8JwAAvhMAAN8JAAC+EwAA3wkAAL4TAADfCQCA7wQAAN8JAIDvBADAdwIAgO8EAMB3AgCA7wQAwHcCAOA7AQDAdwIA4DsBAMB3AgDgOwEA8J0AAOA7AQDwnQAA+E4JAADwnQAA+E4AAPCdAAD4TgAAfCcAAPhOAAB8JwAA+E4AAHwnAAC+EwAAfCcAAL4TAAB8JwAAvhMAAN8JAAC+EwAA3wkAgO8EAADfCQCA7wQAAN8JAIDvBADAdwIAgO8EAMB3AgCA7wQAwHcCAOA7AQDAdwIA4DsBAMB3AgDgOwEA8J0AAOA7AQDwnQAA+E4AAPCdAAD4TgAA8J0AAPhOAAB8JwAA+E4AAHwnAAD4TgAAfCcAAL4TAAB8JwAAvhMAAN8JAAC+EwAA3wkAAL4TAADfCQCA7wQAAN8JAIDvBAAA3wkAgO8EAMB3AgCA7wQAwHcCAIDvBADAdwIA4DsBAMB3AgDgOwEA8J0AAOA7AQDwnQAA4DsBAPCdAAD4TgAA8J0AAPhOAADwnQAA+E4AAHwnAAD4TgAAfCcAAPhOAAB8JwAAvhMAAHwnAAC+EwAA3wkAAL4TAADfCQAAvhMAAN8JAIDvBAAA3wkAgO8EAADfCQCA7wQAwHcCAIDvBADAdwIA4DsBAMB3AgDgOwEAwHcCAOA7AQDwnQAA4DsBAPCdAADgOwEA8J0AAPhOAADwnQAA+E4AAPCdAAD4TgAAfCcAAPhOAAB8JwAAvhMAAHwnAAC+EwAAfCcAAL4TAADfCQAAvhMAAN8JAAC+EwAA3wkAgO8EAADfCQCA7wQAwHdKAACA7wQAwHcCAIDvBADAdwIA4DsBAMB3AgDgOwEAwHcCAOA7AQDwnQAA4DsBAPCdAADgOwEA8J0AAPhOAADwnQAA+E4AAHwnAAD4TgAAfCcAAPhOAAB8JwAAvhMAAHwnAAC+EwAAfCcAAL4TAADfCQAAvhMAAN8JAAC+EwAA3wkAgO8EAADfCQCA7wQAwHcCAIDvBADAdwIAgO8EAMB3AgDgOwEAwHcCAOA7AQDAdwIA4DsBAPCdAADgOwEA8J0AAPhOAADwnQAA+E4AAPCdAAD4TgAAfCcAAPhOAAB8JwAA+E4AAHwnAAC+EwAAfCcAAL4TAAB8JwAAvhMAAN8JAAC+EwAA3wkAgO8EAADfCQCA7wQAAN8JAIDvBADAdwIAgO8EAMB3AgCA7wQAwHcCAOA7AQDAdwIA4DsBAMB3AgDgOwEA8J0AAOA7AQDwnQAA+E4AAPCdAAD4TgAA8J0AAPhOAAB8JwAA+E4AAHwnAAD4TgAAfCcAAL4TAAB8JwAAvhMAAN8JAAC+EwAA3wkAAL4TAADfCQCA7wQAAN8JAIDvBAAA3wkAgO8EAMB3AgCA7wQAwHcCAIDvBADAdwIA4DsBAMB3AgDgOwEA8J0AAOA7AQDwnQAA4DsBAPCdAAD4TgAA8J0AAPhOAADwnQAA+E4AAHwnAAD4TgAAfCcAAL5TAgAAfCcAAL4TAAB8JwAAvhMAAN8JAAC+EwAA3wkAAL4TAADfCQCA7wQAAN8JAIDvBAAA3wkAgO8EAMB3AgCA7wQAwHcCAOA7AQDAdwIA4DsBAMB3AgDgOwEA8J0AAOA7AQDwnQAA4DsBAPCdAAD4TgAA8J0AAPhOAADwnQAA+E4AAHwnAAD4TgAAfCcAAL4TAAB8JwAAvhMAAHwnAAC+EwAA3wkAAL4TAADfCQAAvhMAAN8JAIDvBAAA3wkAgO8EAMB3AgCA7wQAwHcCAIDvBADAdwIA4DsBAMB3AgDgOwEAwHcCAOA7AQDwnQAA4DsBAPCdAADgOwEA8J0AAPhOAADwnQAA+E4AAHwnAAD4TgAAfCcAAPhOAAB8JwAAvhMAAHwnAAC+EwAAfCcAAL4TAADfCQAAvhMAAN8JAAC+EwAA3wkAgO8EAADfCQCA7wQAwHcCAIDvBADAdwIAgO8EAMB3AgDgOwEAwHcCAOA7AQDAdwIA4DsBAPCdAADgOwEA8J0AAPhOAADwnQAA+E4AADhZ5RwM2/VuIdYAAAAASUVORK5CYII="},794:function(e,t,a){"use strict";a.r(t);a(508);var n=a(466),r=a(0),s=a.n(r),l=a(57),i=a.n(l),o=a(39),c=(a(517),a(11)),A=a(10),u=a(19),p=a(18),m=a(20),d=(a(518),a(38)),h=a(250),E=a(465),f=a(46),w=a(120),b=a(92);a(357);var g=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(A.a)(t,[{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"responsiveHeight",style:{flexGrow:0,flexShrink:1,flexBasis:"auto",overflow:"hidden"}},s.a.createElement(h.a,{as:E.a,minWidth:500,fixed:"top",style:{position:"fixed",backgroundColor:"#3C4586"},inverted:!0,icon:"labeled"},s.a.createElement(h.a.Item,{as:"a",onClick:function(){return e.props.history.push(e.props.backPage)}},s.a.createElement(f.a,{style:{margin:"0"},name:"angle left"}),"Retour"),s.a.createElement(h.a.Item,{as:d.b,to:"/menu"},s.a.createElement(f.a,{name:"home"})," Menu"),s.a.createElement(h.a.Item,{style:{flex:"1",verticalAlign:"middle"}},s.a.createElement("p",{style:{fontSize:"20px"}},this.props.nameOfPage)),s.a.createElement(h.a.Menu,{position:"right"},s.a.createElement(h.a.Item,{as:d.b,to:this.props.mesDossiersLink},s.a.createElement(f.a,{name:"file"})," Mes Dossiers"),s.a.createElement(h.a.Item,{as:d.b,to:this.props.etablissementLink},s.a.createElement(f.a,{name:"building outline"}),"\xc9tablissements"),s.a.createElement(h.a.Item,{as:d.b,to:this.props.preferencesLink},s.a.createElement(f.a,{name:"setting"}),"Pr\xe9f\xe9rences"))),s.a.createElement(h.a,{as:E.a,maxWidth:500,fixed:"top",style:{position:"fixed",backgroundColor:"#3C4586"},color:"blue",inverted:!0,size:"large"},s.a.createElement(h.a.Item,{as:"a",onClick:function(){return e.props.history.goBack()}},s.a.createElement(f.a,{style:{margin:"0"},name:"angle left"})),s.a.createElement(h.a.Item,{style:{flex:"1"}},s.a.createElement("p",{style:{flex:"1",textAlign:"center"}},this.props.nameOfPage)),s.a.createElement(h.a.Menu,{position:"right"},s.a.createElement(w.a,{item:!0,simple:!0,icon:"list layout"},s.a.createElement(w.a.Menu,null,s.a.createElement(w.a.Item,{as:d.b,to:"/menu"},s.a.createElement(f.a,{name:"home"})," Menu"),s.a.createElement(w.a.Item,{as:d.b,to:this.props.mesDossiersLink},s.a.createElement(f.a,{name:"file"})," Mes Dossiers"),s.a.createElement(w.a.Item,{as:d.b,to:this.props.etablissementLink},s.a.createElement(f.a,{name:"building outline"}),"\xc9tablissements"),s.a.createElement(w.a.Item,{as:d.b,to:this.props.preferencesLink},s.a.createElement(f.a,{name:"setting"}),"Pr\xe9f\xe9rences"))))))}}]),t}(s.a.Component),v=Object(o.b)(function(e){return{nameOfPage:e.navbarReducer.nameOfPage,backPage:e.navbarReducer.backPage,mesDossiersLink:e.navbarReducer.activePages.mesDossiers,etablissementLink:e.navbarReducer.activePages.etablissements,preferencesLink:e.navbarReducer.activePages.preferences}})(Object(b.g)(g)),D=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(A.a)(t,[{key:"render",value:function(){return s.a.createElement(v,null)}}]),t}(s.a.Component),C=a(395),x=a(258),O=a(144),y=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(A.a)(t,[{key:"render",value:function(){return s.a.createElement(x.a.Row,{style:{padding:"20px"}},s.a.createElement(O.a,{as:d.b,to:this.props.link,icon:!0,basic:!0,fluid:!0,color:this.props.color,size:"massive",labelPosition:"left"},s.a.createElement(f.a,{name:this.props.icon}),this.props.name))}}]),t}(s.a.Component);function I(e){return{type:"CHANGE_NAME",payload:{newName:e}}}function T(e){return{type:"CHANGE_BACK_URL",payload:{backUrl:e}}}function S(e,t){return{type:"CHANGE_ACTIVE_PAGE",payload:{tab:e,value:t}}}var k=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(A.a)(t,[{key:"componentDidMount",value:function(){this.props.changeNameOfPage("Menu"),this.props.changeBackUrl("Menu")}},{key:"render",value:function(){return s.a.createElement(C.a,{style:{width:"100%",height:"100%"}},s.a.createElement(x.a,{style:{height:"100%"},verticalAlign:"middle",columns:"equal"},s.a.createElement(x.a.Row,null,s.a.createElement(x.a.Column,null),s.a.createElement(x.a.Column,{computer:6,tablet:8,mobile:16},s.a.createElement(y,{link:"/mes-dossiers",name:"Mes Dossiers",color:"teal",icon:"file"}),s.a.createElement(y,{link:"/etablissements",name:"\xc9tablissements",color:"blue",icon:"building outline"}),s.a.createElement(y,{link:"/preferences",name:"Pr\xe9f\xe9rences",color:"violet",icon:"setting"})),s.a.createElement(x.a.Column,null))))}}]),t}(s.a.Component),N=Object(o.b)(function(e){return{mesDossiersLink:e.navbarReducer.activePages.mesDossiers,etablissementLink:e.navbarReducer.activePages.etablissements,preferencesLink:e.navbarReducer.activePages.preferences}},function(e){return{changeNameOfPage:function(t){return e(I(t))},changeBackUrl:function(t){return e(T(t))}}})(k),B=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(A.a)(t,[{key:"render",value:function(){return s.a.createElement(N,null)}}]),t}(s.a.Component),L=a(265),_=a(412),P=a(423),j=a(191),R=a(397),M=a(34),Q=a.n(M),J=(a(396),function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(A.a)(t,[{key:"render",value:function(){return s.a.createElement(x.a.Row,{style:{padding:10,overflow:"auto"}},s.a.createElement(j.a,null,s.a.createElement(d.b,{to:this.props.link},s.a.createElement(x.a,null,s.a.createElement(x.a.Row,{verticalAlign:"middle",style:{padding:0}},s.a.createElement(x.a.Column,{width:3,style:{backgroundColor:"#f2f2f2",display:"flex",alignItems:"center",justifyContent:"center",height:"100%"}},s.a.createElement(E.a,{minWidth:600},s.a.createElement(f.a,{name:this.props.icon,color:this.props.iconcolor,size:"huge",style:{marginTop:5,marginBottom:5}})),s.a.createElement(E.a,{maxWidth:599},s.a.createElement(f.a,{name:this.props.icon,color:this.props.iconcolor,size:"large"}))),s.a.createElement(x.a.Column,{width:7,textAlign:"left"},s.a.createElement(x.a.Row,null,s.a.createElement(R.a,{as:"h3"},this.props.dossier.DOSSIER_LIBELLE)),s.a.createElement(x.a.Row,null,s.a.createElement(R.a,{as:"h5"},this.props.dossier.DOSSIER_OBJ_TRAVAIL))),s.a.createElement(x.a.Column,{width:6},s.a.createElement(x.a.Row,null,s.a.createElement(R.a,{as:"h5",style:{fontWeight:"normal"}},this.props.dossier.ACDG_LIBELLE[0])),s.a.createElement(x.a.Row,null,s.a.createElement(R.a,{as:"h5"},this.props.dossier.DOSSIER_ATTRIBUTAIRES)),s.a.createElement(x.a.Row,null,s.a.createElement(R.a,{as:"h5"},Q()(this.props.dossier.DOSSIER_DATE_LIMITE).format("DD/MM/YYYY")))))))))}}]),t}(s.a.Component)),H=a(282),V=a.n(H),U=a(283),z=(a(398),function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(A.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{style:{justifyContent:"center",alignItems:"flex-start",paddingTop:20,display:"flex"}},s.a.createElement(U.Digital,{size:30,color:"#3C4586"}))}}]),t}(r.Component)),F=a(12),G=a.n(F),Y=a(25),q=a(45),W=a(80),K="https://Admin:dtymoney91190@m.dgccrf.rie.gouv.fr/couchdb",X={replication_starting_hour:9,backend:{base_url:"/data"},couchDb:{url_dossiers:K+"/dossiers",url_controles:K+"/controles",url_documents:K+"/documents",url_new_controles:K+"/new-controles",url_visites:K+"/visites",url_activite:K+"/activite",url_cpf:K+"/produit-cpf",url_trames:K+"/trames",url_new_visites:K+"/new-visites"}},Z=a(74),$=a.n(Z),ee=function(){function e(t,a,n){var r=this,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1e4;Object(c.a)(this,e),this.db=t,this.replicationUrl=a,this.storageKey=n,this.tryReplication=this.tryReplication.bind(this),this.stopReplication=this.stopReplication.bind(this),this.tryReplication().then(function(){r.interval=window.setInterval(r.tryReplication,s)})}return Object(A.a)(e,[{key:"stopReplication",value:function(){window.clearInterval(this.interval),window.localStorage.removeItem(this.storageKey)}},{key:"tryReplication",value:function(){var e=Object(Y.a)(G.a.mark(function e(){var t,a,n,r;return G.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=localStorage.getItem(this.storageKey),a=Q()(t).format("YYYY-MM-DDTHH:mm:SSS"),t&&!(a<Q()(new Date).format("YYYY-MM-DDTHH:mm:SSS"))){e.next=16;break}return e.prev=3,e.next=6,$.a.get(this.replicationUrl);case 6:return n=e.sent,r=n.data,e.next=10,this.db.bulkDocs({docs:r});case 10:localStorage.setItem(this.storageKey,this.getNextReplicationDate()),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(3),e.t0.response;case 16:case"end":return e.stop()}},e,this,[[3,13]])}));return function(){return e.apply(this,arguments)}}()},{key:"getNextReplicationDate",value:function(){var e=X.replication_starting_hour,t=new Date,a=new Date(t.getFullYear(),t.getMonth(),t.getDate(),e);return t.getHours()>=e&&a.setDate(a.getDate()+1),a}}]),e}(),te=function(e,t,a){return new ee(e,t,a)};q.a.plugin(W.a);var ae=function(){function e(t){Object(c.a)(this,e),this.resetDb=this.resetDb.bind(this),this.initDb=this.initDb.bind(this),this.onChanges=this.onChanges.bind(this),this.changesCallbacks=[],this.initDb(t)}return Object(A.a)(e,[{key:"initDb",value:function(){var e=Object(Y.a)(G.a.mark(function e(t){var a=this;return G.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.db=new q.a("mes-dossiers"),this.replication=te(this.db,X.backend.base_url+"/fulldata/dossiers?idAgent="+t,"dossier_date"),this.db.createIndex({index:{fields:["DOSSIER_IDENT"]}}),this.db.createIndex({index:{fields:["ACDG_CODE_ACTION"]}}),this.db.changes({since:0,live:!0}).on("change",function(){return a.changesCallbacks.map(function(e){return e()})});case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"resetDb",value:function(){var e=Object(Y.a)(G.a.mark(function e(t){return G.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.replication.stopReplication(),e.next=3,this.db.destroy();case 3:return e.next=5,this.initDb(t);case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"onChanges",value:function(e){this.changesCallbacks.push(e)}},{key:"getAllDocs",value:function(){return this.db.allDocs({include_docs:!0,descending:!0}).then(function(e){return e.rows.map(function(e){return e.doc}).filter(function(e){return!("_design"==e._id.split("/")[0])}).sort(function(e,t){return e.DOSSIER_DATE_LIMITE>t.DOSSIER_DATE_LIMITE?-1:1})})}},{key:"getAllActionCode",value:function(){return this.getAllDocs().then(function(e){return e.map(function(e){return e.ACDG_CODE_ACTION}).filter(function(e,t,a){return a.indexOf(e)===t})})}},{key:"getDossierIdFromActionCode",value:function(e){return this.db.find({selector:{ACDG_CODE_ACTION:e}}).then(function(e){return e.docs[0].DOSSIER_IDENT})}},{key:"getDossierById",value:function(e){return this.db.find({selector:{DOSSIER_IDENT:parseInt(e)}}).then(function(e){return e.docs[0]})}}]),e}(),ne=a(30);q.a.plugin(W.a);var re=function(){function e(t){Object(c.a)(this,e),this.resetDb=this.resetDb.bind(this),this.initDb=this.initDb.bind(this),this.postControlesByVisite=this.postControlesByVisite.bind(this),this.changesCallbacks=[],this.initDb(t)}return Object(A.a)(e,[{key:"resetDb",value:function(){var e=Object(Y.a)(G.a.mark(function e(t){return G.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.controleReplication.stopReplication(),this.visiteReplication.stopReplication(),e.next=4,this.controleDB.destroy();case 4:return e.next=6,this.newControleDB.destroy();case 6:return e.next=8,this.visiteDB.destroy();case 8:return e.next=10,this.newVisiteDB.destroy();case 10:return e.next=12,this.initDb(t);case 12:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"initDb",value:function(){var e=Object(Y.a)(G.a.mark(function e(t){var a,n,r=this;return G.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.AGENT_DD_IDENT=t,a={batch_size:1e3,live:!0,retry:!0,filter:"filters/by_user",query_params:{AGENT_DD_IDENT:t}},n={batch_size:1e3,live:!0,retry:!0},this.controleDB=new q.a("controles"),this.controleReplication=te(this.controleDB,X.backend.base_url+"/fulldata/controles?idAgent="+t,"controle_date"),this.controleDB.createIndex({index:{fields:["DOSSIER_IDENT"]}}),this.controleDB.changes({since:"now",live:!0}).on("change",function(){return r.changesCallbacks.map(function(e){return e()})}),this.newControleDB=new q.a("new-controles"),this.newControleDB.replicate.to(X.couchDb.url_new_controles,n),this.newControleDB.replicate.from(X.couchDb.url_new_controles,a),this.newControleDB.createIndex({index:{fields:["DOSSIER_IDENT"]}}),this.newControleDB.createIndex({index:{fields:["VISITE_IDENT"]}}),this.newControleDB.changes({since:"now",live:!0}).on("change",function(){return r.changesCallbacks.map(function(e){return e()})}),this.visiteDB=new q.a("visites"),this.visiteReplication=te(this.visiteDB,X.backend.base_url+"/fulldata/visites?idAgent="+t,"visite_date"),this.visiteDB.createIndex({index:{fields:["VISTE_IDENT"]}}),this.visiteDB.changes({since:"now",live:!0}).on("change",function(){return r.changesCallbacks.map(function(e){return e()})}),this.newVisiteDB=new q.a("new-visites"),this.newVisiteDB.replicate.to(X.couchDb.url_new_visites,n),this.newVisiteDB.replicate.from(X.couchDb.url_new_visites,a),this.newVisiteDB.createIndex({index:{fields:["VISITE_IDENT"]}}),this.newVisiteDB.changes({since:"now",live:!0}).on("change",function(){return r.changesCallbacks.map(function(e){return e()})});case 22:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"onChanges",value:function(e){this.changesCallbacks.push(e)}},{key:"getAllDocs",value:function(){var e=Object(Y.a)(G.a.mark(function e(){var t,a;return G.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.controleDB.allDocs({include_docs:!0,descending:!0});case 2:return t=(t=e.sent).rows.map(function(e){return e.doc}),e.next=6,this.newControleDB.allDocs({include_docs:!0,descending:!0});case 6:return a=(a=e.sent).rows.map(function(e){return e.doc}),e.abrupt("return",a.concat(t).filter(function(e){return!("_design"==e._id.split("/")[0])}));case 9:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"getControlesByDossier",value:function(){var e=Object(Y.a)(G.a.mark(function e(t){var a,n;return G.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.controleDB.find({selector:{DOSSIER_IDENT:parseInt(t)}});case 2:return a=(a=e.sent).docs,e.next=6,this.newControleDB.find({selector:{DOSSIER_IDENT:parseInt(t)}});case 6:return n=(n=e.sent).docs,e.abrupt("return",a.concat(n).filter(function(e,t,a){return a.indexOf(e)===t}));case 9:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"getControlesByVisite",value:function(){var e=Object(Y.a)(G.a.mark(function e(t){var a,n;return G.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.controleDB.find({selector:{VISITE_IDENT:parseInt(t)}});case 2:return a=(a=e.sent).docs,e.next=6,this.newControleDB.find({selector:{VISITE_IDENT:parseInt(t)}});case 6:return n=(n=e.sent).docs,e.abrupt("return",a.concat(n).filter(function(e,t,a){return a.indexOf(e)===t}));case 9:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"getVisitesByDossier",value:function(){var e=Object(Y.a)(G.a.mark(function e(t){var a,n,r,s,l,i,o,c,A,u=this;return G.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getControlesByDossier(t);case 2:for(a=e.sent,n={},r=!0,s=!1,l=void 0,e.prev=7,i=a[Symbol.iterator]();!(r=(o=i.next()).done);r=!0)c=o.value,n[c.VISITE_IDENT]=n[c.VISITE_IDENT]||[],n[c.VISITE_IDENT].push(c);e.next=15;break;case 11:e.prev=11,e.t0=e.catch(7),s=!0,l=e.t0;case 15:e.prev=15,e.prev=16,r||null==i.return||i.return();case 18:if(e.prev=18,!s){e.next=21;break}throw l;case 21:return e.finish(18);case 22:return e.finish(15);case 23:return A=Object.keys(n).map(function(){var e=Object(Y.a)(G.a.mark(function e(t){var a;return G.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.visiteDB.find({selector:{VISITE_IDENT:parseInt(t)}}).then(function(e){return e.docs[0]});case 2:if(a=e.sent){e.next=7;break}return e.next=6,u.newVisiteDB.find({selector:{VISITE_IDENT:parseInt(t)}}).then(function(e){return e.docs[0]});case 6:a=e.sent;case 7:if(!a){e.next=9;break}return e.abrupt("return",{visiteData:a,controles:n[t]});case 9:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()),e.next=26,Promise.all(A);case 26:return A=e.sent,e.abrupt("return",A.filter(function(e){return e}));case 28:case"end":return e.stop()}},e,this,[[7,11,15,23],[16,,18,22]])}));return function(t){return e.apply(this,arguments)}}()},{key:"associateTrame",value:function(e,t){this.newVisiteDB.put(Object(ne.a)({},e.visiteData,{trame:t}))}},{key:"updateTrame",value:function(e,t,a){return this.newVisiteDB.put(Object(ne.a)({},e,{_rev:t,trame:a}))}},{key:"getVisiteById",value:function(e){return this.newVisiteDB.find({selector:{VISITE_IDENT:parseInt(e)}}).then(function(e){return e.docs[0]})}},{key:"postControlesByVisite",value:function(e,t){var a=[],n=parseInt(Date.now().toString()+this.AGENT_DD_IDENT.toString());a.push(this.newVisiteDB.post(Object(ne.a)({},e,{VISITE_IDENT:n,new_visite:!0,AGENT_DD_IDENT:this.AGENT_DD_IDENT})));var r=!0,s=!1,l=void 0;try{for(var i,o=t[Symbol.iterator]();!(r=(i=o.next()).done);r=!0){var c=i.value;a.push(this.newControleDB.post(Object(ne.a)({AGENT_DD_IDENT:this.AGENT_DD_IDENT},c,{VISITE_IDENT:n,new_visite:!0,CONTROLE_IDENT:c.DOSSIER_IDENT.toString()+c.CPF_IDENT.toString(),TAPR_IDENT:c.TAPR_IDENT})))}}catch(A){s=!0,l=A}finally{try{r||null==o.return||o.return()}finally{if(s)throw l}}return Promise.all(a)}},{key:"updateVisite",value:function(e,t){var a=[];a.push(this.newVisiteDB.put(e));var n=!0,r=!1,s=void 0;try{for(var l,i=t[Symbol.iterator]();!(n=(l=i.next()).done);n=!0){var o=l.value;o.exists?a.push(this.newControleDB.put(o)):a.push(this.newControleDB.post(Object(ne.a)({AGENT_DD_IDENT:e.AGENT_DD_IDENT},o,{VISITE_IDENT:e.VISITE_IDENT,CONTROLE_IDENT:o.DOSSIER_IDENT.toString()+o.CPF_IDENT.toString(),TAPR_IDENT:o.TAPR_IDENT})))}}catch(c){r=!0,s=c}finally{try{n||null==i.return||i.return()}finally{if(r)throw s}}return Promise.all(a)}},{key:"exportToSora",value:function(){var e=Object(Y.a)(G.a.mark(function e(t){var a;return G.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.newVisiteDB.find({selector:{VISITE_IDENT:parseInt(t)}}).then(function(e){return e.docs[0]});case 2:if(!(a=e.sent)){e.next=6;break}return e.next=6,this.newVisiteDB.put(Object(ne.a)({},a,{new_visite:!1,toBeExported:!0}));case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}]),e}();q.a.plugin(W.a);var se=function(){function e(){Object(c.a)(this,e);X.couchDb.url_activite;this.db=new q.a("activite");this.replication=te(this.db,X.backend.base_url+"/fulldata/activite/","activite_date"),this.resetDb=function(){}}return Object(A.a)(e,[{key:"getAllDocs",value:function(){return this.db.allDocs({include_docs:!0,descending:!0}).then(function(e){return e.rows.map(function(e){return e.doc}).filter(function(e){return!("_design"==e._id.split("/")[0])})})}},{key:"getActiviteById",value:function(e){return this.db.find({selector:{ACDG_IDENT:parseInt(e)}}).then(function(e){return e.docs[0]})}}]),e}();q.a.plugin(W.a);var le=function(){function e(){Object(c.a)(this,e);X.couchDb.url_cpf;this.db=new q.a("cpf");this.replication=te(this.db,X.backend.base_url+"/fulldata/cpf/","cpf_date"),this.resetDb=function(){}}return Object(A.a)(e,[{key:"getAllDocs",value:function(){return this.db.allDocs({include_docs:!0,descending:!0}).then(function(e){return e.rows.map(function(e){return e.doc}).filter(function(e){return!("_design"==e._id.split("/")[0])})})}},{key:"getCpfById",value:function(e){return this.db.find({selector:{CPF_IDENT:parseInt(e)}}).then(function(e){return e.docs[0]})}}]),e}();q.a.plugin(W.a);var ie=function(){function e(t){Object(c.a)(this,e),this.changesCallbacks=[],this.initDb(t)}return Object(A.a)(e,[{key:"initDb",value:function(){var e=Object(Y.a)(G.a.mark(function e(t){var a,n=this;return G.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.AGENT_DD_IDENT=t,this.documentsDB=new q.a("documents"),a={live:!0,retry:!0,filter:"filters/by_user",query_params:{AGENT_DD_IDENT:t}},this.documentsDB.replicate.to(X.couchDb.url_documents,{live:!0,retry:!0}),this.documentsDB.replicate.from(X.couchDb.url_documents,a),this.documentsDB.changes({since:0,live:!0}).on("change",function(){return n.changesCallbacks.map(function(e){return e()})}),this.documentsDB.createIndex({index:{fields:["visite"]}});case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"resetDb",value:function(){var e=Object(Y.a)(G.a.mark(function e(t){return G.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.documentsDB.destroy();case 2:return e.next=4,this.initDb(t);case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"onChanges",value:function(e){this.changesCallbacks.push(e)}},{key:"getAllDocs",value:function(){return this.documentsDB.allDocs({include_docs:!0,descending:!0}).then(function(e){return e.rows.map(function(e){return e.doc}).filter(function(e){return!("_design"==e._id.split("/")[0])})})}},{key:"getDocsByVisiteId",value:function(e){return this.documentsDB.find({selector:{visite:{$elemMatch:e}}}).then(function(e){return e.docs})}},{key:"getDocsByDossierId",value:function(e){return this.documentsDB.find({selector:{dossier:e}}).then(function(e){return e.docs})}},{key:"postDocument",value:function(){var e=Object(Y.a)(G.a.mark(function e(t){var a=this;return G.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var e=Object(Y.a)(G.a.mark(function e(n,r){return G.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t.author=a.AGENT_DD_IDENT,e.next=4,a.documentsDB.post(t);case 4:n(),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),r(e.t0);case 10:case"end":return e.stop()}},e,null,[[0,7]])}));return function(t,a){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},{key:"editName",value:function(){var e=Object(Y.a)(G.a.mark(function e(t){var a=this;return G.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var e=Object(Y.a)(G.a.mark(function e(n,r){return G.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a.documentsDB.put(t);case 3:n(),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),r(e.t0);case 9:case"end":return e.stop()}},e,null,[[0,6]])}));return function(t,a){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},{key:"deleteDocument",value:function(){var e=Object(Y.a)(G.a.mark(function e(t){return G.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.documentsDB.remove(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}]),e}();q.a.plugin(W.a);var oe=function(){function e(t,a){Object(c.a)(this,e),this.initDb=this.initDb.bind(this),this.changesCallbacks=[],this.initDb()}return Object(A.a)(e,[{key:"resetDb",value:function(){var e=Object(Y.a)(G.a.mark(function e(t){return G.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.trameDB.destroy();case 2:return e.next=4,this.initDb();case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"initDb",value:function(){var e=Object(Y.a)(G.a.mark(function e(){var t,a=this;return G.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t={batch_size:1e3,live:!0,retry:!0},this.trameDB=new q.a("trames"),this.trameDB.replicate.from(X.couchDb.url_trames,t).on("change",function(){return a.changesCallbacks.map(function(e){return e()})}),this.trameDB.replicate.to(X.couchDb.url_trames,t).on("change",function(){return a.changesCallbacks.map(function(e){return e()})}),this.trameDB.changes({since:"now",live:!0}).on("change",function(){return a.changesCallbacks.map(function(e){return e()})});case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"getTrameById",value:function(e){return this.trameDB.find({selector:{_id:e}}).then(function(e){return e.docs})}},{key:"getAllDocs",value:function(){return this.trameDB.allDocs({include_docs:!0,descending:!0}).then(function(e){return e.rows.map(function(e){return e.doc}).filter(function(e){return!("_design"==e._id.split("/")[0])})})}},{key:"postDocument",value:function(){var e=Object(Y.a)(G.a.mark(function e(t){return G.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.trameDB.post(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}]),e}(),ce=new(function(){function e(){Object(c.a)(this,e),this.AGENT_DD_IDENT=window.localStorage.getItem("AGENT_DD_IDENT"),this.services={dossier:new ae(this.AGENT_DD_IDENT),visite:new re(this.AGENT_DD_IDENT),activite:new se,trame:new oe,cpf:new le,documents:new ie(this.AGENT_DD_IDENT)},this.ChangeAgent=this.ChangeAgent.bind(this)}return Object(A.a)(e,[{key:"ChangeAgent",value:function(){var e=Object(Y.a)(G.a.mark(function e(t){var a=this;return G.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.AGENT_DD_IDENT=t,window.localStorage.setItem("AGENT_DD_IDENT",t),e.next=4,Promise.all(Object.keys(this.services).map(function(){var e=Object(Y.a)(G.a.mark(function e(n){return G.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.services[n].resetDb(t);case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()));case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}]),e}()),Ae=ce.services.dossier;var ue=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(u.a)(this,Object(p.a)(t).call(this,e))).handleSearchChange=function(e,t){var n=t.value,r=a.state.dossiers.filter(function(e){return e.DOSSIER_LIBELLE&&(e.DOSSIER_LIBELLE.toLowerCase().includes(n.toLowerCase())||e.DOSSIER_OBJ_TRAVAIL.includes(n.toLowerCase()))});a.setState({results:r})},a.state={dossiers:[],results:[],isLoading:!0},a}return Object(m.a)(t,e),Object(A.a)(t,[{key:"loadDossiers",value:function(e){this.setState({dossiers:e,results:e,isLoading:!1})}},{key:"componentDidMount",value:function(){var e=this;Ae.getAllDocs().then(function(t){return e.loadDossiers(t)}),Ae.onChanges(function(){return e.setState({isLoading:!0},function(){Ae.getAllDocs().then(function(t){return e.loadDossiers(t)})})}),this.props.changeNameOfPage(),this.props.changeBackUrl(),this.props.changeActivePage()}}]),Object(A.a)(t,[{key:"render",value:function(){return s.a.createElement(L.a,{fluid:!0,style:{flexGrow:1,width:"100%",margin:0,backgroundColor:"#f2f2f2",borderRadius:5,boxShadow:"0px 0px 0px 0px #f2f2f2",display:"flex",alignItems:"center",flexDirection:"column",height:"100%"}},this.state.isLoading?s.a.createElement(z,null):s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{style:{position:"fixed",zIndex:10,width:"100%",textAlign:"center",backgroundColor:"#f2f2f2",padding:10,display:"flex",justifyContent:"center",verticalAlign:"middle"}},s.a.createElement("div",{style:{flex:1,display:"flex",justifyContent:"center",alignItems:"center",fontWeight:"bold"}},this.state.dossiers.length," dossiers trouv\xe9s."),s.a.createElement("div",{style:{flex:1,maxWidth:200}},s.a.createElement(_.a,{input:{fluid:!0},open:!1,onSearchChange:V.a.debounce(this.handleSearchChange,500)})),s.a.createElement("div",{style:{flex:1,display:"flex",justifyContent:"center",alignItems:"center"}},this.state.results.length," r\xe9sultats.")),s.a.createElement("div",{className:"responsivemargin",style:{backgroundColor:"#f2f2f2"}},s.a.createElement(P.a,null,this.state.results.map(function(e){return s.a.createElement(P.a.Item,{key:e.DOSSIER_IDENT},s.a.createElement("div",{className:"responsivepadding"},3===e.TYPE_DOSSIER_IDENT?s.a.createElement(J,{icon:"folder",iconcolor:"yellow",dossier:e,link:"dossier/"+e.DOSSIER_IDENT,color:"white",type:e.TYPE_DOSSIER_LIBELLE}):2===e.TYPE_DOSSIER_IDENT?s.a.createElement(J,{icon:"info circle",iconcolor:"blue",dossier:e,link:"dossier/"+e.DOSSIER_IDENT,color:"white",type:e.TYPE_DOSSIER_LIBELLE}):s.a.createElement(J,{icon:"plus circle",iconcolor:"grey",dossier:e,link:"dossier/"+e.DOSSIER_IDENT,color:"white",type:e.TYPE_DOSSIER_LIBELLE})))})))))}}]),t}(s.a.Component),pe=Object(o.b)(function(){return{}},function(e){return{changeNameOfPage:function(){return e(I("Mes Dossiers"))},changeBackUrl:function(){return e(T("/menu"))},changeActivePage:function(){return e(S("mesDossiers","/mes-dossiers"))}}})(ue),me=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(A.a)(t,[{key:"render",value:function(){return s.a.createElement(pe,null)}}]),t}(s.a.Component),de=a(90),he=a.n(de),Ee=a(464),fe=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(A.a)(t,[{key:"render",value:function(){return s.a.createElement(x.a.Row,{style:this.props.style},s.a.createElement(x.a.Column,{verticalAlign:"middle",mobile:3,tablet:1,computer:1},s.a.createElement(f.a,{circular:!0,name:this.props.icon,className:"mybutton",style:{marginRight:"10px",color:"white",backgroundColor:"#3C4586"}})),s.a.createElement(x.a.Column,{verticalAlign:"middle",tablet:5,computer:5,mobile:13},s.a.createElement("div",{style:{fontSize:"15px"}},s.a.createElement("span",{style:{fontWeight:"bold"}},this.props.name))),s.a.createElement(x.a.Column,{only:"mobile",mobile:3}),s.a.createElement(x.a.Column,{verticalAlign:"middle",tablet:10,computer:10,mobile:13},s.a.createElement("p",{style:{fontSize:"15px"}},this.props.value)))}}]),t}(s.a.Component),we=function(e){function t(e){return Object(c.a)(this,t),Object(u.a)(this,Object(p.a)(t).call(this,e))}return Object(m.a)(t,e),Object(A.a)(t,[{key:"render",value:function(){var e=this.props.dossier;return e?s.a.createElement(C.a,{style:{padding:5}},s.a.createElement(L.a,{centered:!0,raised:!0,fluid:!0},s.a.createElement(L.a.Content,null,s.a.createElement(L.a.Header,{textAlign:"center"},"Dossier ",e.DOSSIER_LIBELLE),s.a.createElement(L.a.Meta,{textAlign:"center"},3===e.TYPE_DOSSIER_IDENT?s.a.createElement(Ee.a,{content:"Ce dossier est de type enqu\xeate.",position:"bottom center",trigger:s.a.createElement(f.a,{circular:!0,inverted:!0,name:"search",color:"grey",style:{marginRight:10}})}):2===e.TYPE_DOSSIER_IDENT?s.a.createElement(Ee.a,{content:"Ce dossier est de type information.",position:"bottom center",trigger:s.a.createElement(f.a,{circular:!0,inverted:!0,name:"info",color:"grey",style:{marginRight:10}})}):s.a.createElement(Ee.a,{content:"Ce dossier est de type autres.",position:"bottom center",trigger:s.a.createElement(f.a,{circular:!0,inverted:!0,name:"plus",color:"grey",style:{marginRight:10}})}),3===e.TYPE_ENQUETE_IDENT?s.a.createElement(Ee.a,{content:"Ce dossier fait partie d'un programme national.",position:"bottom center",trigger:s.a.createElement(f.a,{circular:!0,inverted:!0,name:"flag",color:"grey",style:{marginLeft:10}})}):s.a.createElement(Ee.a,{content:"Autre enqu\xeate.",position:"bottom center",trigger:s.a.createElement(f.a,{circular:!0,inverted:!0,name:"ellipsis horizontal",color:"grey",style:{marginLeft:10}})}))),s.a.createElement(L.a.Content,null,s.a.createElement(x.a,null,s.a.createElement(fe,{name:"OBJET :",icon:"search",value:s.a.createElement("span",null,e.DOSSIER_OBJ_TRAVAIL)}),s.a.createElement(fe,{name:"OBSERVATIONS :",icon:"plus",value:s.a.createElement("span",null,e.DOSSIER_OBS)}),s.a.createElement(fe,{name:"ACDG :",icon:"file",value:s.a.createElement("span",null," ",e.ACDG_CODE_ACTION," - ",e.ACDG_LIBELLE)}),s.a.createElement(fe,{name:"RESPONSABLE :",icon:"user",value:s.a.createElement("span",null,e.DOSSIER_RESPONSABLE_LIBELLE)}),s.a.createElement(fe,{name:"ATTRIBUTAIRES :",icon:"users",value:s.a.createElement("span",null,e.DOSSIER_ATTRIBUTAIRES)}),s.a.createElement(fe,{name:"DATE CLOTURE :",icon:"lock",value:s.a.createElement("span",null,Q()(e.DOSSIER_DATE_CLOTURE).format("DD/MM/YYYY"))}),s.a.createElement(fe,{name:"DATE LIMITE :",icon:"clock",value:s.a.createElement("span",null,Q()(e.DOSSIER_DATE_LIMITE).format("DD/MM/YYYY"))}))))):s.a.createElement("div",null)}}]),t}(s.a.Component),be=a(55),ge=a(431);var ve=function(e){var t=Object(r.useState)([]),a=Object(be.a)(t,2),n=a[0],l=a[1];function i(){return(i=Object(Y.a)(G.a.mark(function t(){return G.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ce.services.visite.associateTrame(e.visite,n);case 2:e.close(),e.history.push("/visite/"+e.visite.visiteData.VISITE_IDENT);case 4:case"end":return t.stop()}},t)}))).apply(this,arguments)}return s.a.createElement(ge.a,{closeIcon:!0,open:e.opened,onClose:function(){e.close()}},s.a.createElement(ge.a.Header,null,"Pas de trame associ\xe9e \xe0 cette visite."),s.a.createElement(ge.a.Content,null,s.a.createElement(ge.a.Description,null,s.a.createElement(R.a,{as:"h5"},"Veuillez associer une trame \xe0 cette visite."),s.a.createElement(P.a,{divided:!0,relaxed:!0,verticalAlign:"middle",style:{maxHeight:200,overflow:"auto"}},e.trames.map(function(e,t){return s.a.createElement(P.a.Item,{onClick:function(){return l(e)},style:{display:"flex",justifyContent:"center",padding:15,cursor:"pointer",backgroundColor:n===e&&"#f2f2f2"},key:t},s.a.createElement(R.a,{as:"h5"},e.name))}))),s.a.createElement("div",{style:{display:"flex",marginTop:10,justifyContent:"flex-end"}},s.a.createElement(O.a,{color:"green",disabled:0===n.length,onClick:function(){return function(){return i.apply(this,arguments)}()}},"S\xe9lectionner"))))};function De(e){var t=Object(r.useState)(!1),a=Object(be.a)(t,2),n=a[0],l=a[1];return e.visite.visiteData.new_visite?0!=e.visite.visiteData.trame._id?s.a.createElement(d.b,{as:r.Fragment,to:"/visite/"+e.visite.visiteData.VISITE_IDENT},e.children):s.a.createElement(s.a.Fragment,null,s.a.createElement(ve,Object.assign({},e,{visite:e.visite,trames:e.trames,opened:n,close:function(){l(!n)}})),s.a.createElement(r.Fragment,{onClick:function(){return l(!n)},style:{cursor:"pointer"}},e.children)):s.a.createElement(s.a.Fragment,null,e.children)}var Ce=a(436);function xe(e){var t=e.controles;return s.a.createElement(C.a,{style:{padding:"1rem",paddingTop:0}},s.a.createElement(L.a,{centered:!0,raised:!0,fluid:!0},s.a.createElement(L.a.Content,null,t.map(function(e,a){return s.a.createElement(s.a.Fragment,{key:e.CONTROLE_IDENT},s.a.createElement(x.a,null,s.a.createElement(fe,{name:"Action :",icon:"thumbtack",style:{padding:"0.6em"},value:s.a.createElement("span",null,e.ACDG_CODE_ACTION,e.ACDG_LIBELLE)}),s.a.createElement(fe,{name:"Produit :",icon:"cube",style:{padding:"0.6em"},value:s.a.createElement("span",null,e.CPF_CODE_PRODUIT," ",e.CPF_LIBELLE)})),a!==t.length-1&&s.a.createElement(Ce.a,null))}))))}var Oe=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(u.a)(this,Object(p.a)(t).call(this,e))).state={showControles:!1},a}return Object(m.a)(t,e),Object(A.a)(t,[{key:"render",value:function(){var e=this,t=this.props.visite;return s.a.createElement(r.Fragment,{style:{margin:"0.5em"}},s.a.createElement(x.a.Row,{style:{padding:10}},s.a.createElement(j.a,{style:{width:"100%"}},s.a.createElement(x.a,null,s.a.createElement(x.a.Row,{verticalAlign:"middle",style:{padding:0,backgroundColor:!t.visiteData.new_visite&&"#f2f2f2"}},s.a.createElement(x.a.Column,{width:3,onClick:function(){return e.setState({showControles:!e.state.showControles})},style:{backgroundColor:"#f2f2f2",display:"flex",alignItems:"center",justifyContent:"center",height:"100%",cursor:"pointer"}},s.a.createElement(E.a,{minWidth:600},s.a.createElement("div",{style:{display:"flex",flexDirection:"row"}},!t.visiteData.new_visite&&s.a.createElement(f.a,{name:"lock",color:"grey",size:"large"}),s.a.createElement(f.a,{name:"search",color:"grey",size:"large"}),s.a.createElement("div",{style:{borderRadius:"50%",width:"20px",height:"20px",background:"red",color:"white"}},t.controles.length))),s.a.createElement(E.a,{maxWidth:599},s.a.createElement("div",{style:{display:"flex",flexDirection:"row"}},!t.visiteData.new_visite&&s.a.createElement(f.a,{name:"lock",color:"grey",size:"small",style:{fontSize:"1em"}}),s.a.createElement(f.a,{name:"search",color:"grey",size:"small",style:{fontSize:"1em"}}),s.a.createElement("div",{style:{borderRadius:"50%",width:"20px",height:"20px",background:"red",color:"white"}},t.controles.length)))),s.a.createElement(x.a.Column,{width:12},s.a.createElement(De,Object.assign({},this.props,{trames:this.props.trames,visite:t}),s.a.createElement(C.a,null,s.a.createElement(x.a,{verticalAlign:"middle"},s.a.createElement(x.a.Column,{width:8,textAlign:"left"},s.a.createElement(x.a.Row,null,s.a.createElement(R.a,{as:"h3",style:{color:"grey",overflowWrap:"break-word"}},t.visiteData.ETOB_RAISON_SOCIALE)),s.a.createElement(x.a.Row,null,s.a.createElement(R.a,{as:"h6",style:{fontWeight:"normal"}},t.visiteData.VISITE_AGENT_LIBELLE))),s.a.createElement(x.a.Column,{width:7},s.a.createElement(x.a.Row,null,s.a.createElement(R.a,{as:"h6",style:{fontWeight:"normal"}})),s.a.createElement(x.a.Row,null,s.a.createElement(E.a,{minWidth:600},s.a.createElement(R.a,{as:"h4",style:{overflowWrap:"break-word"}},t.visiteData.ETOB_ADR1," ",t.visiteData.ETOB_ADR2," ",t.visiteData.ETOB_ADR3," -"," ",t.visiteData.ETOB_ADRVILLE)),s.a.createElement(E.a,{maxWidth:600,style:{overflowWrap:"break-word"}},s.a.createElement(R.a,{as:"h4"},t.visiteData.ETOB_ADR1," ",t.visiteData.ETOB_ADR2," ",t.visiteData.ETOB_ADR3," -"," ",t.visiteData.ETOB_ADRVILLE))),s.a.createElement(x.a.Row,null,s.a.createElement(R.a,{as:"h4",style:{fontWeight:"normal",fontStyle:"italic"}},Q()(t.visiteData.VISITE_DATE_INTERVENTION).format("DD/MM/YYYY")))))))),t.visiteData.new_visite&&s.a.createElement(x.a.Column,{as:d.b,to:"/modify-visite/"+t.visiteData.VISITE_IDENT,width:1,floated:"right"},s.a.createElement(f.a,{name:"pencil"})))))),this.state.showControles&&s.a.createElement(xe,{controles:t.controles}))}}]),t}(r.Component),ye=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(u.a)(this,Object(p.a)(t).call(this,e))).state={trames:[]},a}return Object(m.a)(t,e),Object(A.a)(t,[{key:"componentDidMount",value:function(){var e=Object(Y.a)(G.a.mark(function e(){var t;return G.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ce.services.trame.getAllDocs();case 3:t=e.sent,this.setState({trames:t}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}},e,this,[[0,7]])}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return this.props.visitesList?s.a.createElement("div",null,s.a.createElement("div",{style:{backgroundColor:"#f2f2f2",position:"fixed",zIndex:10,display:"flex",width:"100%",justifyContent:"space-between",alignItems:"center",height:70}},s.a.createElement("div",{style:{flex:1,maxWidth:200}},s.a.createElement(_.a,{input:{fluid:!0},open:!1})),s.a.createElement("div",{style:{flex:2,textAlign:"right"}},s.a.createElement(d.b,{to:"/nouvelle-visite/"+this.props.dossierid},s.a.createElement(O.a,{style:{padding:5},icon:!0,basic:!0,color:"blue"},s.a.createElement("div",null,s.a.createElement(f.a,{name:"plus",size:"large"}),"Cr\xe9er une visite"))))),s.a.createElement("div",{style:{paddingTop:70}},this.props.visitesList.length>0?this.props.visitesList.map(function(t,a){return s.a.createElement(Oe,Object.assign({},e.props,{trames:e.state.trames,visite:t,key:a}))}):s.a.createElement(j.a,{style:{fontStyle:"italic"}}," ","Pas encore de visites pour ce dossier!"," "))):s.a.createElement(z,null)}}]),t}(s.a.Component),Ie=a(812),Te=a(809);a(710);var Se=function(e){return s.a.createElement(ge.a,{closeIcon:!0,basic:!0,open:e.opened,onClose:function(){e.close()}},s.a.createElement("a",{href:e.document.document,download:e.document.name},s.a.createElement(f.a,{name:"download",style:{cursor:"pointer",position:"absolute",top:"1rem",right:"3.5rem",zIndex:"1",opacity:.8,fontSize:"1.25em",color:"#fff",width:"2.25rem",height:"2.25rem",padding:".625rem 0 0 0"}})),s.a.createElement(ge.a.Header,{style:{display:"flex",justifyContent:"center"}},e.document.name,s.a.createElement("div",{style:{justifyContent:"right"}})),s.a.createElement(ge.a.Content,{style:{display:"flex",justifyContent:"center"}},s.a.createElement("img",{src:e.document.document,className:"image"})))},ke=(a(711),a(27)),Ne=a(284),Be=ce.services.documents;function Le(e){var t=e.split(".");return[t.slice(0,-1).join("."),t.slice(-1)]}var _e=function(e){function t(e,a){var n;return Object(c.a)(this,t),(n=Object(u.a)(this,Object(p.a)(t).call(this,e,a))).handleDoubleClick=function(e){n.editName(e)},n.state={modal:!1,documentSelected:null,documentname:null,documentEdited:null},n.handleChangeName=n.handleChangeName.bind(Object(ke.a)(n)),n.deleteDocument=n.deleteDocument.bind(Object(ke.a)(n)),n.clickCount=null,n.singleClickTimer="",n}return Object(m.a)(t,e),Object(A.a)(t,[{key:"handleClicks",value:function(e){this.clickCount++,1===this.clickCount?this.singleClickTimer=setTimeout(function(){this.clickCount=0}.bind(this),300):2===this.clickCount&&(clearTimeout(this.singleClickTimer),this.clickCount=0,this.handleDoubleClick(e))}},{key:"showModal",value:function(e){this.setState({modal:!0,documentSelected:e})}},{key:"closeModal",value:function(){this.setState({modal:!1})}},{key:"handleChangeName",value:function(e,t){this.setState({documentname:t.value})}},{key:"editName",value:function(e){this.setState({documentEdited:e,documentname:Le(e.name)[0]})}},{key:"validateName",value:function(e){e.name=this.state.documentname+"."+Le(e.name)[1],Be.editName(e).catch(function(e){return console.log(e)})}},{key:"getColor",value:function(e){return e.includes("image")?["teal","file image"]:e.includes("pdf")?["red","file pdf"]:e.includes("sheet")?["green","file excel"]:e.includes("word")||e.includes("opendocument.text")?["blue","file word"]:["grey","file"]}},{key:"deleteDocument",value:function(){var e=Object(Y.a)(G.a.mark(function e(t,a){return G.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.stopPropagation(),t.nativeEvent.stopImmediatePropagation(),e.t0=window.confirm("\xcates-vous s\xfbr de vouloir supprimer ce document?"),!e.t0){e.next=6;break}return e.next=6,Be.deleteDocument(a);case 6:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.props.documents;return s.a.createElement(s.a.Fragment,null,this.state.modal&&this.state.documentSelected&&s.a.createElement(Se,{document:this.state.documentSelected,opened:this.state.modal,close:function(){return e.closeModal()}}),s.a.createElement("div",{style:{display:"flex",flexWrap:"wrap",justifyContent:"center",paddingBottom:110}},t.map(function(t,a){return s.a.createElement("div",{key:a,style:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column"}},s.a.createElement(O.a,{style:{margin:"1em",marginBottom:"1em",display:"flex",height:"10em",width:"10em",justifyContent:"center",alignItems:"center",position:"relative"},basic:!0,color:e.getColor(t.type)[0]},s.a.createElement(s.a.Fragment,null,s.a.createElement(O.a,{as:"a",color:e.getColor(t.type)[0],style:{background:"none"},icon:!0,href:t.type.includes("image")?void 0:t.document,download:t.name,onClick:function(){t.type.includes("image")&&e.showModal(t)}},t.type.includes("image")?s.a.createElement("img",{src:t.document,style:{maxWidth:"8em",maxHeight:"8em"}}):s.a.createElement(f.a,{style:{display:"flex",justifyContent:"center",alignItems:"center",fontSize:"4em",margin:0,color:e.getColor(t.type)[0]},name:e.getColor(t.type)[1]})),s.a.createElement(f.a,{style:{position:"absolute",top:10,right:0,fontSize:"2em",cursor:"pointer"},name:"times",color:"red",onClick:function(a){return e.deleteDocument(a,t)}}))),s.a.createElement("div",{className:"hidescrollbar",style:{width:"10em",display:"flex",justifyContent:"center",height:50}},e.state.documentEdited!=t?s.a.createElement(s.a.Fragment,null,s.a.createElement(R.a,{onClick:function(){return e.handleClicks(t)},as:"h4",className:"hidescrollbar",style:{overflowWrap:"break-word",overflowX:"hidden"},color:e.getColor(t.type)[0]},t.name),s.a.createElement(f.a,{onClick:function(){return e.editName(t)},style:{marginLeft:5,cursor:"pointer"},name:"pencil",color:"grey"})):s.a.createElement("div",{style:{height:30}},s.a.createElement(Ne.a,{style:{height:30},value:e.state.documentname,onChange:e.handleChangeName}),s.a.createElement(f.a,{onClick:function(){return e.validateName(t)},name:"check",color:"grey",style:{marginLeft:5,cursor:"pointer"}}))))})))}}]),t}(r.Component),Pe=ce.services.visite,je=ce.services.documents;function Re(e){return new Promise(function(t,a){var n=new FileReader;n.readAsDataURL(e),n.onload=function(){return t(n.result)},n.onerror=function(e){return a(e)}})}var Me=function(e){function t(e,a){var n;return Object(c.a)(this,t),(n=Object(u.a)(this,Object(p.a)(t).call(this,e,a))).handleChange=function(e,t){n.setState({activeIndex:t})},n.handleChangeIndex=function(e){n.setState({activeIndex:e})},n.exportToSora=Object(Y.a)(G.a.mark(function e(){return G.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.confirm("\xcates-vous sur de vouloir exporter cette visite dans SORA.\n Vous ne pourrez plus modifier la visite dans SESAM et vous perdrez la trame li\xe9e \xe0 la visite.")){e.next=4;break}return e.next=3,Pe.exportToSora(n.props.match.params.id);case 3:n.props.history.goBack();case 4:case"end":return e.stop()}},e)})),n.fileInputRef=s.a.createRef(),n.fileChange=function(e){n.setState({file:e.target.files[0]},Object(Y.a)(G.a.mark(function e(){var t,a;return G.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=n.state.file,e.next=4,Re(n.state.file);case 4:return a=e.sent,e.next=7,je.postDocument({document:a,name:t.name,type:t.type,visite:n.props.dossier?n.props.visitesList.map(function(e){return e.visiteData.VISITE_IDENT}):[n.props.visiteid],date:Date.now(),dossier:n.props.dossier?n.props.dossierid:null,categorie:0===n.state.activeIndex?"support":"joint"});case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log("Error while sending file.");case 12:case"end":return e.stop()}},e,null,[[0,9]])})))},n.state={file:null,documents:null,activeIndex:0},n.reader=new FileReader,n}return Object(m.a)(t,e),Object(A.a)(t,[{key:"loadDocuments",value:function(e){e.sort(function(e,t){return e.date>t.date?1:-1}),this.setState({documents:e})}},{key:"componentDidMount",value:function(){var e=this;this.props.dossier?je.getDocsByDossierId(this.props.dossierid).then(function(t){e.loadDocuments(t)}):je.getDocsByVisiteId(this.props.visiteid).then(function(t){e.loadDocuments(t)}),je.onChanges(function(){return e.props.dossier?je.getDocsByDossierId(e.props.dossierid).then(function(t){e.loadDocuments(t)}):je.getDocsByVisiteId(e.props.visiteid).then(function(t){e.loadDocuments(t)})})}},{key:"render",value:function(){var e=this,t=this.state.documents;return s.a.createElement("div",{style:{display:"flex",flexDirection:"column",height:"100%"}},this.props.visitesList||this.props.visiteid?s.a.createElement("div",{style:{flex:1}},!this.props.dossier&&s.a.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",marginBottom:20}},s.a.createElement(O.a,{icon:!0,style:{position:"absolute",right:10,marginTop:4},labelPosition:"left",onClick:this.exportToSora},s.a.createElement(f.a,{name:"share square"}),s.a.createElement(E.a,{minWidth:540},"Exporter")),s.a.createElement(Ie.a,{value:this.state.activeIndex,fullWidth:!0,onChange:this.handleChange,TabIndicatorProps:{style:{backgroundColor:"#00b5ad"}}},s.a.createElement(Te.a,{label:"Supports"}),s.a.createElement(Te.a,{label:"Joints"}),s.a.createElement(Te.a,{label:"Photos"}))),2!=this.state.activeIndex&&s.a.createElement(s.a.Fragment,null,s.a.createElement(O.a,{style:{background:"#3C4586",color:"white"},content:"Ajouter un fichier",labelPosition:"left",icon:"file",onClick:function(){return e.fileInputRef.current.click()}}),s.a.createElement("input",{ref:this.fileInputRef,type:"file",hidden:!0,onChange:this.fileChange}))):s.a.createElement(z,null),t?s.a.createElement("div",{style:{flex:10,overflowY:"auto"}},this.props.dossier?s.a.createElement(_e,{documents:t.filter(function(e){return"support"===e.categorie})}):s.a.createElement(he.a,{style:{height:"100%"},slideStyle:{height:"100%",overflow:"auto"},slideClassName:"hidescrollbar",index:this.state.activeIndex,onChangeIndex:this.handleChangeIndex},s.a.createElement(_e,{documents:t.filter(function(e){return"support"===e.categorie})}),s.a.createElement(_e,{documents:t.filter(function(e){return"joint"===e.categorie})}),s.a.createElement(_e,{documents:t.filter(function(e){return"photo"===e.categorie})}))):s.a.createElement(z,null))}}]),t}(r.Component),Qe=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(A.a)(t,[{key:"render",value:function(){return s.a.createElement(Me,Object.assign({dossier:!0},this.props))}}]),t}(r.Component),Je=ce.services.dossier,He=ce.services.visite;var Ve=function(e){function t(e,a){var n;return Object(c.a)(this,t),(n=Object(u.a)(this,Object(p.a)(t).call(this,e,a))).handleChange=function(e,t){n.setState({activeIndex:t})},n.handleChangeIndex=function(e){n.setState({activeIndex:e})},n.state={activeIndex:0,dossier:null,isLoading:!0,visitesList:null},n}return Object(m.a)(t,e),Object(A.a)(t,[{key:"loadDossier",value:function(e){var t=this;this.setState({dossier:e},function(){t.state.dossier&&t.props.changeNameOfPage(t.state.dossier.DOSSIER_LIBELLE)})}},{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.id;He.getVisitesByDossier(t).then(function(t){return e.setState({visitesList:t,isLoading:!1})}),He.onChanges(function(){return e.setState({isLoading:!0},function(){He.getVisitesByDossier(t).then(function(t){e.setState({visitesList:t,isLoading:!1})})})}),this.props.changeNameOfPage("Dossier "+this.props.match.params.id),this.props.changeBackUrl(),this.props.changeActivePage("/dossier/"+this.props.match.params.id),Je.getDossierById(this.props.match.params.id).then(function(t){return e.loadDossier(t)})}},{key:"render",value:function(){return s.a.createElement("div",{style:{flex:1,display:"flex",width:"100%",height:"100%",justifyContent:"center"}},this.state.dossier?s.a.createElement(C.a,{style:{overflow:"hidden",height:"100%",width:"100%"}},s.a.createElement(x.a,{centered:!0,style:{height:"100%",flex:1,flexDirection:"column",flexWrap:"nowrap",overflow:"hidden"}},s.a.createElement(x.a.Row,{style:{flex:1}},s.a.createElement(Ie.a,{value:this.state.activeIndex,fullWidth:!0,onChange:this.handleChange},s.a.createElement(Te.a,{label:"Infos"}),3===this.state.dossier.TYPE_DOSSIER_IDENT&&s.a.createElement(Te.a,{label:"Visites"}),s.a.createElement(Te.a,{label:"Documents"}))),s.a.createElement(C.a,{style:{flex:10,overflow:"hidden"},className:"hidescrollbar responsivecontainer"},3===this.state.dossier.TYPE_DOSSIER_IDENT?s.a.createElement(he.a,{style:{height:"100%"},slideStyle:{height:"100%",overflow:"auto"},slideClassName:"hidescrollbar",index:this.state.activeIndex,onChangeIndex:this.handleChangeIndex},s.a.createElement(we,{dossier:this.state.dossier}),s.a.createElement(ye,Object.assign({visitesList:this.state.visitesList,dossierid:this.state.dossier.DOSSIER_IDENT},this.props)),s.a.createElement(Qe,Object.assign({visitesList:this.state.visitesList,dossierid:this.state.dossier.DOSSIER_IDENT},this.props))):s.a.createElement(he.a,{style:{height:"100%"},slideStyle:{height:"100%",overflow:"auto"},slideClassName:"hidescrollbar",index:this.state.activeIndex,onChangeIndex:this.handleChangeIndex},s.a.createElement(we,{dossier:this.state.dossier}),s.a.createElement(Qe,Object.assign({},this.props,{visitesList:this.state.visitesList,dossierid:this.state.dossier.DOSSIER_IDENT})))))):s.a.createElement(z,null))}}]),t}(s.a.Component),Ue=Object(o.b)(function(){return{}},function(e){return{changeNameOfPage:function(t){return e(I(t))},changeBackUrl:function(){return e(T("/mes-dossiers"))},changeActivePage:function(t){return e(S("mesDossiers",t))}}})(Ve),ze=a(439),Fe=a(259),Ge=a(440),Ye=a(114),qe=a(213),We=a(341),Ke=a(285),Xe=a(441),Ze=a(340),$e=ce.services.dossier,et=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(u.a)(this,Object(p.a)(t).call(this,e))).loadDossiers=function(e){var t=[];e.forEach(function(e){for(var a=0;a<e.TAPR_LIBELLE.length;a+=1)"[*]Non d\xe9fini"!==e.TAPR_LIBELLE[a]&&0===t.filter(function(t){return t.dossierId===e.DOSSIER_IDENT&&t.tacheId===e.TAPR_IDENT[a]}).length&&(t=t.concat([{dossierId:e.DOSSIER_IDENT,dossierText:e.DOSSIER_LIBELLE,tacheId:e.TAPR_IDENT[a],tacheText:e.TAPR_LIBELLE[a]+e.TAPR_LIBELLE_COURT[a]}])),0===t.filter(function(t){return t.dossierId===e.DOSSIER_IDENT}).length&&(t=t.concat([{dossierId:e.DOSSIER_IDENT,dossierText:e.DOSSIER_LIBELLE,tacheId:-1,tacheText:"Aucune"}]))}),a.setState({tabDossiersTaches:t,allTaches:t.map(function(e){return{key:e.tacheId,text:e.tacheText,value:e.tacheId}}).filter(function(e){return-1!==e.key})},function(){return a.handleDossierChange(a.props.DOSSIER_IDENT)});var n=e.filter(function(e){return!("Information"===e.TYPE_DOSSIER_LIBELLE)}).map(function(e){return{key:e.DOSSIER_IDENT,text:e.DOSSIER_LIBELLE,value:e.DOSSIER_IDENT}});a.setState({dossiers:n,optionsDossiers:n})},a.handleDossierChange=function(e){-1===e?a.setState({taches:a.state.allTaches},function(){return a.props.tacheChange(a.state.taches[0].key,a.state.taches[0].text)}):a.setState({taches:a.state.tabDossiersTaches.filter(function(t){return t.dossierId===e}).map(function(e){return{key:e.tacheId,text:e.tacheText,value:e.tacheId}})},function(){return a.props.tacheChange(a.state.taches[0].key,a.state.taches[0].text)})},a.handleTacheChange=function(e){a.setState({optionsDossiers:a.optionsDossierField(e)})},a.optionsDossierField=function(e){return 0===a.props.TAPR_IDENT?a.state.dossiers:-1===e?a.state.tabDossiersTaches.filter(function(e){return e.tacheId===a.props.TAPR_IDENT}).map(function(e){return{key:e.dossierId,value:e.dossierId,text:e.dossierText}}):a.state.dossiers},a.state={dossiers:[],taches:[],allTaches:[],tabDossiersTaches:[],optionsDossiers:[]},a}return Object(m.a)(t,e),Object(A.a)(t,[{key:"componentDidMount",value:function(){var e=this;$e.getAllDocs().then(function(t){return e.loadDossiers(t)})}},{key:"render",value:function(){var e=this;return s.a.createElement(ze.a.Group,{widths:"equal"},s.a.createElement(ze.a.Field,{required:!0,control:Ze.a,options:[{key:-1,text:"Rechercher par t\xe2che programm\xe9e",value:-1}].concat(this.state.optionsDossiers),label:"Dossier",search:!0,onChange:function(t,a){return e.props.dossierChange(a.value,t.currentTarget.innerText),e.handleDossierChange(a.value)},value:this.props.DOSSIER_IDENT}),s.a.createElement(ze.a.Field,{required:!0,control:Ze.a,options:[{key:0,text:"Rechercher par dossier",value:0}].concat(this.state.taches),label:"T\xe2che Programm\xe9e",placeholder:"T\xe2che Programm\xe9e",search:!0,onChange:function(t,a){return e.props.tacheChange(a.value,t.currentTarget.innerText),e.handleTacheChange(e.props.DOSSIER_IDENT)},value:this.props.TAPR_IDENT}))}}]),t}(s.a.Component),tt=[{text:"1 Production transform\xe9e (usine, atelier)",value:1,key:1},{text:"2 Importation / Introduction",value:2,key:2},{text:"3 Commerce de gros",value:3,key:3},{text:"4 Commerce de d\xe9tail",value:4,key:4},{text:"5 Service",value:5,key:5},{text:"6 Non s\xe9dentaire (march\xe9s forains)",value:6,key:6},{text:"7 Exportation / Exp\xe9dition",value:7,key:7},{text:"8 Production primaire (culture, \xe9levage)",value:8,key:8},{text:"9 Importation (contr\xf4le sous-douane)",value:9,key:9}],at=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(A.a)(t,[{key:"render",value:function(){return s.a.createElement(ze.a.Field,{required:!0,control:Ze.a,options:tt,label:"Stade",placeholder:"Stade",search:!0,defaultValue:this.props.STADE_PRODUIT_IDENT,onChange:this.props.onChange})}}]),t}(s.a.Component),nt=ce.services.activite,rt=ce.services.cpf,st=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(u.a)(this,Object(p.a)(t).call(this,e))).state={activites:[],cpf:[]},a}return Object(m.a)(t,e),Object(A.a)(t,[{key:"loadActivites",value:function(e){var t=e.filter(function(e){return 1===e.ACDG_ENQUETE_FLAG&&!e.ACDG_CODE_LIB_NIVEAU3.includes("[Obsolet]")}).map(function(e){return{key:e.ACDG_IDENT,text:e.ACDG_CODE_LIB_NIVEAU3,value:e.ACDG_IDENT}});this.setState({activites:t})}},{key:"loadCpf",value:function(e){var t=e.filter(function(e){return!e.CPF_CODE_LIBELLE.includes("[Obsolet]")}).map(function(e){return{key:e.CPF_IDENT,text:e.CPF_CODE_LIBELLE,value:e.CPF_IDENT}});this.setState({cpf:t})}},{key:"componentDidMount",value:function(){var e=this;nt.getAllDocs().then(function(t){return e.loadActivites(t)}),rt.getAllDocs().then(function(t){return e.loadCpf(t)})}},{key:"render",value:function(){return s.a.createElement(ze.a.Group,{widths:"equal"},s.a.createElement(ze.a.Field,{required:!0,lazyLoad:!0,control:Ze.a,options:this.state.activites,label:"Code DG",placeholder:"Code DG",search:!0,defaultValue:this.props.ACDG_IDENT,onChange:this.props.activiteChange}),s.a.createElement(ze.a.Field,{lazyLoad:!0,required:!0,control:Ze.a,options:this.state.cpf,label:"Code CPF",placeholder:"Code CPF",search:!0,defaultValue:this.props.CPF_IDENT,onChange:this.props.cpfChange}))}}]),t}(s.a.Component),lt=function(e){function t(e){var a;return Object(c.a)(this,t),a=Object(u.a)(this,Object(p.a)(t).call(this,e)),e.controle?a.state={controle:Object(ne.a)({},e.controle,{DOSSIER_IDENT:e.controle.DOSSIER_IDENT,dossierText:e.controle.dossierText,TAPR_IDENT:e.controle.TAPR_IDENT,tacheText:e.controle.tacheText,ACDG_IDENT:e.controle.ACDG_IDENT,activiteText:e.controle.ACDG_CODE_LIB_NIVEAU3,CPF_IDENT:e.controle.CPF_IDENT,STADE_PRODUIT_IDENT:e.controle.STADE_PRODUIT_IDENT,ident:e.controle.ident})}:a.state={controle:{DOSSIER_IDENT:parseInt(a.props.dossier.id),dossierText:a.props.dossier.text,TAPR_IDENT:0,tacheText:"",ACDG_IDENT:0,activiteText:"",CPF_IDENT:0,STADE_PRODUIT_IDENT:-1}},a}return Object(m.a)(t,e),Object(A.a)(t,[{key:"render",value:function(){var e=this;return s.a.createElement(ze.a,null,s.a.createElement(et,{dossierChange:function(t,a){return e.setState({controle:Object(ne.a)({},e.state.controle,{DOSSIER_IDENT:t,dossierText:a})})},tacheChange:function(t,a){return e.setState({controle:Object(ne.a)({},e.state.controle,{TAPR_IDENT:t,tacheText:a})})},DOSSIER_IDENT:this.state.controle.DOSSIER_IDENT,TAPR_IDENT:this.state.controle.TAPR_IDENT}),s.a.createElement(st,{activiteChange:function(t,a){return e.setState({controle:Object(ne.a)({},e.state.controle,{ACDG_IDENT:a.value,activiteText:t.currentTarget.innerText})})},cpfChange:function(t,a){e.setState({controle:Object(ne.a)({},e.state.controle,{CPF_IDENT:a.value})})},ACDG_IDENT:this.state.controle.ACDG_IDENT,CPF_IDENT:this.state.controle.CPF_IDENT}),s.a.createElement(at,{onChange:function(t,a){return e.setState({controle:Object(ne.a)({},e.state.controle,{STADE_PRODUIT_IDENT:a.value})})},STADE_PRODUIT_IDENT:this.state.controle.STADE_PRODUIT_IDENT}),s.a.createElement(ze.a.Button,{onClick:function(){return e.props.onSubmit(e.state.controle)}},"Valider"))}}]),t}(s.a.Component),it=ce.services.activite,ot=ce.services.cpf,ct=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(u.a)(this,Object(p.a)(t).call(this,e))).displayNoControleAlert=function(){return 0===a.props.controles.length?s.a.createElement(Xe.a.Body,null,s.a.createElement(Xe.a.Row,null,s.a.createElement(Xe.a.Cell,null,"Aucun contr\xf4le n'a \xe9t\xe9 renseign\xe9 pour l'instant."))):s.a.createElement(Xe.a.Header,null,s.a.createElement(Xe.a.Row,null,s.a.createElement(Xe.a.HeaderCell,null,"Dossier"),s.a.createElement(Xe.a.HeaderCell,null,"Code Action"),s.a.createElement(Xe.a.HeaderCell,{float:"right"})))},a.deleteControle=function(e){a.props.changeControle(a.props.controles.map(function(t){return t.ident===e?Object(ne.a)({},t,{_deleted:!0}):t}))},a.displayMessage=function(e){if(e)return s.a.createElement(Ge.a,{negative:!0},s.a.createElement("p",null,e))},a.state={countControl:1,addModalOpen:!1,addModalErrorMessage:"",modifyModalOpen:!1,modifyModalErrorMessage:"",controleModified:{}},a.submitAddControle=a.submitAddControle.bind(Object(ke.a)(a)),a.submitModifyControle=a.submitModifyControle.bind(Object(ke.a)(a)),a}return Object(m.a)(t,e),Object(A.a)(t,[{key:"submitAddControle",value:function(){var e=Object(Y.a)(G.a.mark(function e(t){var a,n;return G.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.DOSSIER_IDENT&&t.TAPR_IDENT&&t.ACDG_IDENT&&t.CPF_IDENT&&t.STADE_PRODUIT_IDENT){e.next=4;break}this.setState({addModalErrorMessage:"Veuillez renseigner tous les champs obligatoires."}),e.next=13;break;case 4:return t.ident=this.state.countControl,e.next=7,ot.getCpfById(t.CPF_IDENT);case 7:return a=e.sent,e.next=10,it.getActiviteById(t.ACDG_IDENT);case 10:n=e.sent,this.setState({countControl:this.state.countControl+1,addModalOpen:!1,AddModalMessage:""}),this.props.changeControle(this.props.controles.concat([Object(ne.a)({},t,a,n,{_id:void 0,_rev:void 0})]));case 13:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"submitModifyControle",value:function(){var e=Object(Y.a)(G.a.mark(function e(t,a){var n,r;return G.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.DOSSIER_IDENT&&t.TAPR_IDENT&&t.ACDG_IDENT&&t.CPF_IDENT&&t.STADE_PRODUIT_IDENT){e.next=4;break}this.setState({modifyModalErrorMessage:"Veuillez renseigner tous les champs obligatoires."}),e.next=12;break;case 4:return e.next=6,ot.getCpfById(t.CPF_IDENT);case 6:return n=e.sent,e.next=9,it.getActiviteById(t.ACDG_IDENT);case 9:r=e.sent,this.setState({modifyModalOpen:!1,modifyModalMessage:""}),this.props.changeControle(this.props.controles.map(function(e){return e.ident===a?t._id?Object(ne.a)({},t,n,r,{_id:t._id,_rev:t._rev}):Object(ne.a)({},t,n,r):e}));case 12:case"end":return e.stop()}},e,this)}));return function(t,a){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return s.a.createElement(C.a,null,s.a.createElement("p",{style:{fontWeight:"bold"}},"Actions de Contr\xf4le :"),s.a.createElement(ge.a,{trigger:s.a.createElement(O.a,{onClick:function(){return e.setState({addModalOpen:!0})}},"Ajouter une action de contr\xf4le"),open:this.state.addModalOpen},s.a.createElement(ge.a.Header,null,s.a.createElement("span",null,"Ajouter une action de contr\xf4le"),s.a.createElement(O.a,{floated:"right",onClick:function(){e.setState({addModalOpen:!1})}},"Close")),s.a.createElement(ge.a.Content,null,this.displayMessage(this.state.addModalErrorMessage),s.a.createElement(lt,{onSubmit:this.submitAddControle,dossier:this.props.dossier}))),s.a.createElement(ge.a,{open:this.state.modifyModalOpen},s.a.createElement(ge.a.Header,null,s.a.createElement("span",null,"Modifier une action de contr\xf4le"),s.a.createElement(O.a,{floated:"right",onClick:function(){e.setState({modifyModalOpen:!1})}},"Close")),s.a.createElement(ge.a.Content,null,this.displayMessage(this.state.modifyModalErrorMessage),s.a.createElement(lt,{onSubmit:function(t){return e.submitModifyControle(t,t.ident)},controle:this.state.controleModified,dossier:{id:this.state.controleModified.DOSSIER_IDENT,text:this.state.controleModified.dossierText}}))),s.a.createElement(Xe.a,{stackable:!0},this.displayNoControleAlert(),s.a.createElement(Xe.a.Body,null,this.props.controles.filter(function(e){return!0!==e._deleted}).map(function(t){return s.a.createElement(Xe.a.Row,{key:t.ident},s.a.createElement(Xe.a.Cell,null,t.dossierText),s.a.createElement(Xe.a.Cell,null,t.activiteText),s.a.createElement(Xe.a.Cell,{width:3},s.a.createElement("div",{style:{height:"39px"}},s.a.createElement(O.a,{floated:"right",color:"red",icon:"trash alternate",style:{margin:"3px"},onClick:function(){return e.deleteControle(t.ident)}}),s.a.createElement(O.a,{floated:"right",icon:"pencil",color:"blue",style:{margin:"3px"},onClick:function(){return e.setState({modifyModalOpen:!0,controleModified:t})}}))))}))))}}]),t}(s.a.Component),At=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(u.a)(this,Object(p.a)(t).call(this,e))).state={searchResults:[]},a}return Object(m.a)(t,e),Object(A.a)(t,[{key:"changeSearchResults",value:function(){var e=Object(Y.a)(G.a.mark(function e(t){var a,n;return G.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,$.a.get(X.backend.base_url+"/entreprise/search?query="+t);case 3:a=e.sent,n=a.data,this.setState({searchResults:n.map(function(e){return{key:e.ETOB_SIRET,value:[e.ETOB_SIRET,e.ETOB_IDENT],text:e.ETOB_RAISON_SOCIALE}})}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}},e,this,[[0,8]])}));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return s.a.createElement(ze.a.Group,{widths:"equal"},s.a.createElement(ze.a.Field,{fluid:!0,control:Ze.a,search:!0,options:this.state.searchResults.concat([{key:this.props.ETOB_SIRET,value:[this.props.ETOB_SIRET,this.props.ETOB_IDENT],text:this.props.ETOB_RAISON_SOCIALE}]),required:!0,label:"Raison Sociale",placeholder:"Rechercher",onSearchChange:function(t,a){e.changeSearchResults(a.searchQuery),e.props.changeRaisonSocialeValue(a.searchQuery)},onChange:function(t,a){e.props.changeRaisonSocialeValue(t.currentTarget.innerText),e.props.changeSiretValue(a.value[0]),e.props.changeEtabIdentValue(a.value[1])},value:[this.props.ETOB_SIRET,this.props.ETOB_IDENT]}),s.a.createElement(ze.a.Input,{fluid:!0,required:!0,label:"SIRET",placeholder:"SIRET",onChange:function(t){return e.props.changeSiretValue(t.target.value)},value:this.props.ETOB_SIRET}))}}]),t}(s.a.Component),ut=ce.services.visite,pt=ce.services.dossier,mt=a(34);var dt=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(u.a)(this,Object(p.a)(t).call(this,e))).displayTrame=function(){if(a.props.match.params.dossierId)return s.a.createElement(ze.a.Group,{style:{margin:0}},s.a.createElement(x.a,{style:{width:"100%",margin:0},verticalAlign:"bottom"},s.a.createElement(Fe.a,{style:{display:"flex"}},s.a.createElement(x.a.Column,{width:16,style:{padding:0}},s.a.createElement(ze.a.Select,{fluid:!0,placeholder:"Trame",label:"Trame associ\xe9e",style:{width:"100%"},options:a.state.trameList.map(function(e){return{key:e._id,text:e.name,value:e}}),onChange:function(e,t){var n=t.value;return a.setState({trame:n})}})))))},a.displayMessage=function(e){if(e)return s.a.createElement(Ge.a,{fluid:!0,negative:!0,onDismiss:function(){return a.setState({message:""})},style:{marginTop:"10px"}},s.a.createElement(Ge.a.Header,{style:{marginBottom:"5px"}},"Validation Impossible"),s.a.createElement(Ge.a.Content,null,e))},a.state={VIS_CPMM:!1,VIS_MUTUALISEE:!1,VIS_DATE:mt().format("DD-MM-YYYY"),ETOB_RAISON_SOCIALE:"",ETOB_SIRET:"",ETOB_IDENT:-1,VIS_OBSERVATIONS:"",trame:"",trameList:[{_id:0,name:"Aucune trame"}],controlesList:[],message:"",DOSSIER_IDENT:-1,dossierText:"",visiteIdent:void 0,visite:void 0},a.onSubmit=a.onSubmit.bind(Object(ke.a)(a)),a}return Object(m.a)(t,e),Object(A.a)(t,[{key:"componentDidMount",value:function(){var e=Object(Y.a)(G.a.mark(function e(){var t,a,n,r,s,l,i,o=this;return G.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.props.match.params.visiteId){e.next=26;break}return this.props.changeNameOfPage("Modification de visite"),this.props.changeBackUrl("/visite/"+this.props.match.params.visiteId.toString()),this.props.changeActivePage("/modify-visite/"+this.props.match.params.visiteId),e.next=6,ut.getVisiteById(this.props.match.params.visiteId);case 6:return t=e.sent,e.next=9,ut.getControlesByVisite(this.props.match.params.visiteId);case 9:return a=e.sent,e.next=12,pt.getDossierById(a[0].DOSSIER_IDENT);case 12:n=e.sent,r=[],e.t0=G.a.keys(a);case 15:if((e.t1=e.t0()).done){e.next=23;break}return s=e.t1.value,e.next=19,pt.getDossierById(a[s].DOSSIER_IDENT);case 19:l=e.sent,r=r.concat([Object(ne.a)({},a[s],{dossierText:l.DOSSIER_LIBELLE,activiteText:a[s].ACDG_CODE_LIB_NIVEAU3,ident:a[s].CONTROLE_IDENT,exists:!0})]),e.next=15;break;case 23:this.setState(Object(ne.a)({},t,{controlesList:r,message:"",dossierText:n.DOSSIER_LIBELLE,visiteIdent:t.VISITE_IDENT,DOSSIER_IDENT:n.DOSSIER_IDENT,visite:t})),e.next=34;break;case 26:return this.props.changeNameOfPage("Cr\xe9ation de visite"),this.props.changeBackUrl("/dossier/"+this.props.match.params.dossierId),this.props.changeActivePage("/nouvelle-visite/"+this.props.match.params.dossierId),ce.services.trame.getAllDocs().then(function(e){o.setState({trameList:o.state.trameList.concat(e)})}).catch(function(){}),e.next=32,pt.getDossierById(this.props.match.params.dossierId);case 32:i=e.sent,this.setState({dossierText:i.DOSSIER_LIBELLE,DOSSIER_IDENT:parseInt(this.props.match.params.dossierId)});case 34:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"testEntries",value:function(){return this.state.ETOB_RAISON_SOCIALE&&this.state.VIS_DATE&&this.state.trame?14!==this.state.ETOB_SIRET.length?(this.setState({message:"Le num\xe9ro SIRET renseign\xe9 n'est pas valide : il doit \xeatre compos\xe9 de 14 chiffres"}),!1):0!==this.state.controlesList.length||(this.setState({message:"Veuillez rentrer au moins une action de contr\xf4le. Vous pourrez la modifier par la suite si besoin"}),!1):(this.setState({message:"Veillez \xe0 renseigner l'ensemble des champs obligatoires"}),!1)}},{key:"onSubmit",value:function(){var e=Object(Y.a)(G.a.mark(function e(){var t,a,n=this;return G.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.testEntries()){e.next=12;break}return e.prev=1,e.next=4,$.a.get(X.backend.base_url+"/entreprise/"+this.state.ETOB_IDENT);case 4:t=e.sent,a={ETOB_ADR1:t.data.ETOB_ADR1,ETOB_ADR2:t.data.ETOB_ADR2,ETOB_ADR3:t.data.ETOB_ADR3,ETOB_ADRCP:t.data.ETOB_ADRCP,ETOB_ADRVILLE:t.data.ETOB_ADRVILLE,ETOB_ENSEIGNE_LIB:t.data.ETOB_ENSEIGNE_LIB,ETOB_NOM_RESPONSABLE:t.data.ETOB_NOM_RESPONSABLE},e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),a={};case 11:this.props.match.params.visiteId?ut.updateVisite(Object(ne.a)({},this.state.visite,a,{ETOB_RAISON_SOCIALE:this.state.ETOB_RAISON_SOCIALE,ETOB_SIRET:this.state.ETOB_SIRET,VIS_DATE:this.state.VIS_DATE,VIS_OBSERVATIONS:this.state.VIS_OBSERVATIONS,VIS_MUTUALISEE:this.state.VIS_MUTUALISEE,VIS_CPMM:this.state.VIS_CPMM,trame:this.state.trame,AG_IDENT:this.props.agentIdent}),this.state.controlesList).then(function(){window.alert("La visite a bien \xe9t\xe9 modifi\xe9e."),n.props.history.push("/dossier/"+n.state.DOSSIER_IDENT)}):ut.postControlesByVisite(Object(ne.a)({},a,{ETOB_RAISON_SOCIALE:this.state.ETOB_RAISON_SOCIALE,ETOB_SIRET:this.state.ETOB_SIRET,VIS_DATE:this.state.VIS_DATE,VIS_OBSERVATIONS:this.state.VIS_OBSERVATIONS,VIS_MUTUALISEE:this.state.VIS_MUTUALISEE,VIS_CPMM:this.state.VIS_CPMM,trame:this.state.trame,AG_IDENT:this.props.agentIdent}),this.state.controlesList).then(function(){window.alert("La visite a bien \xe9t\xe9 ajout\xe9e."),n.props.history.push("/dossier/"+n.props.match.params.dossierId)});case 12:case"end":return e.stop()}},e,this,[[1,8]])}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return s.a.createElement(C.a,null,this.displayMessage(this.state.message),s.a.createElement(x.a,{style:{margin:"auto",textAlign:"left"},centered:!0},s.a.createElement(Fe.a,null,s.a.createElement(Ye.a,{width:14},s.a.createElement(ze.a,{onSubmit:this.onSubmit},s.a.createElement(ze.a.Group,{widths:"equal"},s.a.createElement(ze.a.Field,{control:qe.a,label:"CPMM",onClick:function(){return e.setState({VIS_CPMM:!e.state.VIS_CPMM})},checked:this.state.VIS_CPMM}),s.a.createElement(ze.a.Field,{control:qe.a,label:"Visite Mutualis\xe9e",onClick:function(){return e.setState({VIS_MUTUALISEE:!e.state.VIS_MUTUALISEE})},checked:this.state.VIS_MUTUALISEE})),s.a.createElement(ze.a.Group,{widths:"equal"},s.a.createElement(Ke.DateInput,{label:"Date de la visite",name:"date",placeholder:"Date de la visite",required:!0,value:this.state.VIS_DATE,iconPosition:"right",onChange:function(t,a){var n=a.value;return e.setState({VIS_DATE:n})}})),s.a.createElement(At,{ETOB_SIRET:this.state.ETOB_SIRET,ETOB_RAISON_SOCIALE:this.state.ETOB_RAISON_SOCIALE,changeSiretValue:function(t){return e.setState({ETOB_SIRET:t})},changeRaisonSocialeValue:function(t){return e.setState({ETOB_RAISON_SOCIALE:t})},changeEtabIdentValue:function(t){return e.setState({ETOB_IDENT:t})}}),this.displayTrame(),s.a.createElement(ze.a.Group,null,s.a.createElement(ze.a.Field,{width:16},s.a.createElement(We.a,{placeholder:"Observations",onChange:function(t){return e.setState({VIS_OBSERVATIONS:t.target.value})},value:this.state.VIS_OBSERVATIONS})))),s.a.createElement(ct,{dossier:{id:this.state.DOSSIER_IDENT,text:this.state.dossierText},controles:this.state.controlesList,changeControle:function(t){return e.setState({controlesList:t})}}),s.a.createElement(O.a,{style:{marginTop:"20px"},onClick:this.onSubmit},"Valider")))))}}]),t}(s.a.Component),ht=Object(o.b)(function(e){return{agentIdent:e.dataReducer.AGENT_DD_IDENT}},function(e){return{changeNameOfPage:function(t){return e(I(t))},changeBackUrl:function(t){return e(T(t))},changeActivePage:function(t){return e(S("mesDossiers",t))}}})(dt),Et=a(59),ft=a(165);function wt(e){return e.locked?s.a.createElement(ft.b,{key:e.task.id.toString(),draggableId:e.task.id.toString(),index:e.index},function(t){return s.a.createElement("div",Object.assign({},t.draggableProps,t.dragHandleProps,{ref:t.innerRef}),e.children)}):s.a.createElement("div",null,e.children)}var bt=a(278),gt=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(A.a)(t,[{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement("title",null),s.a.createElement("meta",{httpEquiv:"Content-Type",content:"text/html; charset=UTF-8"}),s.a.createElement("br",null),s.a.createElement("style",{type:"text/css",dangerouslySetInnerHTML:{__html:"\n      \x3c!--\n      \tp {margin: 0; padding: 0;}\t.ft10{font-size:14px;font-family:Times;color:#000000;}\n      \t.ft11{font-size:9px;font-family:Times;color:#7f7f7f;}\n      \t.ft12{font-size:7px;font-family:Times;color:#7f7f7f;}\n      \t.ft13{font-size:9px;font-family:Times;color:#000000;}\n      \t.ft14{font-size:13px;font-family:Times;color:#000000;}\n      \t.ft15{font-size:27px;font-family:Times;color:#000000;}\n      \t.ft16{font-size:16px;font-family:Times;color:#000000;}\n      \t.ft17{font-size:14px;font-family:Times;color:#000000;}\n      \t.ft18{font-size:8px;font-family:Times;color:#000000;}\n      \t.ft19{font-size:9px;line-height:14px;font-family:Times;color:#000000;}\n      \t.ft110{font-size:9px;line-height:13px;font-family:Times;color:#000000;}\n      \t.ft111{font-size:14px;line-height:19px;font-family:Times;color:#000000;}\n      \t.ft112{font-size:14px;line-height:18px;font-family:Times;color:#000000;}\n      --\x3e\n    "}}),s.a.createElement("div",{id:"page1-div",style:{position:"relative",width:"892px",height:this.props.width<900?this.props.width<470?421:631.5:"1263px",transform:this.props.width<900?this.props.width<470?"scale(0.3, 0.3)":"scale(0.5, 0.5)":"",transformOrigin:"top"}},s.a.createElement("img",{width:892,height:1263,src:a(461),alt:"background image"}),s.a.createElement("p",{style:{position:"absolute",top:"55px",left:"204px",whiteSpace:"nowrap"},className:"ft10"},"\xa0"),s.a.createElement("p",{style:{position:"absolute",top:"1171px",left:"140px",whiteSpace:"nowrap"},className:"ft11"},s.a.createElement("i",null,s.a.createElement("b",null,"F"))),s.a.createElement("p",{style:{position:"absolute",top:"1173px",left:"148px",whiteSpace:"nowrap"},className:"ft12"},s.a.createElement("i",null,s.a.createElement("b",null,"ORMULAIRE\xa0"))),s.a.createElement("p",{style:{position:"absolute",top:"1171px",left:"209px",whiteSpace:"nowrap"},className:"ft11"},s.a.createElement("i",null,s.a.createElement("b",null,"SORA"))),s.a.createElement("p",{style:{position:"absolute",top:"1173px",left:"240px",whiteSpace:"nowrap"},className:"ft12"},s.a.createElement("i",null,s.a.createElement("b",null,"\xa0"))),s.a.createElement("p",{style:{position:"absolute",top:"1171px",left:"242px",whiteSpace:"nowrap"},className:"ft11"},s.a.createElement("i",null,s.a.createElement("b",null,"\xa0"))),s.a.createElement("p",{style:{position:"absolute",top:"1171px",left:"396px",whiteSpace:"nowrap"},className:"ft11"},s.a.createElement("i",null,s.a.createElement("b",null,"P"))),s.a.createElement("p",{style:{position:"absolute",top:"1173px",left:"403px",whiteSpace:"nowrap"},className:"ft12"},s.a.createElement("i",null,s.a.createElement("b",null,"ROCES\xa0VERBAL"))),s.a.createElement("p",{style:{position:"absolute",top:"1171px",left:"476px",whiteSpace:"nowrap"},className:"ft11"},s.a.createElement("i",null,s.a.createElement("b",null,"\xa0"))),s.a.createElement("p",{style:{position:"absolute",top:"1171px",left:"650px",whiteSpace:"nowrap"},className:"ft11"},s.a.createElement("i",null,s.a.createElement("b",null,"EN/3D/JUR/003/V03\xa0"))),s.a.createElement("p",{style:{position:"absolute",top:"1185px",left:"55px",whiteSpace:"nowrap"},className:"ft13"},"\xa0"),s.a.createElement("p",{style:{position:"absolute",top:"151px",left:"483px",whiteSpace:"nowrap"},className:"ft10"},"\xa0"),s.a.createElement("p",{style:{position:"absolute",top:"180px",left:"286px",whiteSpace:"nowrap"},className:"ft13"},"MINIST\xc8RE\xa0DE\xa0L'ECONOMIE\xa0ET\xa0DES\xa0FINANCES\xa0"),s.a.createElement("p",{style:{position:"absolute",top:"87px",left:"769px",whiteSpace:"nowrap"},className:"ft10"},"\xa0"),s.a.createElement("p",{style:{position:"absolute",top:"119px",left:"743px",whiteSpace:"nowrap"},className:"ft14"},"Page\xa0\xa0 1 \xa0\xa0/\xa0\xa0 2 \xa0 \xa0\xa0\xa0\xa0"),s.a.createElement("p",{style:{position:"absolute",top:"208px",left:"30px",whiteSpace:"nowrap"},className:"ft110"},"DIRECTION\xa0DEPARTEMENTALE\xa0DE\xa0LA\xa0PROTECTION\xa0DES\xa0POPULATIONS\xa0",s.a.createElement("br",null),"\xa0",s.a.createElement("br",null),"\xa0",s.a.createElement("br",null),"8,\xa0RUE\xa0FROISSART\xa0",s.a.createElement("br",null),"\xa0",s.a.createElement("br",null),"75153\xa0PARIS\xa0CEDEX\xa003\xa0",s.a.createElement("br",null),"\xa0",s.a.createElement("br",null),"T\xe9l\xe9phone\xa0\xa0:\xa0\xa001\xa040\xa027\xa016\xa000\xa0",s.a.createElement("br",null),"T\xe9l\xe9copie\xa0\xa0:\xa0\xa001\xa042\xa071\xa009\xa014\xa0",s.a.createElement("br",null),"Courriel\xa0"),s.a.createElement("p",{style:{position:"absolute",top:"332px",left:"87px",whiteSpace:"nowrap"},className:"ft13"},":\xa0\xa0ddpp@paris.gouv.fr\xa0"),s.a.createElement("p",{style:{position:"absolute",top:"346px",left:"30px",whiteSpace:"nowrap"},className:"ft10"},"\xa0"),s.a.createElement("p",{style:{position:"absolute",top:"235px",left:"555px",whiteSpace:"nowrap"},className:"ft15"},s.a.createElement("b",null,"PROCES-VERBAL\xa0")),s.a.createElement("p",{style:{position:"absolute",top:"270px",left:"500px",whiteSpace:"nowrap"},className:"ft15"},s.a.createElement("b",null,"DE\xa0DECLARATION\xa0ET\xa0DE\xa0")),s.a.createElement("p",{style:{position:"absolute",top:"304px",left:"539px",whiteSpace:"nowrap"},className:"ft15"},s.a.createElement("b",null,"PRISE\xa0DE\xa0COPIE\xa0DE\xa0")),s.a.createElement("p",{style:{position:"absolute",top:"339px",left:"586px",whiteSpace:"nowrap"},className:"ft15"},s.a.createElement("b",null,"DOCUMENTS\xa0")),s.a.createElement("p",{style:{position:"absolute",top:"372px",left:"673px",whiteSpace:"nowrap"},className:"ft16"},s.a.createElement("b",null,"(1)")),s.a.createElement("p",{style:{position:"absolute",top:"374px",left:"694px",whiteSpace:"nowrap"},className:"ft10"},"\xa0"),s.a.createElement("p",{style:{position:"absolute",top:"393px",left:"522px",whiteSpace:"nowrap"},className:"ft17"},s.a.createElement("b",null,"r\xe9alis\xe9e(s)\xa0en\xa0application\xa0des\xa0articles\xa0\xa0L.\xa0512-8")),s.a.createElement("p",{style:{position:"absolute",top:"392px",left:"845px",whiteSpace:"nowrap"},className:"ft18"},s.a.createElement("b",null,"\xa0")),s.a.createElement("p",{style:{position:"absolute",top:"412px",left:"539px",whiteSpace:"nowrap"},className:"ft17"},s.a.createElement("b",null,"et\xa0\xa0L.\xa0512-10\xa0du\xa0code\xa0de\xa0la\xa0consommation"),"\xa0"),s.a.createElement("p",{style:{position:"absolute",top:"431px",left:"140px",whiteSpace:"nowrap"},className:"ft10"},"\xa0"),s.a.createElement("p",{style:{position:"absolute",top:"450px",left:"98px",whiteSpace:"nowrap"},className:"ft111"},"Nous,\xa0soussign\xe9(e)\xa0 \xa0",this.props.name,s.a.createElement("br",null),"\xa0",s.a.createElement("br",null),"de\xa0la\xa0Concurrence,\xa0de\xa0la\xa0Consommation\xa0et\xa0de\xa0la\xa0R\xe9pression\xa0des\xa0Fraudes,\xa0",s.a.createElement("br",null),"\xa0",s.a.createElement("br",null),"\xa0",s.a.createElement("br",null),"\xa0",s.a.createElement("br",null),"agissant\xa0sous\xa0l\u2019autorit\xe9\xa0du\xa0DIRECTEUR\xa0DE\xa0LA\xa0PROTECTION\xa0DES\xa0POPULATIONS\xa0de\xa0PARIS\xa0",s.a.createElement("br",null),"\xa0",s.a.createElement("br",null),"\xa0",s.a.createElement("br",null),"\xa0",s.a.createElement("br",null),"le\xa0\xa0",this.props.date),s.a.createElement("p",{style:{position:"absolute",top:"640px",left:"438px",whiteSpace:"nowrap"},className:"ft10"},"\xe0\xa0\xa0",this.props.hour),s.a.createElement("p",{style:{position:"absolute",top:"640px",left:"587px",whiteSpace:"nowrap"},className:"ft10"},"heures,\xa0"),s.a.createElement("p",{style:{position:"absolute",top:"659px",left:"98px",whiteSpace:"nowrap"},className:"ft111"},"\xa0",s.a.createElement("br",null),"\xe0\xa0[lieu]\xa0 \xa0",this.props.lieu,s.a.createElement("br",null),"\xa0"),s.a.createElement("p",{style:{position:"absolute",top:"715px",left:"98px",whiteSpace:"nowrap"},className:"ft10"},"\xa0"),s.a.createElement("p",{style:{position:"absolute",top:"733px",left:"98px",whiteSpace:"nowrap"},className:"ft10"},"apr\xe8s\xa0nous\xa0\xeatre\xa0pr\xe9sent\xe9,\xa0avoir\xa0justifi\xe9\xa0de\xa0notre\xa0qualit\xe9\xa0et\xa0indiqu\xe9\xa0l'objet\xa0de\xa0notre\xa0enqu\xeate.\xa0"),s.a.createElement("p",{style:{position:"absolute",top:"751px",left:"98px",whiteSpace:"nowrap"},className:"ft10"},"\xa0"),s.a.createElement("p",{style:{position:"absolute",top:"769px",left:"98px",whiteSpace:"nowrap"},className:"ft10"},"entendons\xa0M.\xa0 ",this.props.nameResponsible," \xa0en\xa0sa\xa0qualit\xe9\xa0de\xa0 \xa0",this.props.quality),s.a.createElement("p",{style:{position:"absolute",top:"787px",left:"98px",whiteSpace:"nowrap"},className:"ft10"},"\xa0"),s.a.createElement("p",{style:{position:"absolute",top:"805px",left:"98px",whiteSpace:"nowrap"},className:"ft10"},"\xa0"),s.a.createElement("p",{style:{position:"absolute",top:"823px",left:"98px",whiteSpace:"nowrap"},className:"ft10"},"qui\xa0nous\xa0d\xe9clare\xa0ce\xa0qui\xa0suit\xa0:\xa0"),s.a.createElement("p",{style:{position:"absolute",top:"841px",left:"98px"},className:"ft111"},s.a.createElement("br",null),"\xa0",this.props.declaration,"\xa0",s.a.createElement("br",null),"\xa0",s.a.createElement("br",null),"\xa0",s.a.createElement("br",null),"\xa0",s.a.createElement("br",null),"\xa0",s.a.createElement("br",null),"\xa0",s.a.createElement("br",null),"\xa0",s.a.createElement("br",null),"\xa0",s.a.createElement("br",null),"\xa0",s.a.createElement("br",null),"\xa0",s.a.createElement("br",null),"\xa0",s.a.createElement("br",null),"\xa0",s.a.createElement("br",null),"\xa0",s.a.createElement("br",null),"\xa0",s.a.createElement("br",null),"\xa0"),s.a.createElement("p",{style:{position:"absolute",top:"841px",left:"98px",whiteSpace:"nowrap"},className:"ft111"},"\xa0",s.a.createElement("br",null),"\xa0",s.a.createElement("br",null),"\xa0",s.a.createElement("br",null),"\xa0",s.a.createElement("br",null),"\xa0",s.a.createElement("br",null),"\xa0",s.a.createElement("br",null),"\xa0",s.a.createElement("br",null),"\xa0",s.a.createElement("br",null),"\xa0",s.a.createElement("br",null),"\xa0",s.a.createElement("br",null),"\xa0",s.a.createElement("br",null),"\xa0",s.a.createElement("br",null),"\xa0",s.a.createElement("br",null),"\xa0",s.a.createElement("br",null),"\xa0",s.a.createElement("br",null),"\xa0"),s.a.createElement("p",{style:{position:"absolute",top:"841px",left:"98px",whiteSpace:"nowrap"},className:"ft111"},"\xa0",s.a.createElement("br",null),"\xa0",s.a.createElement("br",null),"\xa0",s.a.createElement("br",null),"\xa0",s.a.createElement("br",null),"\xa0",s.a.createElement("br",null),"\xa0",s.a.createElement("br",null),"\xa0",s.a.createElement("br",null),"\xa0",s.a.createElement("br",null),"\xa0",s.a.createElement("br",null),"\xa0",s.a.createElement("br",null),"\xa0",s.a.createElement("br",null),"\xa0",s.a.createElement("br",null),"\xa0",s.a.createElement("br",null),"\xa0",s.a.createElement("br",null),"\xa0",s.a.createElement("br",null),"\xa0"),s.a.createElement("p",{style:{position:"absolute",top:"841px",left:"98px",whiteSpace:"nowrap"},className:"ft111"},"\xa0",s.a.createElement("br",null),"\xa0",s.a.createElement("br",null),"\xa0",s.a.createElement("br",null),"\xa0",s.a.createElement("br",null),"\xa0",s.a.createElement("br",null),"\xa0",s.a.createElement("br",null),"\xa0",s.a.createElement("br",null),"\xa0",s.a.createElement("br",null),"\xa0",s.a.createElement("br",null),"\xa0",s.a.createElement("br",null),"\xa0",s.a.createElement("br",null),"\xa0",s.a.createElement("br",null),"\xa0",s.a.createElement("br",null),"\xa0",s.a.createElement("br",null),"\xa0",s.a.createElement("br",null),"\xa0")),s.a.createElement("div",{id:"page2-div",style:{position:"relative",width:"892px",height:this.props.width<900?this.props.width<470?421:631.5:"1263px",transform:this.props.width<900?this.props.width<470?"scale(0.33, 0.33)":"scale(0.5, 0.5)":"",transformOrigin:"top"}},s.a.createElement("img",{width:892,height:1263,src:a(462),alt:"background image"}),s.a.createElement("p",{style:{position:"absolute",top:"55px",left:"777px",whiteSpace:"nowrap"},className:"ft10"},"Page\xa0\xa0 2 \xa0\xa0/\xa0\xa0 2 \xa0 \xa0\xa0\xa0\xa0"),s.a.createElement("p",{style:{position:"absolute",top:"1199px",left:"157px",whiteSpace:"nowrap"},className:"ft11"},s.a.createElement("i",null,s.a.createElement("b",null,"F"))),s.a.createElement("p",{style:{position:"absolute",top:"1201px",left:"165px",whiteSpace:"nowrap"},className:"ft12"},s.a.createElement("i",null,s.a.createElement("b",null,"ORMULAIRE\xa0"))),s.a.createElement("p",{style:{position:"absolute",top:"1199px",left:"226px",whiteSpace:"nowrap"},className:"ft11"},s.a.createElement("i",null,s.a.createElement("b",null,"SORA"))),s.a.createElement("p",{style:{position:"absolute",top:"1201px",left:"257px",whiteSpace:"nowrap"},className:"ft12"},s.a.createElement("i",null,s.a.createElement("b",null,"\xa0"))),s.a.createElement("p",{style:{position:"absolute",top:"1199px",left:"260px",whiteSpace:"nowrap"},className:"ft11"},s.a.createElement("i",null,s.a.createElement("b",null,"\xa0"))),s.a.createElement("p",{style:{position:"absolute",top:"1199px",left:"413px",whiteSpace:"nowrap"},className:"ft11"},s.a.createElement("i",null,s.a.createElement("b",null,"P"))),s.a.createElement("p",{style:{position:"absolute",top:"1201px",left:"420px",whiteSpace:"nowrap"},className:"ft12"},s.a.createElement("i",null,s.a.createElement("b",null,"ROCES\xa0VERBAL\xa0"))),s.a.createElement("p",{style:{position:"absolute",top:"1199px",left:"495px",whiteSpace:"nowrap"},className:"ft11"},s.a.createElement("i",null,s.a.createElement("b",null,"\xa0"))),s.a.createElement("p",{style:{position:"absolute",top:"1199px",left:"672px",whiteSpace:"nowrap"},className:"ft11"},s.a.createElement("i",null,s.a.createElement("b",null,"EN/3D/JUR/003/V03\xa0"))),s.a.createElement("p",{style:{position:"absolute",top:"85px",left:"98px",whiteSpace:"nowrap"},className:"ft14"},"avons\xa0demand\xe9\xa0communication\xa0des\xa0documents\xa0\xe9num\xe9r\xe9s\xa0ci-apr\xe8s\xa0\xe0\xa0M.\xa0 \xa0",this.props.nameResponsible,s.a.createElement("br",null),"pour\xa0en\xa0prendre\xa0copie\xa0:\xa0",s.a.createElement("br",null),"\xa0",s.a.createElement("div",{style:{display:"flex",justifyContent:"center"}},s.a.createElement("ul",null,this.props.documents.map(function(e,t){return s.a.createElement("li",{key:t},e)}))),s.a.createElement("br",null),"\xa0",s.a.createElement("br",null),"\xa0",s.a.createElement("br",null),"\xa0",s.a.createElement("br",null),"\xa0",s.a.createElement("br",null),"\xa0",s.a.createElement("br",null),"\xa0",s.a.createElement("br",null),"\xa0",s.a.createElement("br",null),"\xa0",s.a.createElement("br",null),"\xa0",s.a.createElement("br",null),"\xa0",s.a.createElement("br",null),"\xa0",s.a.createElement("br",null),"\xa0",s.a.createElement("br",null),"\xa0",s.a.createElement("br",null),"\xa0",s.a.createElement("br",null),"\xa0",s.a.createElement("br",null),"\xa0",s.a.createElement("br",null),"\xa0",s.a.createElement("br",null),"\xa0",s.a.createElement("br",null),"\xa0",s.a.createElement("br",null),"\xa0",s.a.createElement("br",null),"\xa0",s.a.createElement("br",null),"\xa0",s.a.createElement("br",null),"\xa0",s.a.createElement("br",null),"\xa0",s.a.createElement("br",null),"\xa0"),s.a.createElement("p",{style:{position:"absolute",top:"616px",left:"98px",whiteSpace:"nowrap"},className:"ft13"},"nombre\xa0de\xa0mot(s)\xa0:\xa0\xa0"),s.a.createElement("p",{style:{position:"absolute",top:"616px",left:"353px",whiteSpace:"nowrap"},className:"ft13"},"ligne(s) :\xa0\xa0"),s.a.createElement("p",{style:{position:"absolute",top:"616px",left:"523px",whiteSpace:"nowrap"},className:"ft13"},"ray\xe9s nuls\xa0"),s.a.createElement("p",{style:{position:"absolute",top:"635px",left:"98px",whiteSpace:"nowrap"},className:"ft15"},"\xa0",s.a.createElement("br",null),"\xa0",s.a.createElement("br",null),"\xa0"),s.a.createElement("p",{style:{position:"absolute",top:"690px",left:"98px",whiteSpace:"nowrap"},className:"ft13"},"clos\xa0le\xa0\xa0",this.props.date),s.a.createElement("p",{style:{position:"absolute",top:"690px",left:"438px",whiteSpace:"nowrap"},className:"ft13"},"\xe0\xa0\xa0 ",this.props.hour),s.a.createElement("p",{style:{position:"absolute",top:"690px",left:"587px",whiteSpace:"nowrap"},className:"ft13"},"heures\xa0"),s.a.createElement("p",{style:{position:"absolute",top:"710px",left:"98px",whiteSpace:"nowrap"},className:"ft14"},"\xa0",s.a.createElement("br",null),"\xa0",s.a.createElement("br",null),"\xa0",s.a.createElement("br",null),"\xa0"),s.a.createElement("p",{style:{position:"absolute",top:"784px",left:"98px",whiteSpace:"nowrap"},className:"ft13"},"Signature\xa0de\xa0(des)\xa0l'auteur(s)\xa0",s.a.createElement("br",null),s.a.createElement("br",null),s.a.createElement("br",null),s.a.createElement("br",null),this.props.signature&&s.a.createElement("img",{src:this.props.signature})),s.a.createElement("p",{style:{position:"absolute",top:"784px",left:"523px",whiteSpace:"nowrap"},className:"ft13"},"\xa0"),s.a.createElement("p",{style:{position:"absolute",top:"784px",left:"566px",whiteSpace:"nowrap"},className:"ft13"},"Signature\xa0de\xa0l'int\xe9ress\xe9,\xa0",s.a.createElement("br",null),s.a.createElement("br",null),s.a.createElement("br",null),s.a.createElement("br",null),this.props.signatureInteresse&&s.a.createElement("img",{src:this.props.signatureInteresse})),s.a.createElement("p",{style:{position:"absolute",top:"802px",left:"98px",whiteSpace:"nowrap"},className:"ft13"},"du\xa0proc\xe8s-verbal,\xa0"),s.a.createElement("p",{style:{position:"absolute",top:"820px",left:"98px",whiteSpace:"nowrap"},className:"ft13"},"\xa0")))}}]),t}(r.Component),vt=(a(463),a(288)),Dt=a.n(vt),Ct=function(e){function t(e,a){var n;return Object(c.a)(this,t),(n=Object(u.a)(this,Object(p.a)(t).call(this,e,a))).nextStep=function(){n.setState({trimmedDataURL:n.sigPad.getTrimmedCanvas().toDataURL("image/png"),trimmedDataURLInteresse:n.sigPadInteresse.getTrimmedCanvas().toDataURL("image/png")},function(){n.props.setStep4(n.state.trimmedDataURL,n.state.trimmedDataURLInteresse)})},n.sigPad={},n.sigPadInteresse={},n.clear=function(){n.sigPad.clear()},n.clearInteresse=function(){n.sigPadInteresse.clear()},n.state={trimmedDataURL:null,trimmedDataURLInteresse:null},n}return Object(m.a)(t,e),Object(A.a)(t,[{key:"render",value:function(){var e=this,t=this.state;t.trimmedDataURL,t.trimmedDataURLInteresse;return s.a.createElement("div",{style:{display:"flex",flexDirection:"column",width:"100%"}},s.a.createElement(C.a,{textAlign:"center",style:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column"}},s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{style:{fontStyle:"italic"}},"Signature de l'auteur"),s.a.createElement(L.a,{style:{height:200,width:300}},s.a.createElement("div",{style:{display:"flex",justifyContent:"center"}},s.a.createElement(Dt.a,{canvasProps:{width:300,height:200},ref:function(t){e.sigPad=t}}))),s.a.createElement("div",null,s.a.createElement(O.a,{onClick:this.clear},"Effacer")),s.a.createElement("br",null),s.a.createElement("div",{style:{fontStyle:"italic"}},"Signature de l'int\xe9ress\xe9"),s.a.createElement(L.a,{style:{height:200,width:300}},s.a.createElement("div",{style:{display:"flex",justifyContent:"center"}},s.a.createElement(Dt.a,{canvasProps:{width:300,height:200},ref:function(t){e.sigPadInteresse=t}}))),s.a.createElement("br",null),s.a.createElement("div",null,s.a.createElement(O.a,{onClick:this.clearInteresse},"Effacer")))),s.a.createElement("div",{style:{display:"flex",justifyContent:"flex-end"}},s.a.createElement(O.a,{color:"blue",onClick:function(){return e.nextStep()}}," ","Signer et g\xe9n\xe9rer le PV")))}}]),t}(r.Component);function xt(){var e=window;return{width:e.innerWidth,height:e.innerHeight}}var Ot=a(351),yt=a.n(Ot),It=a(497),Tt=ce.services.documents,St=function(e){function t(e,a){var n;return Object(c.a)(this,t),(n=Object(u.a)(this,Object(p.a)(t).call(this,e,a))).state={isLoading:!0},n}return Object(m.a)(t,e),Object(A.a)(t,[{key:"componentDidMount",value:function(){var e=Object(Y.a)(G.a.mark(function e(){var t,a,n,r,s,l,i;return G.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,yt()(document.getElementById("page1-div"));case 2:return t=e.sent,e.next=5,yt()(document.getElementById("page2-div"));case 5:return a=e.sent,n=t.toDataURL("image/jpeg",.5),r=a.toDataURL("image/jpeg",.5),s=new It("p","mm","a4"),l=s.internal.pageSize.getWidth(),i=s.internal.pageSize.getHeight(),s.addImage(n,"JPEG",0,0,l,i),s.addPage(),s.addImage(r,"JPEG",0,0,l,i),e.prev=14,e.next=17,Tt.postDocument({document:s.output("datauristring"),name:"PV de "+this.props.pv,type:"application/pdf",author:4447,visite:[this.props.visiteid],date:Date.now(),dossier:null,categorie:"joint"});case 17:e.next=22;break;case 19:e.prev=19,e.t0=e.catch(14),console.log(e.t0);case 22:this.setState({isLoading:!1});case 23:case"end":return e.stop()}},e,this,[[14,19]])}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return s.a.createElement(s.a.Fragment,null,s.a.createElement(Ge.a,{positive:!0},s.a.createElement(Ge.a.Header,null," ","Le PV a \xe9t\xe9 sauvegard\xe9 avec succ\xe8s !"," "),s.a.createElement("p",null,"Vous pouvez le retrouver dans les documents joints de votre visite."," ")),this.state.isLoading&&s.a.createElement("div",{id:"pv"},s.a.createElement("style",{type:"text/css",dangerouslySetInnerHTML:{__html:"\n      \x3c!--\n      \tp {margin: 0; padding: 0;}\t.ft10{font-size:14px;font-family:Times;color:#000000;}\n      \t.ft11{font-size:9px;font-family:Times;color:#7f7f7f;}\n      \t.ft12{font-size:7px;font-family:Times;color:#7f7f7f;}\n      \t.ft13{font-size:9px;font-family:Times;color:#000000;}\n      \t.ft14{font-size:13px;font-family:Times;color:#000000;}\n      \t.ft15{font-size:27px;font-family:Times;color:#000000;}\n      \t.ft16{font-size:16px;font-family:Times;color:#000000;}\n      \t.ft17{font-size:14px;font-family:Times;color:#000000;}\n      \t.ft18{font-size:8px;font-family:Times;color:#000000;}\n      \t.ft19{font-size:9px;line-height:14px;font-family:Times;color:#000000;}\n      \t.ft110{font-size:9px;line-height:13px;font-family:Times;color:#000000;}\n      \t.ft111{font-size:14px;line-height:19px;font-family:Times;color:#000000;}\n      \t.ft112{font-size:14px;line-height:18px;font-family:Times;color:#000000;}\n      --\x3e\n    "}}),s.a.createElement("div",{id:"page1-div",style:{position:"relative",width:"892px",height:"1263px"}},s.a.createElement("img",{width:892,height:1263,src:a(461),alt:"background image"}),s.a.createElement("p",{style:{position:"absolute",top:"55px",left:"204px",whiteSpace:"nowrap"},className:"ft10"},"\xa0"),s.a.createElement("p",{style:{position:"absolute",top:"1171px",left:"140px",whiteSpace:"nowrap"},className:"ft11"},s.a.createElement("i",null,s.a.createElement("b",null,"F"))),s.a.createElement("p",{style:{position:"absolute",top:"1173px",left:"148px",whiteSpace:"nowrap"},className:"ft12"},s.a.createElement("i",null,s.a.createElement("b",null,"ORMULAIRE\xa0"))),s.a.createElement("p",{style:{position:"absolute",top:"1171px",left:"209px",whiteSpace:"nowrap"},className:"ft11"},s.a.createElement("i",null,s.a.createElement("b",null,"SORA"))),s.a.createElement("p",{style:{position:"absolute",top:"1173px",left:"240px",whiteSpace:"nowrap"},className:"ft12"},s.a.createElement("i",null,s.a.createElement("b",null,"\xa0"))),s.a.createElement("p",{style:{position:"absolute",top:"1171px",left:"242px",whiteSpace:"nowrap"},className:"ft11"},s.a.createElement("i",null,s.a.createElement("b",null,"\xa0"))),s.a.createElement("p",{style:{position:"absolute",top:"1171px",left:"396px",whiteSpace:"nowrap"},className:"ft11"},s.a.createElement("i",null,s.a.createElement("b",null,"P"))),s.a.createElement("p",{style:{position:"absolute",top:"1173px",left:"403px",whiteSpace:"nowrap"},className:"ft12"},s.a.createElement("i",null,s.a.createElement("b",null,"ROCES\xa0VERBAL"))),s.a.createElement("p",{style:{position:"absolute",top:"1171px",left:"476px",whiteSpace:"nowrap"},className:"ft11"},s.a.createElement("i",null,s.a.createElement("b",null,"\xa0"))),s.a.createElement("p",{style:{position:"absolute",top:"1171px",left:"650px",whiteSpace:"nowrap"},className:"ft11"},s.a.createElement("i",null,s.a.createElement("b",null,"EN/3D/JUR/003/V03\xa0"))),s.a.createElement("p",{style:{position:"absolute",top:"1185px",left:"55px",whiteSpace:"nowrap"},className:"ft13"},"\xa0"),s.a.createElement("p",{style:{position:"absolute",top:"151px",left:"483px",whiteSpace:"nowrap"},className:"ft10"},"\xa0"),s.a.createElement("p",{style:{position:"absolute",top:"180px",left:"286px",whiteSpace:"nowrap"},className:"ft13"},"MINIST\xc8RE\xa0DE\xa0L'ECONOMIE\xa0ET\xa0DES\xa0FINANCES\xa0"),s.a.createElement("p",{style:{position:"absolute",top:"87px",left:"769px",whiteSpace:"nowrap"},className:"ft10"},"\xa0"),s.a.createElement("p",{style:{position:"absolute",top:"119px",left:"743px",whiteSpace:"nowrap"},className:"ft14"},"Page\xa0\xa0 1 \xa0\xa0/\xa0\xa0 2 \xa0\xa0\xa0\xa0\xa0"),s.a.createElement("p",{style:{position:"absolute",top:"208px",left:"30px",whiteSpace:"nowrap"},className:"ft110"},"DIRECTION\xa0DEPARTEMENTALE\xa0DE\xa0LA\xa0PROTECTION\xa0DES\xa0POPULATIONS\xa0",s.a.createElement("br",null),"\xa0",s.a.createElement("br",null),"\xa0",s.a.createElement("br",null),"8,\xa0RUE\xa0FROISSART\xa0",s.a.createElement("br",null),"\xa0",s.a.createElement("br",null),"75153\xa0PARIS\xa0CEDEX\xa003\xa0",s.a.createElement("br",null),"\xa0",s.a.createElement("br",null),"T\xe9l\xe9phone\xa0\xa0:\xa0\xa001\xa040\xa027\xa016\xa000\xa0",s.a.createElement("br",null),"T\xe9l\xe9copie\xa0\xa0:\xa0\xa001\xa042\xa071\xa009\xa014\xa0",s.a.createElement("br",null),"Courriel\xa0"),s.a.createElement("p",{style:{position:"absolute",top:"332px",left:"87px",whiteSpace:"nowrap"},className:"ft13"},":\xa0\xa0ddpp@paris.gouv.fr\xa0"),s.a.createElement("p",{style:{position:"absolute",top:"346px",left:"30px",whiteSpace:"nowrap"},className:"ft10"},"\xa0"),s.a.createElement("p",{style:{position:"absolute",top:"235px",left:"555px",whiteSpace:"nowrap"},className:"ft15"},s.a.createElement("b",null,"PROCES-VERBAL\xa0")),s.a.createElement("p",{style:{position:"absolute",top:"270px",left:"500px",whiteSpace:"nowrap"},className:"ft15"},s.a.createElement("b",null,"DE\xa0DECLARATION\xa0ET\xa0DE\xa0")),s.a.createElement("p",{style:{position:"absolute",top:"304px",left:"539px",whiteSpace:"nowrap"},className:"ft15"},s.a.createElement("b",null,"PRISE\xa0DE\xa0COPIE\xa0DE\xa0")),s.a.createElement("p",{style:{position:"absolute",top:"339px",left:"586px",whiteSpace:"nowrap"},className:"ft15"},s.a.createElement("b",null,"DOCUMENTS\xa0")),s.a.createElement("p",{style:{position:"absolute",top:"372px",left:"673px",whiteSpace:"nowrap"},className:"ft16"},s.a.createElement("b",null,"(1)")),s.a.createElement("p",{style:{position:"absolute",top:"374px",left:"694px",whiteSpace:"nowrap"},className:"ft10"},"\xa0"),s.a.createElement("p",{style:{position:"absolute",top:"393px",left:"522px",whiteSpace:"nowrap"},className:"ft17"},s.a.createElement("b",null,"r\xe9alis\xe9e(s)\xa0en\xa0application\xa0des\xa0articles\xa0\xa0L.\xa0512-8")),s.a.createElement("p",{style:{position:"absolute",top:"392px",left:"845px",whiteSpace:"nowrap"},className:"ft18"},s.a.createElement("b",null,"\xa0")),s.a.createElement("p",{style:{position:"absolute",top:"412px",left:"539px",whiteSpace:"nowrap"},className:"ft17"},s.a.createElement("b",null,"et\xa0\xa0L.\xa0512-10\xa0du\xa0code\xa0de\xa0la\xa0consommation"),"\xa0"),s.a.createElement("p",{style:{position:"absolute",top:"431px",left:"140px",whiteSpace:"nowrap"},className:"ft10"},"\xa0"),s.a.createElement("p",{style:{position:"absolute",top:"450px",left:"98px",whiteSpace:"nowrap"},className:"ft111"},"Nous,\xa0soussign\xe9(e)\xa0 \xa0",this.props.name,s.a.createElement("br",null),"\xa0",s.a.createElement("br",null),"de\xa0la\xa0Concurrence,\xa0de\xa0la\xa0Consommation\xa0et\xa0de\xa0la\xa0R\xe9pression\xa0des\xa0Fraudes,\xa0",s.a.createElement("br",null),"\xa0",s.a.createElement("br",null),"\xa0",s.a.createElement("br",null),"\xa0",s.a.createElement("br",null),"agissant\xa0sous\xa0l\u2019autorit\xe9\xa0du\xa0DIRECTEUR\xa0DE\xa0LA\xa0PROTECTION\xa0DES\xa0POPULATIONS\xa0de\xa0PARIS\xa0",s.a.createElement("br",null),"\xa0",s.a.createElement("br",null),"\xa0",s.a.createElement("br",null),"\xa0",s.a.createElement("br",null),"le\xa0\xa0",this.props.date),s.a.createElement("p",{style:{position:"absolute",top:"640px",left:"438px",whiteSpace:"nowrap"},className:"ft10"},"\xe0\xa0\xa0",this.props.hour),s.a.createElement("p",{style:{position:"absolute",top:"640px",left:"587px",whiteSpace:"nowrap"},className:"ft10"},"heures,\xa0"),s.a.createElement("p",{style:{position:"absolute",top:"659px",left:"98px",whiteSpace:"nowrap"},className:"ft111"},"\xa0",s.a.createElement("br",null),"\xe0\xa0[lieu]\xa0 \xa0",this.props.lieu,s.a.createElement("br",null),"\xa0"),s.a.createElement("p",{style:{position:"absolute",top:"715px",left:"98px",whiteSpace:"nowrap"},className:"ft10"},"\xa0"),s.a.createElement("p",{style:{position:"absolute",top:"733px",left:"98px",whiteSpace:"nowrap"},className:"ft10"},"apr\xe8s\xa0nous\xa0\xeatre\xa0pr\xe9sent\xe9,\xa0avoir\xa0justifi\xe9\xa0de\xa0notre\xa0qualit\xe9\xa0et\xa0indiqu\xe9\xa0l'objet\xa0de\xa0notre\xa0enqu\xeate.\xa0"),s.a.createElement("p",{style:{position:"absolute",top:"751px",left:"98px",whiteSpace:"nowrap"},className:"ft10"},"\xa0"),s.a.createElement("p",{style:{position:"absolute",top:"769px",left:"98px",whiteSpace:"nowrap"},className:"ft10"},"entendons\xa0M.\xa0 ",this.props.nameResponsible,"\xa0en\xa0sa\xa0qualit\xe9\xa0de\xa0 \xa0",this.props.quality),s.a.createElement("p",{style:{position:"absolute",top:"787px",left:"98px",whiteSpace:"nowrap"},className:"ft10"},"\xa0"),s.a.createElement("p",{style:{position:"absolute",top:"805px",left:"98px",whiteSpace:"nowrap"},className:"ft10"},"\xa0"),s.a.createElement("p",{style:{position:"absolute",top:"823px",left:"98px",whiteSpace:"nowrap"},className:"ft10"},"qui\xa0nous\xa0d\xe9clare\xa0ce\xa0qui\xa0suit\xa0:\xa0"),s.a.createElement("p",{style:{position:"absolute",top:"841px",left:"98px"},className:"ft111"},s.a.createElement("br",null),"\xa0",this.props.declaration,"\xa0",s.a.createElement("br",null),"\xa0",s.a.createElement("br",null),"\xa0",s.a.createElement("br",null),"\xa0",s.a.createElement("br",null),"\xa0",s.a.createElement("br",null),"\xa0",s.a.createElement("br",null),"\xa0",s.a.createElement("br",null),"\xa0",s.a.createElement("br",null),"\xa0",s.a.createElement("br",null),"\xa0",s.a.createElement("br",null),"\xa0",s.a.createElement("br",null),"\xa0",s.a.createElement("br",null),"\xa0",s.a.createElement("br",null),"\xa0",s.a.createElement("br",null),"\xa0"),s.a.createElement("p",{style:{position:"absolute",top:"841px",left:"98px",whiteSpace:"nowrap"},className:"ft111"},"\xa0",s.a.createElement("br",null),"\xa0",s.a.createElement("br",null),"\xa0",s.a.createElement("br",null),"\xa0",s.a.createElement("br",null),"\xa0",s.a.createElement("br",null),"\xa0",s.a.createElement("br",null),"\xa0",s.a.createElement("br",null),"\xa0",s.a.createElement("br",null),"\xa0",s.a.createElement("br",null),"\xa0",s.a.createElement("br",null),"\xa0",s.a.createElement("br",null),"\xa0",s.a.createElement("br",null),"\xa0",s.a.createElement("br",null),"\xa0",s.a.createElement("br",null),"\xa0",s.a.createElement("br",null),"\xa0"),s.a.createElement("p",{style:{position:"absolute",top:"841px",left:"98px",whiteSpace:"nowrap"},className:"ft111"},"\xa0",s.a.createElement("br",null),"\xa0",s.a.createElement("br",null),"\xa0",s.a.createElement("br",null),"\xa0",s.a.createElement("br",null),"\xa0",s.a.createElement("br",null),"\xa0",s.a.createElement("br",null),"\xa0",s.a.createElement("br",null),"\xa0",s.a.createElement("br",null),"\xa0",s.a.createElement("br",null),"\xa0",s.a.createElement("br",null),"\xa0",s.a.createElement("br",null),"\xa0",s.a.createElement("br",null),"\xa0",s.a.createElement("br",null),"\xa0",s.a.createElement("br",null),"\xa0",s.a.createElement("br",null),"\xa0"),s.a.createElement("p",{style:{position:"absolute",top:"841px",left:"98px",whiteSpace:"nowrap"},className:"ft111"},"\xa0",s.a.createElement("br",null),"\xa0",s.a.createElement("br",null),"\xa0",s.a.createElement("br",null),"\xa0",s.a.createElement("br",null),"\xa0",s.a.createElement("br",null),"\xa0",s.a.createElement("br",null),"\xa0",s.a.createElement("br",null),"\xa0",s.a.createElement("br",null),"\xa0",s.a.createElement("br",null),"\xa0",s.a.createElement("br",null),"\xa0",s.a.createElement("br",null),"\xa0",s.a.createElement("br",null),"\xa0",s.a.createElement("br",null),"\xa0",s.a.createElement("br",null),"\xa0",s.a.createElement("br",null),"\xa0")),s.a.createElement("div",{id:"page2-div",style:{position:"relative",width:"892px",height:"1263px"}},s.a.createElement("img",{width:892,height:1263,src:a(462),alt:"background image"}),s.a.createElement("p",{style:{position:"absolute",top:"55px",left:"777px",whiteSpace:"nowrap"},className:"ft10"},"Page\xa0\xa0 2 \xa0\xa0/\xa0\xa0 2 \xa0\xa0\xa0\xa0\xa0"),s.a.createElement("p",{style:{position:"absolute",top:"1199px",left:"157px",whiteSpace:"nowrap"},className:"ft11"},s.a.createElement("i",null,s.a.createElement("b",null,"F"))),s.a.createElement("p",{style:{position:"absolute",top:"1201px",left:"165px",whiteSpace:"nowrap"},className:"ft12"},s.a.createElement("i",null,s.a.createElement("b",null,"ORMULAIRE\xa0"))),s.a.createElement("p",{style:{position:"absolute",top:"1199px",left:"226px",whiteSpace:"nowrap"},className:"ft11"},s.a.createElement("i",null,s.a.createElement("b",null,"SORA"))),s.a.createElement("p",{style:{position:"absolute",top:"1201px",left:"257px",whiteSpace:"nowrap"},className:"ft12"},s.a.createElement("i",null,s.a.createElement("b",null,"\xa0"))),s.a.createElement("p",{style:{position:"absolute",top:"1199px",left:"260px",whiteSpace:"nowrap"},className:"ft11"},s.a.createElement("i",null,s.a.createElement("b",null,"\xa0"))),s.a.createElement("p",{style:{position:"absolute",top:"1199px",left:"413px",whiteSpace:"nowrap"},className:"ft11"},s.a.createElement("i",null,s.a.createElement("b",null,"P"))),s.a.createElement("p",{style:{position:"absolute",top:"1201px",left:"420px",whiteSpace:"nowrap"},className:"ft12"},s.a.createElement("i",null,s.a.createElement("b",null,"ROCES\xa0VERBAL\xa0"))),s.a.createElement("p",{style:{position:"absolute",top:"1199px",left:"495px",whiteSpace:"nowrap"},className:"ft11"},s.a.createElement("i",null,s.a.createElement("b",null,"\xa0"))),s.a.createElement("p",{style:{position:"absolute",top:"1199px",left:"672px",whiteSpace:"nowrap"},className:"ft11"},s.a.createElement("i",null,s.a.createElement("b",null,"EN/3D/JUR/003/V03\xa0"))),s.a.createElement("p",{style:{position:"absolute",top:"85px",left:"98px",whiteSpace:"nowrap"},className:"ft14"},"avons\xa0demand\xe9\xa0communication\xa0des\xa0documents\xa0\xe9num\xe9r\xe9s\xa0ci-apr\xe8s\xa0\xe0\xa0M.\xa0 \xa0",this.props.nameResponsible,s.a.createElement("br",null),"pour\xa0en\xa0prendre\xa0copie\xa0:\xa0",s.a.createElement("br",null),"\xa0",s.a.createElement("div",{style:{display:"flex",justifyContent:"center"}},s.a.createElement("ul",null,this.props.documents.map(function(e,t){return s.a.createElement("li",{key:t},e)}))),s.a.createElement("br",null),"\xa0",s.a.createElement("br",null),"\xa0",s.a.createElement("br",null),"\xa0",s.a.createElement("br",null),"\xa0",s.a.createElement("br",null),"\xa0",s.a.createElement("br",null),"\xa0",s.a.createElement("br",null),"\xa0",s.a.createElement("br",null),"\xa0",s.a.createElement("br",null),"\xa0",s.a.createElement("br",null),"\xa0",s.a.createElement("br",null),"\xa0",s.a.createElement("br",null),"\xa0",s.a.createElement("br",null),"\xa0",s.a.createElement("br",null),"\xa0",s.a.createElement("br",null),"\xa0",s.a.createElement("br",null),"\xa0",s.a.createElement("br",null),"\xa0",s.a.createElement("br",null),"\xa0",s.a.createElement("br",null),"\xa0",s.a.createElement("br",null),"\xa0",s.a.createElement("br",null),"\xa0",s.a.createElement("br",null),"\xa0",s.a.createElement("br",null),"\xa0",s.a.createElement("br",null),"\xa0",s.a.createElement("br",null),"\xa0"),s.a.createElement("p",{style:{position:"absolute",top:"616px",left:"98px",whiteSpace:"nowrap"},className:"ft13"},"nombre\xa0de\xa0mot(s)\xa0:\xa0\xa0"),s.a.createElement("p",{style:{position:"absolute",top:"616px",left:"353px",whiteSpace:"nowrap"},className:"ft13"},"ligne(s) :\xa0\xa0"),s.a.createElement("p",{style:{position:"absolute",top:"616px",left:"523px",whiteSpace:"nowrap"},className:"ft13"},"ray\xe9s nuls\xa0"),s.a.createElement("p",{style:{position:"absolute",top:"635px",left:"98px",whiteSpace:"nowrap"},className:"ft15"},"\xa0",s.a.createElement("br",null),"\xa0",s.a.createElement("br",null),"\xa0"),s.a.createElement("p",{style:{position:"absolute",top:"690px",left:"98px",whiteSpace:"nowrap"},className:"ft13"},"clos\xa0le\xa0\xa0",this.props.date),s.a.createElement("p",{style:{position:"absolute",top:"690px",left:"438px",whiteSpace:"nowrap"},className:"ft13"},"\xe0\xa0\xa0",this.props.hour),s.a.createElement("p",{style:{position:"absolute",top:"690px",left:"587px",whiteSpace:"nowrap"},className:"ft13"},"heures\xa0"),s.a.createElement("p",{style:{position:"absolute",top:"710px",left:"98px",whiteSpace:"nowrap"},className:"ft14"},"\xa0",s.a.createElement("br",null),"\xa0",s.a.createElement("br",null),"\xa0",s.a.createElement("br",null),"\xa0"),s.a.createElement("p",{style:{position:"absolute",top:"784px",left:"98px",whiteSpace:"nowrap"},className:"ft13"},"Signature\xa0de\xa0(des)\xa0l'auteur(s)\xa0",s.a.createElement("br",null),s.a.createElement("br",null),s.a.createElement("br",null),s.a.createElement("br",null),this.props.signature&&s.a.createElement("img",{src:this.props.signature})),s.a.createElement("p",{style:{position:"absolute",top:"784px",left:"523px",whiteSpace:"nowrap"},className:"ft13"},"\xa0"),s.a.createElement("p",{style:{position:"absolute",top:"784px",left:"566px",whiteSpace:"nowrap"},className:"ft13"},"Signature\xa0de\xa0l'int\xe9ress\xe9,\xa0",s.a.createElement("br",null),s.a.createElement("br",null),s.a.createElement("br",null),s.a.createElement("br",null),this.props.signatureInteresse&&s.a.createElement("img",{src:this.props.signatureInteresse})),s.a.createElement("p",{style:{position:"absolute",top:"802px",left:"98px",whiteSpace:"nowrap"},className:"ft13"},"du\xa0proc\xe8s-verbal,\xa0"),s.a.createElement("p",{style:{position:"absolute",top:"820px",left:"98px",whiteSpace:"nowrap"},className:"ft13"},"\xa0"))))}}]),t}(r.Component);var kt=function(e){var t=function(){var e=Object(r.useState)(xt()),t=Object(be.a)(e,2),a=t[0],n=t[1];return Object(r.useEffect)(function(){function e(){n(xt())}return window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}},[]),a}(),a=t.height,n=t.width,l=Object(r.useState)(1),i=Object(be.a)(l,2),o=i[0],c=i[1],A=Object(r.useState)(null),u=Object(be.a)(A,2),p=u[0],m=u[1],d=Object(r.useState)(""),h=Object(be.a)(d,2),E=h[0],w=h[1],b=Object(r.useState)(null),g=Object(be.a)(b,2),v=g[0],D=g[1],x=Object(r.useState)(null),y=Object(be.a)(x,2),I=y[0],T=y[1],S=Object(r.useState)({documents:[],place:e.visite.ETOB_ADR1+" "+e.visite.ETOB_ADRCP+" "+e.visite.ETOB_ADRVILLE,nameResponsible:e.visite.ETOB_NOM_RESPONSABLE,date:Q()().format("DD-MM-YYYY HH:mm")}),k=Object(be.a)(S,2),N=k[0],B=k[1];function L(e){m(e),c(2)}return s.a.createElement(ge.a,{closeIcon:!0,open:e.opened,onClose:function(){e.close()}},s.a.createElement(ge.a.Header,null,"Remplir un PV"),s.a.createElement(ge.a.Content,null,s.a.createElement(C.a,{style:{display:"flex",justifyContent:"center",flexDirection:"column",alignItems:"center"}},s.a.createElement("div",null,s.a.createElement(bt.a.Group,null,s.a.createElement(bt.a,{onClick:function(){return c(1)},active:1===o},s.a.createElement(bt.a.Content,null,s.a.createElement(bt.a.Title,null,"Choix du PV"))),s.a.createElement(bt.a,{onClick:function(){return c(2)},active:2===o,disabled:o<2},s.a.createElement(bt.a.Content,null,s.a.createElement(bt.a.Title,null," Informations "))),s.a.createElement(bt.a,{onClick:function(){return c(3)},active:3===o,disabled:o<3},s.a.createElement(bt.a.Content,null,s.a.createElement(bt.a.Title,null," Pr\xe9visualisation "))),s.a.createElement(bt.a,{onClick:function(){return c(4)},active:4===o,disabled:o<4},s.a.createElement(bt.a.Content,null,s.a.createElement(bt.a.Title,null," Signature "))),s.a.createElement(bt.a,{onClick:function(){return c(5)},active:5===o,disabled:o<5},s.a.createElement(bt.a.Content,null,s.a.createElement(bt.a.Title,null," Termin\xe9! "))))),s.a.createElement("div",{style:{marginTop:30,width:"100%",display:"flex",alignItems:"center",flexDirection:"column"}},1===o?s.a.createElement(O.a.Group,null,s.a.createElement(O.a,{style:{padding:20},onClick:function(){return L("audition")},color:"blue"},"PV d'audition"),s.a.createElement(O.a,{style:{padding:20},onClick:function(){return L("d\xe9claration")},color:"red"},"PV de d\xe9claration")):2===o?s.a.createElement(ze.a,null,s.a.createElement(ze.a.Field,{required:!0},s.a.createElement("label",null,"Nom et grade de l'enqu\xeateur"),s.a.createElement("input",{value:N.name,onChange:function(e){return B(Object(ne.a)({},N,{name:e.target.value}))},placeholder:"Nom de l'enqu\xeateur"})),s.a.createElement(ze.a.Field,null,s.a.createElement(Ke.DateTimeInput,{label:"Date et heure",name:"date",placeholder:"Date de la visite",required:!0,value:N.date,onChange:function(e,t){var a=t.value;return B(Object(ne.a)({},N,{date:a}))},iconPosition:"right"})),s.a.createElement(ze.a.Field,{required:!0},s.a.createElement("label",null,"Lieu"),s.a.createElement("input",{value:N.place,onChange:function(e){return B(Object(ne.a)({},N,{place:e.target.value}))},placeholder:"Lieu"})),s.a.createElement(ze.a.Field,{required:!0},s.a.createElement("label",null,"Repr\xe9sentant de l'entreprise"),s.a.createElement("input",{value:N.nameResponsible,onChange:function(e){return B(Object(ne.a)({},N,{nameResponsible:e.target.value}))},placeholder:"Responsable"})),s.a.createElement(ze.a.Field,{required:!0},s.a.createElement("label",null,"Qualit\xe9 repr\xe9sentant de l'entreprise"),s.a.createElement("input",{value:N.quality,onChange:function(e){return B(Object(ne.a)({},N,{quality:e.target.value}))},placeholder:"Qualit\xe9"})),s.a.createElement(ze.a.Field,{required:!0},s.a.createElement("label",null,"D\xe9claration"),s.a.createElement(We.a,{value:N.declaration,onChange:function(e){return B(Object(ne.a)({},N,{declaration:e.target.value}))},placeholder:"D\xe9claration"})),s.a.createElement(ze.a.Field,{required:!0},s.a.createElement("label",null,"Liste Documents"),s.a.createElement(P.a,{as:"ul"},N.documents.length>0&&N.documents.map(function(e,t){return s.a.createElement(P.a.Item,{key:t},e,s.a.createElement(P.a.Content,{onClick:function(){return function(e){B(Object(ne.a)({},N,{documents:N.documents.filter(function(t,a){return a!==e})}))}(t)},verticalAlign:"middle",floated:"right"},s.a.createElement(f.a,{color:"red",name:"times circle"})))})),s.a.createElement("div",{style:{display:"flex"}},s.a.createElement("div",{style:{flex:8}},s.a.createElement("label",null,"Ajouter un document"),s.a.createElement("input",{value:E,onChange:function(e){return w(e.target.value)},placeholder:"Ajouter un document"})),s.a.createElement("div",{style:{flex:2,justifyContent:"flex-end",alignItems:"flex-end",display:"flex"}},s.a.createElement(O.a,{color:"teal",icon:!0,onClick:function(){return B(Object(ne.a)({},N,{documents:[].concat(Object(Et.a)(N.documents),[E])})),void w("")}},s.a.createElement(f.a,{name:"add"}))))),s.a.createElement("div",{style:{display:"flex",justifyContent:"flex-end"}},s.a.createElement(O.a,{onClick:function(){c(3)},type:"submit",disabled:!N.declaration||!N.quality||!N.place||!N.date||!N.name},"Valider"))):3===o?s.a.createElement(s.a.Fragment,null,s.a.createElement(gt,{width:n,height:a,date:Q()(N.date,"DD-MM-YYYY HH:mm").format("LL"),hour:Q()(N.date,"DD-MM-YYYY HH:mm").format("LT"),name:N.name,lieu:N.place,quality:N.quality,nameResponsible:N.nameResponsible,declaration:N.declaration,documents:N.documents}),s.a.createElement("div",{style:{display:"flex",justifyContent:"flex-end"}},s.a.createElement(O.a,{color:"red",onClick:function(){window.confirm("Je certifie que les informations de ce proc\xe8s-verbal sont exactes et je m'appr\xeate \xe0 le signer et le faire signer.")&&c(4)}},"Valider et signer"))):4===o?s.a.createElement(Ct,{setStep4:function(e,t){D(e),T(t),c(5)}}):s.a.createElement(St,{width:n,height:a,date:Q()(N.date,"DD-MM-YYYY hh:mm").format("LL"),hour:Q()(N.date,"DD-MM-YYYY hh:mm").format("LT"),visiteid:e.visite.VISITE_IDENT,pv:p,name:N.name,lieu:N.place,quality:N.quality,nameResponsible:N.nameResponsible,declaration:N.declaration,documents:N.documents,signature:v,signatureInteresse:I})))))};function Nt(e){return new Promise(function(t,a){var n=new FileReader;n.readAsDataURL(e),n.onload=function(){return t(n.result)},n.onerror=function(e){return a(e)}})}var Bt=function(e){function t(e,a){var n;return Object(c.a)(this,t),(n=Object(u.a)(this,Object(p.a)(t).call(this,e,a))).fileInputRef=s.a.createRef(),n.handleDoubleClick=function(e){n.editName(e)},n.state={taskEdited:null,taskName:null,activeDropdowns:[],opened:!1},n.handleChangeName=n.handleChangeName.bind(Object(ke.a)(n)),n.clickCount=null,n.singleClickTimer="",n}return Object(m.a)(t,e),Object(A.a)(t,[{key:"handleTextChange",value:function(e,t,a){this.props.handleTextChange(a,t.value)}},{key:"addForm",value:function(e){this.props.addForm(e)}},{key:"handleClicks",value:function(e){this.clickCount++,1===this.clickCount?this.singleClickTimer=setTimeout(function(){this.clickCount=0}.bind(this),300):2===this.clickCount&&(clearTimeout(this.singleClickTimer),this.clickCount=0,this.handleDoubleClick(e))}},{key:"getColor",value:function(e){return e.includes("image")?["teal","file image"]:e.includes("pdf")?["red","file pdf"]:e.includes("sheet")?["green","file excel"]:e.includes("word")||e.includes("opendocument.text")?["blue","file word"]:["grey","file"]}},{key:"fileChange",value:function(){var e=Object(Y.a)(G.a.mark(function e(t,a){var n,r;return G.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.target.files[0],e.next=3,Nt(n);case 3:r=e.sent,this.props.addDocument(t,{document:r,name:n.name,type:n.type});case 5:case"end":return e.stop()}},e,this)}));return function(t,a){return e.apply(this,arguments)}}()},{key:"handleChangeName",value:function(e){this.setState({taskName:e.target.value.toUpperCase()})}},{key:"handleClick",value:function(e){-1===this.state.activeDropdowns.indexOf(e)?this.setState({activeDropdowns:[].concat(Object(Et.a)(this.state.activeDropdowns),[e])}):this.setState({activeDropdowns:this.state.activeDropdowns.filter(function(t){return t!==e})})}},{key:"validateName",value:function(e,t){this.props.validateName(e,t),this.setState({taskEdited:null,taskName:null})}},{key:"editName",value:function(e){this.setState({taskEdited:e,taskName:e.title.toUpperCase()})}},{key:"closeModal",value:function(){this.setState({opened:!this.state.opened})}},{key:"render",value:function(){var e=this;return s.a.createElement(s.a.Fragment,null,s.a.createElement(kt,Object.assign({},this.props,{opened:this.state.opened,close:function(){return e.closeModal()}})),s.a.createElement(P.a,{className:"responsivepadding",relaxed:!0,style:{textAlign:"left"}},this.props.taskList.map(function(t,a){return s.a.createElement(wt,Object.assign({},e.props,{key:a,task:t,index:a}),s.a.createElement("div",{style:{borderRadius:3,borderBottom:"3px solid #c0c1c4",margin:15,boxShadow:"6px 1px 12px 2px #cfcfcf",position:"relative"}},s.a.createElement(P.a.Item,{style:{borderTopLeftRadius:3,borderTopRightRadius:3,padding:15,backgroundColor:"#4286f4"},key:t.title},s.a.createElement(f.a,{name:"times circle",style:{position:"absolute",top:"0",left:"0",color:"red",cursor:"pointer",fontSize:"1em"},onClick:function(){return e.props.deleteTask(t)}}),s.a.createElement("div",{style:{display:"flex",width:"100%"}},s.a.createElement("div",{style:{flex:1}}),s.a.createElement("div",{style:{flex:8,color:"white",flexDirection:"row",display:"flex"}},s.a.createElement("div",{onClick:function(){e.handleClicks(t)},style:{width:"100%"}},t!=e.state.taskEdited?s.a.createElement("div",{style:{background:"transparent",border:"0",outline:"none",color:"white",width:"100%"}},t.title.toUpperCase()):s.a.createElement("input",{disabled:t!=e.state.taskEdited,type:"text",style:{fontFamily:"inherit",background:"transparent",border:"0",outline:"none",color:"white",width:"100%"},value:t!=e.state.taskEdited?t.title.toUpperCase():e.state.taskName,onChange:e.handleChangeName})),t!=e.state.taskEdited?s.a.createElement(f.a,{style:{marginLeft:10,cursor:"pointer"},onClick:function(){return e.editName(t)},name:"pencil",color:"white"}):s.a.createElement(f.a,{style:{marginLeft:10,cursor:"pointer"},onClick:function(){return e.validateName(t,e.state.taskName)},name:"check",color:"white"})),s.a.createElement("div",{style:{flex:1,textAlign:"right"}},"basic"===t.type?s.a.createElement(f.a,{name:"ellipsis horizontal",style:{cursor:"pointer",color:"white"},onClick:function(){return e.props.changeType(t,"text")}}):"text"===t.type?s.a.createElement(f.a,{name:"text cursor",style:{cursor:"pointer",color:"white"},onClick:function(){return e.props.changeType(t,"document")}}):s.a.createElement(f.a,{name:"file",style:{cursor:"pointer",color:"white"},onClick:function(){return e.props.changeType(t,"basic")}}),"text"===t.type||"document"===t.type?e.state.activeDropdowns.includes(t.index)?s.a.createElement(P.a.Icon,{onClick:function(){return e.handleClick(t.index)},name:"caret up",style:{color:"white",cursor:"pointer"}}):s.a.createElement(P.a.Icon,{onClick:function(){return e.handleClick(t.index)},name:"caret down",style:{color:"white",cursor:"pointer"}}):s.a.createElement(P.a.Icon,{color:"grey",name:"caret down",style:{cursor:"pointer"}})))),s.a.createElement(P.a.Item,null,e.state.activeDropdowns.includes(t.index)&&s.a.createElement("div",{style:{padding:15}},"text"===t.type?s.a.createElement(ze.a,null,s.a.createElement(We.a,{value:t.innerContent,onChange:function(a,n){return e.handleTextChange(a,n,t)}}),s.a.createElement("div",{style:{width:"100%",display:"flex",justifyContent:"flex-end",marginTop:10}})):t.innerContent?s.a.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"}},s.a.createElement("div",{style:{flex:.1}}),s.a.createElement("div",{style:{flex:1,display:"flex",justifyContent:"center"}},"form1&9"===t.innerContent?s.a.createElement(Ee.a,{trigger:s.a.createElement(O.a,{color:"red",labelPosition:"right",icon:!0},"Formulaire \xe0 remplir"," ",s.a.createElement(f.a,{name:"file pdf"})),position:"bottom center",content:"Ce formulaire sera \xe0 remplir dans la trame de la visite."}):t.innerContent.type.includes("image")?s.a.createElement("img",{style:{maxHeight:200,maxWidth:"100%"},src:t.innerContent.document}):s.a.createElement(O.a,{as:"a",href:t.innerContent.type.includes("image")?void 0:t.innerContent.document,download:t.innerContent.name,onClick:function(){t.innerContent.type.includes("image")&&e.showModal(document)},icon:!0,labelPosition:"right",color:e.getColor(t.innerContent.type)[0],basic:!0},t.innerContent.name,s.a.createElement(f.a,{style:{background:"none"},name:e.getColor(t.innerContent.type)[1]}))),s.a.createElement("div",{style:{flex:.1}},s.a.createElement(O.a,{color:"red",onClick:function(){return e.props.deleteDocument(t)},icon:!0},s.a.createElement(f.a,{name:"times",color:"white"})))):s.a.createElement("div",{style:{display:"flex",justifyContent:"center"}},s.a.createElement(O.a.Group,null,s.a.createElement(O.a,{style:{background:"#3C4586",color:"white"},content:s.a.createElement(E.a,{minWidth:540},"Ajouter un document"),labelPosition:"left",icon:"file",onClick:function(){return e.fileInputRef.current.click()}}),s.a.createElement("input",{ref:e.fileInputRef,type:"file",hidden:!0,onChange:function(a){return e.fileChange(t,a)}}),s.a.createElement(O.a.Or,{text:"ou"}),s.a.createElement(O.a,{style:{background:"red",color:"white"},onClick:function(){return e.addForm(t)},content:s.a.createElement(E.a,{minWidth:540},"Formulaire \xe0 remplir"),labelPosition:"right",icon:"file pdf"})))))))})))}}]),t}(r.Component),Lt=a(32),_t=function(e){function t(e,a){var n;return Object(c.a)(this,t),(n=Object(u.a)(this,Object(p.a)(t).call(this,e,a))).state={onDrag:!1},n}return Object(m.a)(t,e),Object(A.a)(t,[{key:"render",value:function(){var e=Object(Lt.a)({},this.props),t=0===this.props.activeIndex?this.props.taskListAvant:1===this.props.activeIndex?this.props.taskListPendant:this.props.taskListApr\u00e8s;return this.props.locked?s.a.createElement("div",{className:"hidescrollbar",slideClassName:"hidescrollbar"},s.a.createElement(ft.a,{onDragEnd:this.props.onDragEnd},s.a.createElement(ft.c,{droppableId:"droppable"},function(a){return s.a.createElement("div",Object.assign({ref:a.innerRef},a.droppableProps),s.a.createElement(Bt,Object.assign({taskList:t},e)),a.placeholder)}))):s.a.createElement(he.a,{style:{height:"100%"},className:"hidescrollbar",index:this.props.activeIndex,onChangeIndex:this.props.handleChangeIndex,slideClassName:"hidescrollbar"},s.a.createElement(Bt,Object.assign({taskList:t},e)),s.a.createElement(Bt,Object.assign({taskList:t},e)),s.a.createElement(Bt,Object.assign({taskList:t},e)))}}]),t}(r.Component);var Pt=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(u.a)(this,Object(p.a)(t).call(this,e))).handleChange=function(e,t){a.setState({activeIndex:t})},a.handleChangeIndex=function(e){a.setState({activeIndex:e})},a.onDragEnd=function(e){var t=e.destination,n=e.source;if(t&&(t.droppableId!==n.droppableId||t.index!==n.index)){var r;r=0===a.state.activeIndex?a.state.taskListAvant:1===a.state.activeIndex?a.state.taskListPendant:a.state.taskListApr\u00e8s;var s=Array.from(r),l=s.splice(e.source.index,1),i=Object(be.a)(l,1)[0];s.splice(e.destination.index,0,i),0===a.state.activeIndex?a.setState({taskListAvant:s}):1===a.state.activeIndex?a.setState({taskListPendant:s}):a.setState({"taskListApr\xe8s":s})}},a.state={taskListAvant:[],taskListPendant:[],"taskListApr\xe8s":[],index:0,id:0,trameName:"",isLoading:!0,_id:null,_rev:null,activeIndex:0,locked:!1},a.validateName=a.validateName.bind(Object(ke.a)(a)),a.changeType=a.changeType.bind(Object(ke.a)(a)),a.handleTextChange=a.handleTextChange.bind(Object(ke.a)(a)),a.handleNameChange=a.handleNameChange.bind(Object(ke.a)(a)),a.deleteTask=a.deleteTask.bind(Object(ke.a)(a)),a.addDocument=a.addDocument.bind(Object(ke.a)(a)),a.deleteDocument=a.deleteDocument.bind(Object(ke.a)(a)),a.saveTrame=a.saveTrame.bind(Object(ke.a)(a)),a.addForm=a.addForm.bind(Object(ke.a)(a)),a}return Object(m.a)(t,e),Object(A.a)(t,[{key:"saveTrame",value:function(){var e=Object(Y.a)(G.a.mark(function e(){return G.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.confirm("Voulez-vous sauvegarder cette trame?")){e.next=10;break}return e.prev=1,e.next=4,ce.services.trame.postDocument(this.state._id?{name:this.state.trameName,trameAvant:this.state.taskListAvant,tramePendant:this.state.taskListPendant,"trameApr\xe8s":this.state.taskListApr\u00e8s,_id:this.state._id,_rev:this.state._rev}:{name:this.state.trameName,trameAvant:this.state.taskListAvant,tramePendant:this.state.taskListPendant,"trameApr\xe8s":this.state.taskListApr\u00e8s});case 4:this.props.history.push("/preferences"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),console.log(e.t0);case 10:case"end":return e.stop()}},e,this,[[1,7]])}));return function(){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){this.props.changeNameOfPage(),this.props.changeBackUrl(),this.props.changeActivePage(),this.props.match.params.id?this.getTrame(this.props.match.params.id):this.setState({isLoading:!1})}},{key:"getTrame",value:function(){var e=Object(Y.a)(G.a.mark(function e(t){var a;return G.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ce.services.trame.getTrameById(t);case 3:a=e.sent[0],this.setState({taskListAvant:a.trameAvant,taskListPendant:a.tramePendant,"taskListApr\xe8s":a.trameApr\u00e8s,trameName:a.name,_id:a._id,index:Math.max.apply(Math,a.trameAvant.map(function(e){return e.index}))+Math.max.apply(Math,a.tramePendant.map(function(e){return e.index}))+Math.max.apply(Math,a.trameApr\u00e8s.map(function(e){return e.index})),id:Math.max.apply(Math,a.trameAvant.map(function(e){return e.id}))+Math.max.apply(Math,a.tramePendant.map(function(e){return e.id}))+Math.max.apply(Math,a.trameApr\u00e8s.map(function(e){return e.id})),isLoading:!1,_rev:a._rev}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}},e,this,[[0,7]])}));return function(t){return e.apply(this,arguments)}}()},{key:"deleteTask",value:function(e){0===this.state.activeIndex?this.setState({taskListAvant:this.state.taskListAvant.filter(function(t){return t!=e})}):1===this.state.activeIndex?this.setState({taskListPendant:this.state.taskListPendant.filter(function(t){return t!=e})}):this.setState({"taskListApr\xe8s":this.state.taskListApr\u00e8s.filter(function(t){return t!=e})})}},{key:"addDocument",value:function(e,t){0===this.state.activeIndex?this.setState({taskListAvant:this.state.taskListAvant.filter(function(a){return a==e&&(a.innerContent=t),a})}):1===this.state.activeIndex?this.setState({taskListPendant:this.state.taskListPendant.filter(function(a){return a==e&&(a.innerContent=t),a})}):this.setState({"taskListApr\xe8s":this.state.taskListApr\u00e8s.filter(function(a){return a==e&&(a.innerContent=t),a})})}},{key:"deleteDocument",value:function(e){0===this.state.activeIndex?this.setState({taskListAvant:this.state.taskListAvant.filter(function(t){return t==e&&(t.innerContent=""),t})}):1===this.state.activeIndex?this.setState({taskListPendant:this.state.taskListPendant.filter(function(t){return t==e&&(t.innerContent=""),t})}):this.setState({"taskListApr\xe8s":this.state.taskListApr\u00e8s.filter(function(t){return t==e&&(t.innerContent=""),t})})}},{key:"validateName",value:function(e,t){0===this.state.activeIndex?this.setState({taskListAvant:this.state.taskListAvant.filter(function(a){return a==e&&(a.title=t),a})}):1===this.state.activeIndex?this.setState({taskListPendant:this.state.taskListPendant.filter(function(a){return a==e&&(a.title=t),a})}):this.setState({"taskListApr\xe8s":this.state.taskListApr\u00e8s.filter(function(a){return a==e&&(a.title=t),a})})}},{key:"handleNameChange",value:function(e,t){this.setState({trameName:t.value})}},{key:"addForm",value:function(e){0===this.state.activeIndex?this.setState({taskListAvant:this.state.taskListAvant.filter(function(t){return t==e&&(t.innerContent="form1&9"),t})}):1===this.state.activeIndex?this.setState({taskListPendant:this.state.taskListPendant.filter(function(t){return t==e&&(t.innerContent="form1&9"),t})}):this.setState({"taskListApr\xe8s":this.state.taskListApr\u00e8s.filter(function(t){return t==e&&(t.innerContent="form1&9"),t})})}},{key:"handleTextChange",value:function(e,t){0===this.state.activeIndex?this.setState({taskListAvant:this.state.taskListAvant.filter(function(a){return a==e&&(a.innerContent=t),a})}):1===this.state.activeIndex?this.setState({taskListPendant:this.state.taskListPendant.filter(function(a){return a==e&&(a.innerContent=t),a})}):this.setState({"taskListApr\xe8s":this.state.taskListApr\u00e8s.filter(function(a){return a==e&&(a.innerContent=t),a})})}},{key:"changeType",value:function(e,t){0===this.state.activeIndex?this.setState({taskListAvant:this.state.taskListAvant.filter(function(a){return a==e&&(a.type=t),a})}):1===this.state.activeIndex?this.setState({taskListPendant:this.state.taskListPendant.filter(function(a){return a==e&&(a.type=t),a})}):this.setState({"taskListApr\xe8s":this.state.taskListApr\u00e8s.filter(function(a){return a==e&&(a.type=t),a})})}},{key:"addTask",value:function(){0===this.state.activeIndex?this.setState({taskListAvant:[].concat(Object(Et.a)(this.state.taskListAvant),[{title:"Nouvelle t\xe2che"+this.state.index,type:"basic",innerContent:"",index:this.state.index,id:this.state.id}]),index:this.state.index+1,id:this.state.id+1}):1===this.state.activeIndex?this.setState({taskListPendant:[].concat(Object(Et.a)(this.state.taskListPendant),[{title:"Nouvelle t\xe2che"+this.state.index,type:"basic",innerContent:"",index:this.state.index,id:this.state.id}]),index:this.state.index+1,id:this.state.id+1}):this.setState({"taskListApr\xe8s":[].concat(Object(Et.a)(this.state.taskListApr\u00e8s),[{title:"Nouvelle t\xe2che"+this.state.index,type:"basic",innerContent:"",index:this.state.index,id:this.state.id}]),index:this.state.index+1,id:this.state.id+1})}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"hidescrollbar",style:{display:"flex",height:"100%",width:"100%",backgroundColor:"#f2f2f2",overflow:"hidden"}},s.a.createElement("div",{style:{width:"100%",justifyContent:"center",textAlign:"center"}},s.a.createElement(C.a,{style:{height:"100%"}},this.state.isLoading?s.a.createElement(z,null):s.a.createElement("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",overflow:"hidden",height:"100%"}},s.a.createElement("div",{style:{position:"fixed",zIndex:10,width:"100%",backgroundColor:"#f2f2f2",display:"flex",flexDirection:"column",padding:20}},s.a.createElement("div",{style:{display:"flex",flexDirection:"row"}},s.a.createElement(E.a,{minWidth:400},s.a.createElement("div",{style:{flex:.3}})),s.a.createElement("div",{style:{flex:1}},s.a.createElement(Ne.a,{style:{width:150},placeholder:"Nom de la trame...",value:this.state.trameName,onChange:this.handleNameChange}),s.a.createElement(O.a,{style:{marginLeft:5},color:"teal",icon:!0,onClick:function(){return e.addTask()}},s.a.createElement(f.a,{name:"plus",color:"white"}))),s.a.createElement("div",{style:{flex:.3,justifyContent:"flex-end",display:"flex"}},s.a.createElement(O.a,{onClick:this.saveTrame,color:"red",disabled:0===this.state.trameName.length||this.state.taskListAvant.length+this.state.taskListPendant.length+this.state.taskListApr\u00e8s.length===0,icon:!0},s.a.createElement(f.a,{name:"save",color:"white"})))),s.a.createElement("div",{style:{display:"flex",justifyContent:"center"}},s.a.createElement(Ie.a,{value:this.state.activeIndex,fullWidth:!0,onChange:this.handleChange},s.a.createElement(Te.a,{label:"Avant"}),s.a.createElement(Te.a,{label:"Pendant"}),s.a.createElement(Te.a,{label:"Apr\xe8s"})),s.a.createElement(O.a,{icon:!0,onClick:function(){return e.setState({locked:!e.state.locked})},style:{backgroundColor:this.state.locked?"grey":null}},this.state.locked?s.a.createElement(Ee.a,{trigger:s.a.createElement(f.a,{name:"lock",style:{color:"white"}}),position:"bottom center",content:"La liste est verrouill\xe9e. Vous ne pouvez pas balayer celle-ci entre les diff\xe9rentes \xe9tapes, en revanche vous pouvez d\xe9placer les items de la trame \xe0 votre convenance avec la souris ou votre doigt."}):s.a.createElement(Ee.a,{trigger:s.a.createElement(f.a,{name:"unlock",color:"grey"}),position:"bottom center",content:"La liste est d\xe9verrouill\xe9e. Vous ne pouvez plus r\xe9organiser les items de la liste, vous pouvez en revanche balayer celle-ci entre les diff\xe9rentes \xe9tapes."})))),s.a.createElement("div",{style:{flex:10,overflowY:"auto",marginTop:120,width:"100%"},className:"hidescrollbar"},s.a.createElement(_t,{locked:this.state.locked,activeIndex:this.state.activeIndex,handleChangeIndex:this.handleChangeIndex,onDragEnd:this.onDragEnd,validateName:this.validateName,taskListAvant:this.state.taskListAvant,taskListPendant:this.state.taskListPendant,"taskListApr\xe8s":this.state.taskListApr\u00e8s,changeType:this.changeType,handleTextChange:this.handleTextChange,deleteTask:this.deleteTask,addForm:this.addForm,addDocument:this.addDocument,deleteDocument:this.deleteDocument}))))))}}]),t}(s.a.Component),jt=Object(o.b)(function(){return{}},function(e){return{changeNameOfPage:function(){return e(I("Cr\xe9ation de trame"))},changeBackUrl:function(){return e(T("/preferences"))},changeActivePage:function(){return e(S("mesDossiers","/creation-trame"))}}})(Pt),Rt=(a(331),function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(u.a)(this,Object(p.a)(t).call(this,e))).handleClick=a.handleClick.bind(Object(ke.a)(a)),a.state={activeDropdowns:[],textModified:null,opened:!1},a}return Object(m.a)(t,e),Object(A.a)(t,[{key:"showFormModal",value:function(){this.setState({opened:!0})}},{key:"closeModal",value:function(){this.setState({opened:!this.state.opened})}},{key:"getColor",value:function(e){return e.includes("image")?["teal","file image"]:e.includes("pdf")?["red","file pdf"]:e.includes("sheet")?["green","file excel"]:e.includes("word")||e.includes("opendocument.text")?["blue","file word"]:["grey","file"]}},{key:"handleTextChange",value:function(e,t,a){this.props.setText(t.value,a)}},{key:"modifyText",value:function(e){this.state.textModified?this.setState({textModified:null}):this.setState({textModified:e})}},{key:"saveText",value:function(){this.props.sendText(),this.setState({textModified:null})}},{key:"handleClick",value:function(e){-1===this.state.activeDropdowns.indexOf(e)?this.setState({activeDropdowns:[].concat(Object(Et.a)(this.state.activeDropdowns),[e])}):this.setState({activeDropdowns:this.state.activeDropdowns.filter(function(t){return t!==e})})}},{key:"setStatus",value:function(e,t,a){e.stopPropagation(),e.nativeEvent.stopImmediatePropagation(),this.props.setStatus(t,a)}},{key:"getIconFromStatus",value:function(e,t){var a=this;return{done:s.a.createElement(P.a.Icon,{style:{cursor:"pointer"},onClick:function(e){return a.setStatus(e,"problem",t)},name:"check",color:"green",size:"large",verticalAlign:"middle"}),"on-progress":s.a.createElement(P.a.Icon,{style:{cursor:"pointer"},onClick:function(e){return a.setStatus(e,"done",t)},name:"circle",color:"orange",size:"large",verticalAlign:"middle"}),problem:s.a.createElement(P.a.Icon,{style:{cursor:"pointer"},onClick:function(e){return a.setStatus(e,"on-progress",t)},name:"warning circle",color:"red",size:"large",verticalAlign:"middle"}),undefined:s.a.createElement(P.a.Icon,{style:{cursor:"pointer"},onClick:function(e){return a.setStatus(e,"on-progress",t)},name:"warning circle",color:"red",size:"large",verticalAlign:"middle"})}[e]}},{key:"render",value:function(){var e=this;return s.a.createElement(s.a.Fragment,null,s.a.createElement(kt,Object.assign({},this.props,{opened:this.state.opened,close:function(){return e.closeModal()}})),s.a.createElement(P.a,{className:"responsivepadding",relaxed:!0,style:{textAlign:"left"}},this.props.taskList.map(function(t,a){return s.a.createElement("div",{key:a,style:{borderRadius:3,borderBottom:"3px solid #c0c1c4",margin:15,boxShadow:"6px 1px 12px 2px #cfcfcf"}},s.a.createElement(P.a.Item,{style:{borderTopLeftRadius:3,borderTopRightRadius:3,padding:15,backgroundColor:"#4286f4",cursor:t.innerContent&&"pointer"},key:t.title,onClick:function(){return t.innerContent&&e.handleClick(a)}},s.a.createElement("div",{style:{display:"flex",width:"100%"}},s.a.createElement("div",{style:{flex:1}},e.getIconFromStatus(t.status,a)),s.a.createElement("div",{style:{flex:8,color:"white"}},t.title.toUpperCase()),s.a.createElement("div",{style:{flex:1,textAlign:"right"}},t.innerContent&&(e.state.activeDropdowns.includes(a)?s.a.createElement(P.a.Icon,{name:"caret up",style:{color:"white"}}):s.a.createElement(P.a.Icon,{name:"caret down",style:{color:"white"}}))))),s.a.createElement(P.a.Item,null,e.state.activeDropdowns.includes(a)&&("text"===t.type?s.a.createElement("div",{style:{padding:15}},s.a.createElement("div",{style:{display:"flex"}},s.a.createElement("div",{style:{flex:10,marginRight:10}},e.state.textModified?s.a.createElement(ze.a,null,s.a.createElement(We.a,{value:t.innerContent,onChange:function(t,n){return e.handleTextChange(t,n,a)}}),s.a.createElement("div",{style:{width:"100%",display:"flex",justifyContent:"flex-end",marginTop:10}})):t.innerContent),s.a.createElement("div",{style:{flex:1}},e.state.textModified?s.a.createElement(f.a,{style:{cursor:"pointer",color:"#4286f4"},name:"check",onClick:function(){return e.saveText()}}):s.a.createElement(f.a,{style:{cursor:"pointer",color:"#4286f4"},name:"pencil",onClick:function(){return e.modifyText(a)}})))):s.a.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",padding:15}},"form1&9"===t.innerContent?s.a.createElement(O.a,{color:"red",labelPosition:"right",icon:!0,onClick:function(){return e.showFormModal()}},"Remplir un formulaire ",s.a.createElement(f.a,{name:"file pdf"})):t.innerContent.type.includes("image")?s.a.createElement("img",{style:{maxHeight:200,maxWidth:"100%"},src:t.innerContent.document}):s.a.createElement(O.a,{as:"a",href:t.innerContent.type.includes("image")?void 0:t.innerContent.document,download:t.innerContent.name,onClick:function(){t.innerContent.type.includes("image")&&e.showModal(document)},icon:!0,labelPosition:"right",color:e.getColor(t.innerContent.type)[0],basic:!0},t.innerContent.name,s.a.createElement(f.a,{style:{background:"none"},name:e.getColor(t.innerContent.type)[1]}))))))})))}}]),t}(s.a.Component)),Mt=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(u.a)(this,Object(p.a)(t).call(this,e))).handleChange=function(e,t){a.setState({activeIndex:t})},a.handleChangeIndex=function(e){a.setState({activeIndex:e})},a.onDragEnd=function(e){var t=e.destination,n=e.source;if(t&&(t.droppableId!==n.droppableId||t.index!==n.index)){var r;r=0===a.props.index?a.state.taskListAvant:1===a.props.index?a.state.taskListPendant:a.state.taskListApr\u00e8s;var s=Array.from(r),l=s.splice(e.source.index,1),i=Object(be.a)(l,1)[0];s.splice(e.destination.index,0,i),0===a.props.index?a.setState({taskListAvant:s}):1===a.props.index?a.setState({taskListPendant:s}):a.setState({"taskListApr\xe8s":s})}},a.state={taskListAvant:a.props.trame.trameAvant,taskListPendant:a.props.trame.tramePendant,"taskListApr\xe8s":a.props.trame.trameApr\u00e8s,activeIndex:0,index:a.calculateIndex(),id:a.calculateIndex(),isLoading:!0,_id:a.props.trame._id,_rev:a.props.visite._rev,locked:!1},a.validateName=a.validateName.bind(Object(ke.a)(a)),a.changeType=a.changeType.bind(Object(ke.a)(a)),a.handleTextChange=a.handleTextChange.bind(Object(ke.a)(a)),a.handleNameChange=a.handleNameChange.bind(Object(ke.a)(a)),a.deleteTask=a.deleteTask.bind(Object(ke.a)(a)),a.addDocument=a.addDocument.bind(Object(ke.a)(a)),a.deleteDocument=a.deleteDocument.bind(Object(ke.a)(a)),a.addForm=a.addForm.bind(Object(ke.a)(a)),a}return Object(m.a)(t,e),Object(A.a)(t,[{key:"saveTrame",value:function(){var e=Object(Y.a)(G.a.mark(function e(){return G.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.confirm("Voulez-vous sauvegarder cette trame?")){e.next=10;break}return e.prev=1,e.next=4,ce.services.visite.updateTrame(this.props.visite,this.state._rev,Object(ne.a)({},this.props.trame,{trameAvant:this.state.taskListAvant,tramePendant:this.state.taskListPendant,"trameApr\xe8s":this.state.taskListApr\u00e8s}));case 4:this.props.closeEdit(),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),console.log(e.t0);case 10:case"end":return e.stop()}},e,this,[[1,7]])}));return function(){return e.apply(this,arguments)}}()},{key:"addForm",value:function(e){0===this.state.activeIndex?this.setState({taskListAvant:this.state.taskListAvant.filter(function(t){return t==e&&(t.innerContent="form1&9"),t})}):1===this.state.activeIndex?this.setState({taskListPendant:this.state.taskListPendant.filter(function(t){return t==e&&(t.innerContent="form1&9"),t})}):this.setState({"taskListApr\xe8s":this.state.taskListApr\u00e8s.filter(function(t){return t==e&&(t.innerContent="form1&9"),t})})}},{key:"calculateIndex",value:function(){return Math.max(0===this.props.trame.trameAvant.length?0:parseInt(Math.max.apply(Math,this.props.trame.trameAvant.map(function(e){return e.index}))),0===this.props.trame.tramePendant.length?0:parseInt(Math.max.apply(Math,this.props.trame.tramePendant.map(function(e){return e.index}))),0===this.props.trame.trameApr\u00e8s.length?0:parseInt(Math.max.apply(Math,this.props.trame.trameApr\u00e8s.map(function(e){return e.index}))))+1}},{key:"deleteTask",value:function(e){0===this.props.index?this.setState({taskListAvant:this.state.taskListAvant.filter(function(t){return t!=e})}):1===this.props.index?this.setState({taskListPendant:this.state.taskListPendant.filter(function(t){return t!=e})}):this.setState({"taskListApr\xe8s":this.state.taskListApr\u00e8s.filter(function(t){return t!=e})})}},{key:"addDocument",value:function(e,t){0===this.props.index?this.setState({taskListAvant:this.state.taskListAvant.filter(function(a){return a==e&&(a.innerContent=t),a})}):1===this.props.index?this.setState({taskListPendant:this.state.taskListPendant.filter(function(a){return a==e&&(a.innerContent=t),a})}):this.setState({"taskListApr\xe8s":this.state.taskListApr\u00e8s.filter(function(a){return a==e&&(a.innerContent=t),a})})}},{key:"deleteDocument",value:function(e){0===this.props.index?this.setState({taskListAvant:this.state.taskListAvant.filter(function(t){return t==e&&(t.innerContent=""),t})}):1===this.props.index?this.setState({taskListPendant:this.state.taskListPendant.filter(function(t){return t==e&&(t.innerContent=""),t})}):this.setState({"taskListApr\xe8s":this.state.taskListApr\u00e8s.filter(function(t){return t==e&&(t.innerContent=""),t})})}},{key:"validateName",value:function(e,t){0===this.props.index?this.setState({taskListAvant:this.state.taskListAvant.filter(function(a){return a==e&&(a.title=t),a})}):1===this.props.index?this.setState({taskListPendant:this.state.taskListPendant.filter(function(a){return a==e&&(a.title=t),a})}):this.setState({"taskListApr\xe8s":this.state.taskListApr\u00e8s.filter(function(a){return a==e&&(a.title=t),a})})}},{key:"handleNameChange",value:function(e,t){this.setState({trameName:t.value})}},{key:"handleTextChange",value:function(e,t){0===this.props.index?this.setState({taskListAvant:this.state.taskListAvant.filter(function(a){return a==e&&(a.innerContent=t),a})}):1===this.props.index?this.setState({taskListPendant:this.state.taskListPendant.filter(function(a){return a==e&&(a.innerContent=t),a})}):this.setState({"taskListApr\xe8s":this.state.taskListApr\u00e8s.filter(function(a){return a==e&&(a.innerContent=t),a})})}},{key:"changeType",value:function(e,t){0===this.props.index?this.setState({taskListAvant:this.state.taskListAvant.filter(function(a){return a==e&&(a.type=t),a})}):1===this.props.index?this.setState({taskListPendant:this.state.taskListPendant.filter(function(a){return a==e&&(a.type=t),a})}):this.setState({"taskListApr\xe8s":this.state.taskListApr\u00e8s.filter(function(a){return a==e&&(a.type=t),a})})}},{key:"addTask",value:function(){0===this.props.index?this.setState({taskListAvant:[].concat(Object(Et.a)(this.state.taskListAvant),[{title:"Nouvelle t\xe2che"+this.state.index,type:"basic",innerContent:"",index:this.state.index,id:this.state.id}]),index:this.state.index+1,id:this.state.id+1}):1===this.props.index?this.setState({taskListPendant:[].concat(Object(Et.a)(this.state.taskListPendant),[{title:"Nouvelle t\xe2che"+this.state.index,type:"basic",innerContent:"",index:this.state.index,id:this.state.id}]),index:this.state.index+1,id:this.state.id+1}):this.setState({"taskListApr\xe8s":[].concat(Object(Et.a)(this.state.taskListApr\u00e8s),[{title:"Nouvelle t\xe2che"+this.state.index,type:"basic",innerContent:"",index:this.state.index,id:this.state.id}]),index:this.state.index+1,id:this.state.id+1})}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"hidescrollbar",style:{display:"flex",height:"100%",width:"100%",backgroundColor:"#f2f2f2",overflow:"hidden"}},s.a.createElement("div",{style:{width:"100%",justifyContent:"center",textAlign:"center"}},s.a.createElement(C.a,{style:{height:"100%"}},s.a.createElement("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",overflow:"hidden",height:"100%"}},s.a.createElement("div",{style:{position:"fixed",zIndex:10,width:"100%",backgroundColor:"#f2f2f2",display:"flex",flexDirection:"column",padding:20}},s.a.createElement("div",{style:{display:"flex",flexDirection:"row"}},s.a.createElement(E.a,{minWidth:400},s.a.createElement("div",{style:{flex:.3}})),s.a.createElement("div",{style:{flex:1,display:"flex",justifyContent:"flex-end"}},s.a.createElement(O.a,{style:{marginLeft:5},color:"teal",icon:!0,onClick:function(){return e.addTask()}},s.a.createElement(f.a,{name:"plus",color:"white"}))),s.a.createElement("div",{style:{flex:1,justifyContent:"flex-end",display:"flex"}},s.a.createElement(O.a,{icon:!0,onClick:function(){return e.setState({locked:!e.state.locked})},style:{backgroundColor:this.state.locked?"grey":null}},this.state.locked?s.a.createElement(f.a,{name:"lock",style:{color:"white"}}):s.a.createElement(f.a,{name:"unlock",color:"grey"})),s.a.createElement(O.a,{onClick:function(){return e.saveTrame()},color:"red",disabled:this.state.taskListAvant.length+this.state.taskListPendant.length+this.state.taskListApr\u00e8s.length===0,icon:!0},s.a.createElement(f.a,{name:"save",color:"white"}))))),s.a.createElement("div",{style:{flex:10,overflowY:"auto",marginTop:120,width:"100%"},className:"hidescrollbar"},s.a.createElement(_t,{visite:this.props.visite,locked:this.state.locked,activeIndex:this.props.index,handleChangeIndex:this.props.handleChangeIndex,onDragEnd:this.onDragEnd,validateName:this.validateName,taskListAvant:this.state.taskListAvant,taskListPendant:this.state.taskListPendant,"taskListApr\xe8s":this.state.taskListApr\u00e8s,changeType:this.changeType,handleTextChange:this.handleTextChange,deleteTask:this.deleteTask,addDocument:this.addDocument,deleteDocument:this.deleteDocument,visiteTrame:!0,addForm:this.addForm}))))))}}]),t}(s.a.Component),Qt=function(e){function t(e,a){return Object(c.a)(this,t),Object(u.a)(this,Object(p.a)(t).call(this,e,a))}return Object(m.a)(t,e),Object(A.a)(t,[{key:"render",value:function(){return this.props.editMode?s.a.createElement(Mt,this.props):s.a.createElement(Rt,Object.assign({},this.props,{taskList:this.props.trame.trameAvant}))}}]),t}(r.Component),Jt=function(e){function t(e,a){return Object(c.a)(this,t),Object(u.a)(this,Object(p.a)(t).call(this,e,a))}return Object(m.a)(t,e),Object(A.a)(t,[{key:"render",value:function(){return this.props.editMode?s.a.createElement(Mt,this.props):s.a.createElement(Rt,Object.assign({},this.props,{taskList:this.props.trame.tramePendant}))}}]),t}(r.Component),Ht=function(e){function t(e,a){return Object(c.a)(this,t),Object(u.a)(this,Object(p.a)(t).call(this,e,a))}return Object(m.a)(t,e),Object(A.a)(t,[{key:"render",value:function(){return this.props.editMode?s.a.createElement(Mt,this.props):s.a.createElement(Rt,Object.assign({},this.props,{taskList:this.props.trame.trameApr\u00e8s}))}}]),t}(r.Component),Vt=function(e){function t(e,a){var n;return Object(c.a)(this,t),(n=Object(u.a)(this,Object(p.a)(t).call(this,e,a))).state={activeIndex:0,isLoading:!0,trame:[],visite:null,rev:null},n.getActiveIndex=n.getActiveIndex.bind(Object(ke.a)(n)),n.setStatus=n.setStatus.bind(Object(ke.a)(n)),n.closeEdit=n.closeEdit.bind(Object(ke.a)(n)),n.setText=n.setText.bind(Object(ke.a)(n)),n.sendText=n.sendText.bind(Object(ke.a)(n)),n}return Object(m.a)(t,e),Object(A.a)(t,[{key:"getTrame",value:function(){var e=Object(Y.a)(G.a.mark(function e(){var t;return G.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ce.services.visite.getVisiteById(this.props.match.params.id);case 2:t=e.sent,this.setState({visite:t,rev:t._rev,trame:t.trame,isLoading:!1});case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){this.getTrame()}},{key:"closeEdit",value:function(){var e=Object(Y.a)(G.a.mark(function e(){return G.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getTrame();case 2:this.props.close();case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"sendText",value:function(){var e=this;ce.services.visite.updateTrame(this.state.visite,this.state.rev,this.state.trame).then(function(t){e.setState({rev:t.rev})})}},{key:"setText",value:function(e,t){var a=this.state.trame;0===this.state.activeIndex?(a.trameAvant[t].innerContent=e,this.setState({trame:a})):1===this.state.activeIndex?(a.tramePendant[t].innerContent=e,this.setState({trame:a})):(a.trameApr\u00e8s[t].innerContent=e,this.setState({trame:a}))}},{key:"setStatus",value:function(e,t){var a=this,n=this.state.trame;0===this.state.activeIndex?(n.trameAvant[t].status=e,this.setState({trame:n})):1===this.state.activeIndex?(n.tramePendant[t].status=e,this.setState({trame:n})):(n.trameApr\u00e8s[t].status=e,this.setState({trame:n})),ce.services.visite.updateTrame(this.state.visite,this.state.rev,n).then(function(e){a.setState({rev:e.rev})})}},{key:"getActiveIndex",value:function(e){this.setState({activeIndex:e})}},{key:"render",value:function(){return this.state.isLoading?s.a.createElement(z,null):s.a.createElement("div",{style:{display:"flex",width:"100%",height:"100%",justifyContent:"center",overflow:"hidden"}},this.props.editMode?s.a.createElement(Mt,Object.assign({visite:this.state.visite,setStatus:this.setStatus,isLoading:this.state.isLoading,trame:this.state.trame,closeEdit:this.closeEdit},this.props)):s.a.createElement(he.a,{style:{width:"100%"},className:"hidescrollbar",index:this.props.index,onChangeIndex:this.props.handleChangeIndex,slideClassName:"hidescrollbar"},s.a.createElement(Qt,Object.assign({visite:this.state.visite,setStatus:this.setStatus,setText:this.setText,sendText:this.sendText,isLoading:this.state.isLoading,trame:this.state.trame,closeEdit:this.closeEdit},this.props)),s.a.createElement(Jt,Object.assign({visite:this.state.visite,setStatus:this.setStatus,setText:this.setText,sendText:this.sendText,isLoading:this.state.isLoading,trame:this.state.trame,closeEdit:this.closeEdit},this.props)),s.a.createElement(Ht,Object.assign({visite:this.state.visite,setStatus:this.setStatus,sendText:this.sendText,setText:this.setText,isLoading:this.state.isLoading,trame:this.state.trame,closeEdit:this.closeEdit},this.props))))}}]),t}(s.a.Component),Ut=a(43),zt=(a(782),function(e){function t(e){return Object(c.a)(this,t),Object(u.a)(this,Object(p.a)(t).call(this,e))}return Object(m.a)(t,e),Object(A.a)(t,[{key:"render",value:function(){var e=this;return s.a.createElement(x.a,{textAlign:"center"},s.a.createElement(h.a,{style:{zIndex:"0",backgroundColor:"white"},fixed:"bottom",fluid:!0,borderless:!0,widths:2},s.a.createElement(h.a.Item,{style:{zIndex:-1},className:"myMenuItem",name:"trame",active:0===this.props.activeItem,onClick:function(){return e.props.setActiveTab(0)}},s.a.createElement("div",{style:{flexDirection:"column",marginRight:"50px"}},s.a.createElement(f.a,{name:"list",size:"large",color:"white"}),s.a.createElement("p",{style:{marginTop:"5px",color:"white"}},"Trame"))),s.a.createElement(h.a.Item,{style:{zIndex:2,bottom:"0",position:"absolute",marginBottom:"-30px",overflow:"hidden",width:"103px",textAlign:"center"},onClick:function(){return e.props.setActiveTab(1)}},s.a.createElement("div",{style:{flexDirection:"column"}},s.a.createElement(O.a,{color:1===this.props.activeItem?"white":"#3C4586",style:{fontSize:40,zIndex:2,margin:0},circular:!0,size:"massive",icon:"photo"}))),s.a.createElement(h.a.Item,{style:{zIndex:-1},className:"myMenuItem",name:"documents",color:"#3C4586",active:2===this.props.activeItem,onClick:function(){return e.props.setActiveTab(2)}},s.a.createElement("div",{style:{flexDirection:"column",marginLeft:"50px"}},s.a.createElement(f.a,{name:"file",size:"large"}),s.a.createElement("p",{style:{marginTop:"5px"}},"Documents")))))}}]),t}(s.a.Component)),Ft=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(A.a)(t,[{key:"render",value:function(){return s.a.createElement(zt,this.props)}}]),t}(s.a.Component),Gt=a(352),Yt=a.n(Gt),qt=(a(783),a(784),a(498)),Wt=a.n(qt),Kt=a(810),Xt=a(214),Zt=a.n(Xt),$t=a(353),ea=ce.services.documents,ta=function(e){function t(e,a){var n;return Object(c.a)(this,t),(n=Object(u.a)(this,Object(p.a)(t).call(this,e,a))).goFull=function(){n.setState({isFull:!n.state.isFull})},n.close=function(){n.props.setActiveTab(0),n.goFull()},n.loaded=function(){n.setState({loaded:!0})},n.getFileSize=function(e){return.75*e.length-2},n.convertImage=function(e){return new Promise(function(t){Zt.a.read($t.Buffer.from(e.replace(/^data:image\/png;base64,/,""),"base64")).then(function(e){e.getBase64(Zt.a.MIME_JPEG,function(e,a){t(a)})})})},n.reSizeImage=function(e,t){return new Promise(function(a){Zt.a.read($t.Buffer.from(e.replace(/^data:image\/jpeg;base64,/,""),"base64")).then(function(e){e.quality(t).getBase64(Zt.a.MIME_JPEG,function(e,t){a(t)})})})},n.state={isFull:!1,loaded:!1},n}return Object(m.a)(t,e),Object(A.a)(t,[{key:"componentDidMount",value:function(){this.goFull()}},{key:"onTakePhoto",value:function(){var e=Object(Y.a)(G.a.mark(function e(t){var a,n,r;return G.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=this.getFileSize(t),e.next=3,this.convertImage(t);case 3:t=e.sent,n=t,r=90;case 6:if(!(a>1e5)){e.next=14;break}return e.next=9,this.reSizeImage(t,r);case 9:n=e.sent,a=this.getFileSize(n),r-=r/10,e.next=6;break;case 14:return e.prev=14,e.next=17,ea.postDocument({document:n,name:Date.now()+".jpeg",type:"image/jpeg",visite:[this.props.visiteid],date:Date.now(),dossier:null,categorie:"photo"});case 17:e.next=22;break;case 19:e.prev=19,e.t0=e.catch(14),console.log(e.t0);case 22:case"end":return e.stop()}},e,this,[[14,19]])}));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return s.a.createElement("div",{style:{backgroundColor:"black"}},!this.state.loaded&&s.a.createElement(U.Spinner,null),s.a.createElement("br",null),s.a.createElement(Wt.a,{enabled:this.state.isFull,onChange:function(t){return e.setState({isFull:t})}},this.state.isFull&&s.a.createElement("div",{style:{display:"flex",flexDirection:"column"}},s.a.createElement(Yt.a,{onCameraStart:function(){return e.loaded()},idealFacingMode:Gt.FACING_MODES.ENVIRONMENT,isImageMirror:!1,onTakePhoto:function(t){e.onTakePhoto(t)}}),s.a.createElement("div",{style:{marginTop:50,alignItems:"center",justifyContent:"center"}},s.a.createElement(Kt.a,{size:"large",color:"secondary",variant:"outlined",onClick:function(){return e.close()}},"Fermer")))))}}]),t}(r.Component),aa=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(A.a)(t,[{key:"render",value:function(){return s.a.createElement(Me,Object.assign({dossier:!1},this.props))}}]),t}(r.Component),na=ce.services.visite;var ra=function(e){function t(e,a){var n;return Object(c.a)(this,t),(n=Object(u.a)(this,Object(p.a)(t).call(this,e,a))).handleChangeIndex=function(e){n.setState({activeIndex:e})},n.handleChange=function(e,t){n.setState({activeIndex:t})},n.setActiveTab=function(e){n.setState({activeTab:e})},n.exportToSora=Object(Y.a)(G.a.mark(function e(){return G.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.confirm("\xcates-vous sur de vouloir exporter cette visite dans SORA.\n Vous ne pourrez plus modifier la visite dans SESAM et vous perdrez la trame li\xe9e \xe0 la visite.")){e.next=4;break}return e.next=3,na.exportToSora(n.props.match.params.id);case 3:n.props.history.goBack();case 4:case"end":return e.stop()}},e)})),n._emitter=new Ut.EventEmitter,n.state={activeIndex:0,activeTab:0,editMode:!1},n.handleChangeIndex=n.handleChangeIndex.bind(Object(ke.a)(n)),n.setActiveTab=n.setActiveTab.bind(Object(ke.a)(n)),n.closeEdit=n.closeEdit.bind(Object(ke.a)(n)),n.exportToSora=n.exportToSora.bind(Object(ke.a)(n)),n}return Object(m.a)(t,e),Object(A.a)(t,[{key:"componentDidMount",value:function(){this.props.changeNameOfPage("Visite "+this.props.match.params.id);var e,t;this.props.changeBackUrl((e=this.props.backUrl,t=this.props.oldBackUrl,e.includes("/dossier")?e:t.includes("/dossier")?t:"/mes-dossiers")),this.props.changeActivePage("/visite/"+this.props.match.params.id)}},{key:"closeEdit",value:function(){this.setState({editMode:!1})}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"hidescrollbar",style:{display:"flex",height:"100%",backgroundColor:"#f2f2f2",overflow:"hidden"}},s.a.createElement("div",{style:{width:"100%",justifyContent:"center",textAlign:"center"}},s.a.createElement(C.a,{style:{height:"100%"}},0===this.state.activeTab?s.a.createElement("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",overflow:"auto",height:"100%"}},s.a.createElement("div",{style:{position:"fixed",zIndex:10,width:"100%",backgroundColor:"#f2f2f2",display:"flex",justifyContent:"center"}},s.a.createElement(E.a,{minWidth:540},s.a.createElement(O.a,{icon:!0,style:{position:"absolute",left:10,top:10},labelPosition:"left",onClick:function(){return e.setState({editMode:!0})}},s.a.createElement(f.a,{name:"pencil"}),"Editer")),s.a.createElement(E.a,{maxWidth:539},s.a.createElement(O.a,{icon:!0,disabled:this.state.editMode,style:{position:"absolute",left:10,top:10},onClick:function(){return e.setState({editMode:!0})}},s.a.createElement(f.a,{name:"pencil"}))),s.a.createElement(E.a,{minWidth:540},s.a.createElement(O.a,{icon:!0,style:{position:"absolute",right:10,top:10},labelPosition:"left",onClick:this.exportToSora},s.a.createElement(f.a,{name:"share square"}),"Exporter")),s.a.createElement(E.a,{maxWidth:539},s.a.createElement(O.a,{icon:!0,style:{position:"absolute",right:10,top:10},onClick:this.exportToSora},s.a.createElement(f.a,{name:"share square"}))),s.a.createElement(Ie.a,{value:this.state.activeIndex,fullWidth:!0,onChange:this.handleChange},s.a.createElement(Te.a,{label:"Avant"}),s.a.createElement(Te.a,{label:"Pendant"}),s.a.createElement(Te.a,{label:"Apr\xe8s"}))),s.a.createElement("div",{style:{flex:10,overflowY:"auto",marginTop:80,paddingBottom:105,width:"100%"},className:"hidescrollbar"},s.a.createElement(Vt,Object.assign({editMode:this.state.editMode,close:this.closeEdit},this.props,{index:this.state.activeIndex,handleChangeIndex:this.handleChangeIndex})))):1===this.state.activeTab?s.a.createElement(ta,{setActiveTab:this.setActiveTab,visiteid:parseInt(this.props.match.params.id)}):s.a.createElement("div",null,s.a.createElement(aa,Object.assign({},this.props,{visiteid:parseInt(this.props.match.params.id)})))),s.a.createElement(Ft,{setActiveTab:this.setActiveTab,activeItem:this.state.activeTab})))}}]),t}(s.a.Component),sa=Object(o.b)(function(e){return{backUrl:e.navbarReducer.activePages.mesDossiers,oldBackUrl:e.navbarReducer.backPage}},function(e){return{changeNameOfPage:function(t){return e(I(t))},changeBackUrl:function(t){return e(T(t))},changeActivePage:function(t){return e(S("mesDossiers",t))}}})(ra),la=(a(789),{isLoading:!1,results:[],value:""});var ia=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(u.a)(this,Object(p.a)(t).call(this,e))).handleResultSelect=function(e,t){var n=t.result;return a.setState({value:n.title})},a.handleSearchChange=function(e,t){var n=t.value;a.setState({isLoading:!0,value:n}),clearTimeout(a.timeout),a.timeout=setTimeout(Object(Y.a)(G.a.mark(function e(){var t,n;return G.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a.state.value.length<1)){e.next=2;break}return e.abrupt("return",a.setState(la));case 2:return e.next=4,$.a.get(X.backend.base_url+"/entreprise/search?query="+a.state.value);case 4:t=e.sent,n=t.data,a.setState({isLoading:!1,results:n});case 7:case"end":return e.stop()}},e)})),300)},a.state={isLoading:!1,results:[],value:""},a}return Object(m.a)(t,e),Object(A.a)(t,[{key:"componentDidMount",value:function(){this.props.changeNameOfPage(),this.props.changeBackUrl(),this.props.changeActivePage()}},{key:"renderResults",value:function(e){var t=e.ETOB_IDENT,a=e.ETOB_RAISON_SOCIALE,n=e.ETOB_ENSEIGNE_LIB,r=e.ETOB_SIRET;return s.a.createElement(C.a,{fluid:!0,as:d.b,to:"/etablissement/"+t,style:{color:"black",padding:"1em"}},s.a.createElement(x.a,null,s.a.createElement(x.a.Row,{style:{padding:"0.2em"}},s.a.createElement(R.a,{as:"h3"},n||a)),s.a.createElement(x.a.Row,{style:{padding:0}},s.a.createElement(x.a.Column,{style:{fontWeight:"bold"},width:5},"Enseigne :"," "),s.a.createElement(x.a.Column,{width:10},n)),s.a.createElement(x.a.Row,{style:{padding:0}},s.a.createElement(x.a.Column,{style:{fontWeight:"bold"},width:5},"Raison Sociale :"," "),s.a.createElement(x.a.Column,{width:10},a)),s.a.createElement(x.a.Row,{style:{padding:0}},s.a.createElement(x.a.Column,{style:{fontWeight:"bold"},width:5},"Siret :"," "),s.a.createElement(x.a.Column,{width:10},r))))}},{key:"render",value:function(){var e=this.state,t=e.isLoading,a=e.value,n=e.results;return s.a.createElement(C.a,{style:{height:"90%"}},s.a.createElement(x.a,{style:{height:"100%",marginTop:"1rem"}},s.a.createElement(x.a.Column,{tablet:11,mobile:16,computer:16,textAlign:"center"},s.a.createElement(_.a,{fluid:!0,noResultsMessage:"Aucun r\xe9sultat.",loading:t,onResultSelect:this.handleResultSelect,onSearchChange:V.a.debounce(this.handleSearchChange,1e4,{leading:!0}),results:n,value:a,resultRenderer:this.renderResults}))))}}]),t}(s.a.Component),oa=Object(o.b)(function(){return{}},function(e){return{changeNameOfPage:function(){return e(I("\xc9tablissements"))},changeBackUrl:function(){return e(T("/menu"))},changeActivePage:function(){return e(S("etablissements","/etablissements"))}}})(ia),ca=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(A.a)(t,[{key:"render",value:function(){return s.a.createElement(oa,null)}}]),t}(s.a.Component),Aa=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(u.a)(this,Object(p.a)(t).call(this,e))).state={showControles:!1},a}return Object(m.a)(t,e),Object(A.a)(t,[{key:"render",value:function(){var e=this,t=this.props.visite;return s.a.createElement(r.Fragment,{style:{margin:"0.5em"}},s.a.createElement(x.a.Row,{style:{padding:10,overflow:"auto"}},s.a.createElement(j.a,{style:{width:"100%"}},s.a.createElement(x.a,null,s.a.createElement(x.a.Row,{verticalAlign:"middle",style:{padding:0}},s.a.createElement(x.a.Column,{width:3,onClick:function(){return e.setState({showControles:!e.state.showControles})},style:{backgroundColor:"#f2f2f2",display:"flex",alignItems:"center",justifyContent:"center",minHeight:"30px"}},s.a.createElement(E.a,{minWidth:600},s.a.createElement("div",{style:{display:"flex",flexDirection:"row",textAlign:"center"}},s.a.createElement(f.a,{name:"search",color:"grey",size:"large"}),s.a.createElement("div",{style:{borderRadius:"50%",width:"20px",height:"20px",background:"red",color:"white"}},t.controles.length))),s.a.createElement(E.a,{maxWidth:599},s.a.createElement("div",{style:{display:"flex",flexDirection:"row",textAlign:"center"}},s.a.createElement(f.a,{name:"search",color:"grey",size:"small",style:{fontSize:"1em"}}),s.a.createElement("div",{style:{borderRadius:"50%",width:"20px",height:"20px",background:"red",color:"white"}},t.controles.length)))),s.a.createElement(x.a.Column,{width:7,textAlign:"left"},s.a.createElement(R.a,{as:"h3",style:{fontWeight:"normal"}},t.VISITE_AGENT_LIBELLE)),s.a.createElement(x.a.Column,{width:6},s.a.createElement(R.a,{as:"h3",style:{fontWeight:"normal",fontStyle:"italic"}},Q()(t.VISITE_DATE_INTERVENTION).format("DD/MM/YYYY"))))))),this.state.showControles&&s.a.createElement(xe,{controles:t.controles}))}}]),t}(r.Component);var ua=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(u.a)(this,Object(p.a)(t).call(this,e))).state={visites:[]},a}return Object(m.a)(t,e),Object(A.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.props.changeBackUrl("/etablissements"),this.setState({isLoading:!0}),$.a.get(X.backend.base_url+"/entreprise/"+this.props.match.params.id).then(function(t){var a=t.data;e.setState(a),e.props.changeNameOfPage("\xc9tablissement "+a.ETOB_RAISON_SOCIALE),e.props.changeActivePage("/etablissement/"+a.ETOB_IDENT),e.setState({isLoading:!1})})}},{key:"componentDidUpdate",value:function(e){var t=this;e.match.params.id!=this.props.match.params.id&&(this.setState({isLoading:!0}),$.a.get(X.backend.base_url+"/entreprise/"+this.props.match.params.id).then(function(e){var a=e.data;t.setState(a),t.props.changeNameOfPage("\xc9tablissement "+a.ETOB_ENSEIGNE_LIB),t.props.changeActivePage("/etablissement/"+a.ETOB_IDENT),t.setState({isLoading:!1})}))}},{key:"render",value:function(){return this.state.isLoading?s.a.createElement(z,null):s.a.createElement(C.a,{style:{padding:"1rem"}},s.a.createElement(L.a,{centered:!0,raised:!0,fluid:!0},s.a.createElement(L.a.Content,null,s.a.createElement(L.a.Header,{textAlign:"center"},"Informations")),s.a.createElement(L.a.Content,null,s.a.createElement(x.a,null,s.a.createElement(fe,{name:"Enseigne :",icon:"building",value:s.a.createElement("span",null,this.state.ETOB_ENSEIGNE_LIB)}),s.a.createElement(fe,{name:"Raison Sociale :",icon:"address card",value:s.a.createElement("span",null,this.state.ETOB_RAISON_SOCIALE)}),s.a.createElement(fe,{name:"SIRET :",icon:"text cursor",value:s.a.createElement("span",null,this.state.ETOB_SIRET)}),s.a.createElement(fe,{name:"NAF :",icon:"clipboard",value:s.a.createElement("span",null,this.state.NAF_LIBELLE)}),s.a.createElement(fe,{name:"Adresse :",icon:"address book",value:s.a.createElement("span",null,this.state.ETOB_ADR1," ",s.a.createElement("br",null),this.state.ETOB_ADR2&&s.a.createElement("span",null,this.state.ETOB_ADR2," ",s.a.createElement("br",null)),this.state.ETOB_ADR3&&s.a.createElement("span",null,this.state.ETOB_ADR3," ",s.a.createElement("br",null)),this.state.ETOB_ADRCP,s.a.createElement("span",null," "),this.state.ETOB_ADRVILLE)})))),s.a.createElement(L.a,{centered:!0,raised:!0,fluid:!0},s.a.createElement(L.a.Content,null,s.a.createElement(L.a.Header,{textAlign:"center"},"Visites")),s.a.createElement(L.a.Content,null,s.a.createElement(x.a,null,this.state.visites.map(function(e){return s.a.createElement(Aa,{key:e.VISITE_IDENT,visite:e})})))))}}]),t}(s.a.Component),pa=Object(o.b)(function(){return{}},function(e){return{changeNameOfPage:function(t){return e(I(t))},changeBackUrl:function(t){return e(T(t))},changeActivePage:function(t){return e(S("etablissements",t))}}})(ua);function ma(e){return{type:"CHANGE_AGENT",payload:{newAgentIdent:e}}}var da=a(811);var ha=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(u.a)(this,Object(p.a)(t).call(this,e))).onSubmit=Object(Y.a)(G.a.mark(function e(){var t;return G.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,$.a.get(X.backend.base_url+"/agent/"+a.state.idAgent);case 3:if(t=e.sent,!window.confirm("Etes vous sur de vouloir changer d'utilisateur pour "+t.data.AGENT_DD_LIBELLE+".\n Vous perdrez toutes les donn\xe9es actuelles pour t\xe9l\xe9charger les donn\xe9es du nounvel utilisateur.")){e.next=10;break}return a.setState({isLoading:!0}),e.next=8,a.props.changeAgent(t.data.AGENT_DD_IDENT);case 8:a.props.location&&"/authentification"==a.props.location.pathname&&a.props.history.push("/mes-dossiers"),a.setState({isLoading:!0});case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),!e.t0.response&&e.t0.request?window.alert("Vous devez \xeatre connect\xe9 \xe0 internet pour changer d'utilisateur.\nV\xe9rifier votre connection avant de r\xe9eesayer"):e.t0.response&&404==e.t0.response.status?window.alert("L'utilisateur avec l'identifiant "+a.state.idAgent+" est introuvable"):e.t0.response?window.alert(e.t0.response.status+" An unknown error occured"):window.alert("Une erreur locale s'est produite.");case 15:case"end":return e.stop()}},e,null,[[0,12]])})),a.state={idAgent:"",isLoading:!1},a.onSubmit=a.onSubmit.bind(Object(ke.a)(a)),a}return Object(m.a)(t,e),Object(A.a)(t,[{key:"render",value:function(){var e=this;return this.state.isLoading?s.a.createElement(z,null):s.a.createElement(C.a,{style:{width:"100%",height:"100%"}},s.a.createElement(x.a,{style:{width:"100%",height:"100%"},verticalAlign:"middle",centered:!0},s.a.createElement(Fe.a,null,s.a.createElement(Ye.a,{width:10,centered:!0},s.a.createElement(ze.a,{onSubmit:this.onSubmit,style:{minWidth:"300px",textAlign:"center",paddingBottom:"10em"}},s.a.createElement(da.a,{style:{width:"100%",paddingBottom:"1.5em"}},s.a.createElement(R.a,{as:"h3",style:{textAlign:"left",marginBottom:"0",marginLeft:"0.3em"}},"Identifiant agent"," "),s.a.createElement(Ne.a,{value:this.state.idAgent,size:"big",placeholder:"Identifiant du nouvel utilisateur",style:{width:"100%"},onChange:function(t,a){var n=a.value;return e.setState({idAgent:n})}})),s.a.createElement(da.a,{style:{width:"100%",textAlign:"center"}},s.a.createElement(O.a,{size:"big",style:{color:"white",backgroundColor:"#00b5ad"}}," ","Valider"," ")))))))}}]),t}(s.a.Component),Ea=Object(o.b)(function(e){return{AGENT_DD_IDENT:e.dataReducer.AGENT_DD_IDENT}},function(e){return{changeAgent:function(){var t=Object(Y.a)(G.a.mark(function t(a){return G.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ce.ChangeAgent(a);case 2:e(ma(a));case 3:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()}})(ha),fa=function(e){function t(e,a){var n;return Object(c.a)(this,t),(n=Object(u.a)(this,Object(p.a)(t).call(this,e,a))).state={trames:[],isLoading:!0,trameSelected:null},n}return Object(m.a)(t,e),Object(A.a)(t,[{key:"selectTrame",value:function(e){this.setState({trameSelected:e})}},{key:"componentDidMount",value:function(){var e=this;ce.services.trame.getAllDocs().then(function(t){e.setState({trames:t,isLoading:!1})}).catch(function(e){console.log(e)})}},{key:"render",value:function(){var e=this;return s.a.createElement(C.a,{style:{width:"100%",height:"100%"}},this.state.isLoading?s.a.createElement(z,null):s.a.createElement(x.a,{style:{height:"100%"},verticalAlign:"middle",columns:"equal"},s.a.createElement(x.a.Row,null,s.a.createElement(x.a.Column,null),s.a.createElement(x.a.Column,{computer:6,tablet:8,mobile:16},s.a.createElement(x.a.Row,{style:{padding:"20px"}},s.a.createElement(O.a,{as:d.b,to:"/authentification",icon:!0,fluid:!0,color:"red",size:"massive",labelPosition:"left"},s.a.createElement(f.a,{name:"log out"}),"Se d\xe9connecter")),s.a.createElement(x.a.Row,{style:{padding:"20px"}},s.a.createElement(O.a,{as:d.b,to:"/nouvelle-trame",icon:!0,fluid:!0,color:"teal",size:"massive",labelPosition:"left"},s.a.createElement(f.a,{name:"add"}),"Cr\xe9er un mod\xe8le de trame")),s.a.createElement(x.a.Row,{style:{padding:"20px"}},s.a.createElement(O.a,{as:d.b,to:this.state.trameSelected&&"/nouvelle-trame/"+this.state.trameSelected._id,icon:!0,disabled:!this.state.trameSelected,fluid:!0,color:"blue",size:"massive",labelPosition:"left"},s.a.createElement(f.a,{name:"edit"}),"Editer un mod\xe8le de trame"),s.a.createElement(P.a,{divided:!0,relaxed:!0,verticalAlign:"middle",style:{border:"1px solid #2185d0",borderTop:0,marginTop:0,maxHeight:200,overflow:"auto",borderBottomLeftRadius:3,borderBottomRightRadius:3}},this.state.trames.map(function(t,a){return s.a.createElement(P.a.Item,{onClick:function(){return e.selectTrame(t)},style:{display:"flex",justifyContent:"center",padding:15,backgroundColor:e.state.trameSelected===t&&"white"},key:a},s.a.createElement(R.a,{as:"h5"},t.name))})))),s.a.createElement(x.a.Column,null))))}}]),t}(r.Component),wa=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).lieu="PARIS 15E ARRONDISSEMENT",a.date="23 mai 2015",a.hour=" 15:03 ",a.quality="Responsable qualit\xe9",a.name="Delphine PIERSON",a.nameResponsible="Antoine AWAIDA",a.declaration="Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.",a.documents=["Papier Canson 100g","Imprimante 3D","Papier Canson 100g","Imprimante 3D","Papier Canson 100g","Imprimante 3D","Papier Canson 100g","Imprimante 3D"],a}return Object(m.a)(t,e),Object(A.a)(t,[{key:"render",value:function(){Q()("16-07-2019 11:51","DD-MM-YYYY hh:mm");return s.a.createElement("div",null,s.a.createElement("title",null),s.a.createElement("meta",{httpEquiv:"Content-Type",content:"text/html; charset=UTF-8"}),s.a.createElement("br",null),s.a.createElement("style",{type:"text/css",dangerouslySetInnerHTML:{__html:"\n      \x3c!--\n      \tp {margin: 0; padding: 0;}\t.ft10{font-size:14px;font-family:Times;color:#000000;}\n      \t.ft11{font-size:9px;font-family:Times;color:#7f7f7f;}\n      \t.ft12{font-size:7px;font-family:Times;color:#7f7f7f;}\n      \t.ft13{font-size:9px;font-family:Times;color:#000000;}\n      \t.ft14{font-size:13px;font-family:Times;color:#000000;}\n      \t.ft15{font-size:27px;font-family:Times;color:#000000;}\n      \t.ft16{font-size:16px;font-family:Times;color:#000000;}\n      \t.ft17{font-size:14px;font-family:Times;color:#000000;}\n      \t.ft18{font-size:8px;font-family:Times;color:#000000;}\n      \t.ft19{font-size:9px;line-height:14px;font-family:Times;color:#000000;}\n      \t.ft110{font-size:9px;line-height:13px;font-family:Times;color:#000000;}\n      \t.ft111{font-size:14px;line-height:19px;font-family:Times;color:#000000;}\n      \t.ft112{font-size:14px;line-height:18px;font-family:Times;color:#000000;}\n      --\x3e\n    "}}),s.a.createElement("div",{id:"page1-div",style:{position:"relative",width:"892px",height:"1263px"}},s.a.createElement("img",{width:892,height:1263,src:a(790),alt:"background image"}),s.a.createElement("p",{style:{position:"absolute",top:"55px",left:"204px",whiteSpace:"nowrap"},className:"ft10"},"\xa0"),s.a.createElement("p",{style:{position:"absolute",top:"1171px",left:"140px",whiteSpace:"nowrap"},className:"ft11"},s.a.createElement("i",null,s.a.createElement("b",null,"F"))),s.a.createElement("p",{style:{position:"absolute",top:"1173px",left:"148px",whiteSpace:"nowrap"},className:"ft12"},s.a.createElement("i",null,s.a.createElement("b",null,"ORMULAIRE\xa0"))),s.a.createElement("p",{style:{position:"absolute",top:"1171px",left:"209px",whiteSpace:"nowrap"},className:"ft11"},s.a.createElement("i",null,s.a.createElement("b",null,"SORA"))),s.a.createElement("p",{style:{position:"absolute",top:"1173px",left:"240px",whiteSpace:"nowrap"},className:"ft12"},s.a.createElement("i",null,s.a.createElement("b",null,"\xa0"))),s.a.createElement("p",{style:{position:"absolute",top:"1171px",left:"242px",whiteSpace:"nowrap"},className:"ft11"},s.a.createElement("i",null,s.a.createElement("b",null,"\xa0"))),s.a.createElement("p",{style:{position:"absolute",top:"1171px",left:"396px",whiteSpace:"nowrap"},className:"ft11"},s.a.createElement("i",null,s.a.createElement("b",null,"P"))),s.a.createElement("p",{style:{position:"absolute",top:"1173px",left:"403px",whiteSpace:"nowrap"},className:"ft12"},s.a.createElement("i",null,s.a.createElement("b",null,"ROCES\xa0VERBAL"))),s.a.createElement("p",{style:{position:"absolute",top:"1171px",left:"476px",whiteSpace:"nowrap"},className:"ft11"},s.a.createElement("i",null,s.a.createElement("b",null,"\xa0"))),s.a.createElement("p",{style:{position:"absolute",top:"1171px",left:"650px",whiteSpace:"nowrap"},className:"ft11"},s.a.createElement("i",null,s.a.createElement("b",null,"EN/3D/JUR/003/V03\xa0"))),s.a.createElement("p",{style:{position:"absolute",top:"1185px",left:"55px",whiteSpace:"nowrap"},className:"ft13"},"\xa0"),s.a.createElement("p",{style:{position:"absolute",top:"151px",left:"483px",whiteSpace:"nowrap"},className:"ft10"},"\xa0"),s.a.createElement("p",{style:{position:"absolute",top:"180px",left:"286px",whiteSpace:"nowrap"},className:"ft13"},"MINIST\xc8RE\xa0DE\xa0L'ECONOMIE\xa0ET\xa0DES\xa0FINANCES\xa0"),s.a.createElement("p",{style:{position:"absolute",top:"87px",left:"769px",whiteSpace:"nowrap"},className:"ft10"},"\xa0"),s.a.createElement("p",{style:{position:"absolute",top:"119px",left:"743px",whiteSpace:"nowrap"},className:"ft14"},"Page\xa0\xa0\xa0\xa0\xa0/\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0"),s.a.createElement("p",{style:{position:"absolute",top:"208px",left:"30px",whiteSpace:"nowrap"},className:"ft110"},"DIRECTION\xa0DEPARTEMENTALE\xa0DE\xa0LA\xa0PROTECTION\xa0DES\xa0POPULATIONS\xa0",s.a.createElement("br",null),"\xa0",s.a.createElement("br",null),"\xa0",s.a.createElement("br",null),"8,\xa0RUE\xa0FROISSART\xa0",s.a.createElement("br",null),"\xa0",s.a.createElement("br",null),"75153\xa0PARIS\xa0CEDEX\xa003\xa0",s.a.createElement("br",null),"\xa0",s.a.createElement("br",null),"T\xe9l\xe9phone\xa0\xa0:\xa0\xa001\xa040\xa027\xa016\xa000\xa0",s.a.createElement("br",null),"T\xe9l\xe9copie\xa0\xa0:\xa0\xa001\xa042\xa071\xa009\xa014\xa0",s.a.createElement("br",null),"Courriel\xa0"),s.a.createElement("p",{style:{position:"absolute",top:"332px",left:"87px",whiteSpace:"nowrap"},className:"ft13"},":\xa0\xa0ddpp@paris.gouv.fr\xa0"),s.a.createElement("p",{style:{position:"absolute",top:"346px",left:"30px",whiteSpace:"nowrap"},className:"ft10"},"\xa0"),s.a.createElement("p",{style:{position:"absolute",top:"235px",left:"555px",whiteSpace:"nowrap"},className:"ft15"},s.a.createElement("b",null,"PROCES-VERBAL\xa0")),s.a.createElement("p",{style:{position:"absolute",top:"270px",left:"500px",whiteSpace:"nowrap"},className:"ft15"},s.a.createElement("b",null,"DE\xa0DECLARATION\xa0ET\xa0DE\xa0")),s.a.createElement("p",{style:{position:"absolute",top:"304px",left:"539px",whiteSpace:"nowrap"},className:"ft15"},s.a.createElement("b",null,"PRISE\xa0DE\xa0COPIE\xa0DE\xa0")),s.a.createElement("p",{style:{position:"absolute",top:"339px",left:"586px",whiteSpace:"nowrap"},className:"ft15"},s.a.createElement("b",null,"DOCUMENTS\xa0")),s.a.createElement("p",{style:{position:"absolute",top:"372px",left:"673px",whiteSpace:"nowrap"},className:"ft16"},s.a.createElement("b",null,"(1)")),s.a.createElement("p",{style:{position:"absolute",top:"374px",left:"694px",whiteSpace:"nowrap"},className:"ft10"},"\xa0"),s.a.createElement("p",{style:{position:"absolute",top:"393px",left:"522px",whiteSpace:"nowrap"},className:"ft17"},s.a.createElement("b",null,"r\xe9alis\xe9e(s)\xa0en\xa0application\xa0des\xa0articles\xa0\xa0L.\xa0512-8")),s.a.createElement("p",{style:{position:"absolute",top:"392px",left:"845px",whiteSpace:"nowrap"},className:"ft18"},s.a.createElement("b",null,"\xa0")),s.a.createElement("p",{style:{position:"absolute",top:"412px",left:"539px",whiteSpace:"nowrap"},className:"ft17"},s.a.createElement("b",null,"et\xa0\xa0L.\xa0512-10\xa0du\xa0code\xa0de\xa0la\xa0consommation"),"\xa0"),s.a.createElement("p",{style:{position:"absolute",top:"431px",left:"140px",whiteSpace:"nowrap"},className:"ft10"},"\xa0"),s.a.createElement("p",{style:{position:"absolute",top:"450px",left:"98px",whiteSpace:"nowrap"},className:"ft111"},"Nous,\xa0soussign\xe9(e)\xa0 \xa0",this.name,s.a.createElement("br",null),"\xa0",s.a.createElement("br",null),"de\xa0la\xa0Concurrence,\xa0de\xa0la\xa0Consommation\xa0et\xa0de\xa0la\xa0R\xe9pression\xa0des\xa0Fraudes,\xa0",s.a.createElement("br",null),"\xa0",s.a.createElement("br",null),"\xa0",s.a.createElement("br",null),"\xa0",s.a.createElement("br",null),"agissant\xa0sous\xa0l\u2019autorit\xe9\xa0du\xa0DIRECTEUR\xa0DE\xa0LA\xa0PROTECTION\xa0DES\xa0POPULATIONS\xa0de\xa0PARIS\xa0",s.a.createElement("br",null),"\xa0",s.a.createElement("br",null),"\xa0",s.a.createElement("br",null),"\xa0",s.a.createElement("br",null),"le\xa0\xa0",this.date),s.a.createElement("p",{style:{position:"absolute",top:"640px",left:"438px",whiteSpace:"nowrap"},className:"ft10"},"\xe0\xa0\xa0",this.hour),s.a.createElement("p",{style:{position:"absolute",top:"640px",left:"587px",whiteSpace:"nowrap"},className:"ft10"},"heures,\xa0"),s.a.createElement("p",{style:{position:"absolute",top:"659px",left:"98px",whiteSpace:"nowrap"},className:"ft111"},"\xa0",s.a.createElement("br",null),"\xe0\xa0[lieu]\xa0 \xa0",this.lieu,s.a.createElement("br",null),"\xa0"),s.a.createElement("p",{style:{position:"absolute",top:"715px",left:"98px",whiteSpace:"nowrap"},className:"ft10"},"\xa0"),s.a.createElement("p",{style:{position:"absolute",top:"733px",left:"98px",whiteSpace:"nowrap"},className:"ft10"},"apr\xe8s\xa0nous\xa0\xeatre\xa0pr\xe9sent\xe9,\xa0avoir\xa0justifi\xe9\xa0de\xa0notre\xa0qualit\xe9\xa0et\xa0indiqu\xe9\xa0l'objet\xa0de\xa0notre\xa0enqu\xeate.\xa0"),s.a.createElement("p",{style:{position:"absolute",top:"751px",left:"98px",whiteSpace:"nowrap"},className:"ft10"},"\xa0"),s.a.createElement("p",{style:{position:"absolute",top:"769px",left:"98px",whiteSpace:"nowrap"},className:"ft10"},"entendons\xa0M.\xa0\xa0en\xa0sa\xa0qualit\xe9\xa0de\xa0 \xa0",this.quality),s.a.createElement("p",{style:{position:"absolute",top:"787px",left:"98px",whiteSpace:"nowrap"},className:"ft10"},"\xa0"),s.a.createElement("p",{style:{position:"absolute",top:"805px",left:"98px",whiteSpace:"nowrap"},className:"ft10"},"\xa0"),s.a.createElement("p",{style:{position:"absolute",top:"823px",left:"98px",whiteSpace:"nowrap"},className:"ft10"},"qui\xa0nous\xa0d\xe9clare\xa0ce\xa0qui\xa0suit\xa0:\xa0"),s.a.createElement("p",{style:{position:"absolute",top:"841px",left:"98px"},className:"ft111"},s.a.createElement("br",null),"\xa0",this.declaration,"\xa0",s.a.createElement("br",null),"\xa0",s.a.createElement("br",null),"\xa0",s.a.createElement("br",null),"\xa0",s.a.createElement("br",null),"\xa0",s.a.createElement("br",null),"\xa0",s.a.createElement("br",null),"\xa0",s.a.createElement("br",null),"\xa0",s.a.createElement("br",null),"\xa0",s.a.createElement("br",null),"\xa0",s.a.createElement("br",null),"\xa0",s.a.createElement("br",null),"\xa0",s.a.createElement("br",null),"\xa0",s.a.createElement("br",null),"\xa0",s.a.createElement("br",null),"\xa0"),s.a.createElement("p",{style:{position:"absolute",top:"841px",left:"98px",whiteSpace:"nowrap"},className:"ft111"},"\xa0",s.a.createElement("br",null),"\xa0",s.a.createElement("br",null),"\xa0",s.a.createElement("br",null),"\xa0",s.a.createElement("br",null),"\xa0",s.a.createElement("br",null),"\xa0",s.a.createElement("br",null),"\xa0",s.a.createElement("br",null),"\xa0",s.a.createElement("br",null),"\xa0",s.a.createElement("br",null),"\xa0",s.a.createElement("br",null),"\xa0",s.a.createElement("br",null),"\xa0",s.a.createElement("br",null),"\xa0",s.a.createElement("br",null),"\xa0",s.a.createElement("br",null),"\xa0",s.a.createElement("br",null),"\xa0"),s.a.createElement("p",{style:{position:"absolute",top:"841px",left:"98px",whiteSpace:"nowrap"},className:"ft111"},"\xa0",s.a.createElement("br",null),"\xa0",s.a.createElement("br",null),"\xa0",s.a.createElement("br",null),"\xa0",s.a.createElement("br",null),"\xa0",s.a.createElement("br",null),"\xa0",s.a.createElement("br",null),"\xa0",s.a.createElement("br",null),"\xa0",s.a.createElement("br",null),"\xa0",s.a.createElement("br",null),"\xa0",s.a.createElement("br",null),"\xa0",s.a.createElement("br",null),"\xa0",s.a.createElement("br",null),"\xa0",s.a.createElement("br",null),"\xa0",s.a.createElement("br",null),"\xa0",s.a.createElement("br",null),"\xa0"),s.a.createElement("p",{style:{position:"absolute",top:"841px",left:"98px",whiteSpace:"nowrap"},className:"ft111"},"\xa0",s.a.createElement("br",null),"\xa0",s.a.createElement("br",null),"\xa0",s.a.createElement("br",null),"\xa0",s.a.createElement("br",null),"\xa0",s.a.createElement("br",null),"\xa0",s.a.createElement("br",null),"\xa0",s.a.createElement("br",null),"\xa0",s.a.createElement("br",null),"\xa0",s.a.createElement("br",null),"\xa0",s.a.createElement("br",null),"\xa0",s.a.createElement("br",null),"\xa0",s.a.createElement("br",null),"\xa0",s.a.createElement("br",null),"\xa0",s.a.createElement("br",null),"\xa0",s.a.createElement("br",null),"\xa0")),s.a.createElement("div",{id:"page2-div",style:{position:"relative",width:"892px",height:"1263px"}},s.a.createElement("img",{width:892,height:1263,src:a(791),alt:"background image"}),s.a.createElement("p",{style:{position:"absolute",top:"55px",left:"777px",whiteSpace:"nowrap"},className:"ft10"},"Page\xa0\xa0\xa0\xa0\xa0/\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0"),s.a.createElement("p",{style:{position:"absolute",top:"1199px",left:"157px",whiteSpace:"nowrap"},className:"ft11"},s.a.createElement("i",null,s.a.createElement("b",null,"F"))),s.a.createElement("p",{style:{position:"absolute",top:"1201px",left:"165px",whiteSpace:"nowrap"},className:"ft12"},s.a.createElement("i",null,s.a.createElement("b",null,"ORMULAIRE\xa0"))),s.a.createElement("p",{style:{position:"absolute",top:"1199px",left:"226px",whiteSpace:"nowrap"},className:"ft11"},s.a.createElement("i",null,s.a.createElement("b",null,"SORA"))),s.a.createElement("p",{style:{position:"absolute",top:"1201px",left:"257px",whiteSpace:"nowrap"},className:"ft12"},s.a.createElement("i",null,s.a.createElement("b",null,"\xa0"))),s.a.createElement("p",{style:{position:"absolute",top:"1199px",left:"260px",whiteSpace:"nowrap"},className:"ft11"},s.a.createElement("i",null,s.a.createElement("b",null,"\xa0"))),s.a.createElement("p",{style:{position:"absolute",top:"1199px",left:"413px",whiteSpace:"nowrap"},className:"ft11"},s.a.createElement("i",null,s.a.createElement("b",null,"P"))),s.a.createElement("p",{style:{position:"absolute",top:"1201px",left:"420px",whiteSpace:"nowrap"},className:"ft12"},s.a.createElement("i",null,s.a.createElement("b",null,"ROCES\xa0VERBAL\xa0"))),s.a.createElement("p",{style:{position:"absolute",top:"1199px",left:"495px",whiteSpace:"nowrap"},className:"ft11"},s.a.createElement("i",null,s.a.createElement("b",null,"\xa0"))),s.a.createElement("p",{style:{position:"absolute",top:"1199px",left:"672px",whiteSpace:"nowrap"},className:"ft11"},s.a.createElement("i",null,s.a.createElement("b",null,"EN/3D/JUR/003/V03\xa0"))),s.a.createElement("p",{style:{position:"absolute",top:"85px",left:"98px",whiteSpace:"nowrap"},className:"ft14"},"avons\xa0demand\xe9\xa0communication\xa0des\xa0documents\xa0\xe9num\xe9r\xe9s\xa0ci-apr\xe8s\xa0\xe0\xa0M.\xa0 \xa0",this.nameResponsible,s.a.createElement("br",null),"pour\xa0en\xa0prendre\xa0copie\xa0:\xa0",s.a.createElement("br",null),"\xa0",s.a.createElement("div",{style:{display:"flex",justifyContent:"center"}},s.a.createElement("ul",null,this.documents.map(function(e,t){return s.a.createElement("li",{key:t},e)}))),s.a.createElement("br",null),"\xa0",s.a.createElement("br",null),"\xa0",s.a.createElement("br",null),"\xa0",s.a.createElement("br",null),"\xa0",s.a.createElement("br",null),"\xa0",s.a.createElement("br",null),"\xa0",s.a.createElement("br",null),"\xa0",s.a.createElement("br",null),"\xa0",s.a.createElement("br",null),"\xa0",s.a.createElement("br",null),"\xa0",s.a.createElement("br",null),"\xa0",s.a.createElement("br",null),"\xa0",s.a.createElement("br",null),"\xa0",s.a.createElement("br",null),"\xa0",s.a.createElement("br",null),"\xa0",s.a.createElement("br",null),"\xa0",s.a.createElement("br",null),"\xa0",s.a.createElement("br",null),"\xa0",s.a.createElement("br",null),"\xa0",s.a.createElement("br",null),"\xa0",s.a.createElement("br",null),"\xa0",s.a.createElement("br",null),"\xa0",s.a.createElement("br",null),"\xa0",s.a.createElement("br",null),"\xa0",s.a.createElement("br",null),"\xa0"),s.a.createElement("p",{style:{position:"absolute",top:"616px",left:"98px",whiteSpace:"nowrap"},className:"ft13"},"nombre\xa0de\xa0mot(s)\xa0:\xa0\xa0"),s.a.createElement("p",{style:{position:"absolute",top:"616px",left:"353px",whiteSpace:"nowrap"},className:"ft13"},"ligne(s) :\xa0\xa0"),s.a.createElement("p",{style:{position:"absolute",top:"616px",left:"523px",whiteSpace:"nowrap"},className:"ft13"},"ray\xe9s nuls\xa0"),s.a.createElement("p",{style:{position:"absolute",top:"635px",left:"98px",whiteSpace:"nowrap"},className:"ft15"},"\xa0",s.a.createElement("br",null),"\xa0",s.a.createElement("br",null),"\xa0"),s.a.createElement("p",{style:{position:"absolute",top:"690px",left:"98px",whiteSpace:"nowrap"},className:"ft13"},"clos\xa0le\xa0\xa0"),s.a.createElement("p",{style:{position:"absolute",top:"690px",left:"438px",whiteSpace:"nowrap"},className:"ft13"},"\xe0\xa0\xa0"),s.a.createElement("p",{style:{position:"absolute",top:"690px",left:"587px",whiteSpace:"nowrap"},className:"ft13"},"heures\xa0"),s.a.createElement("p",{style:{position:"absolute",top:"710px",left:"98px",whiteSpace:"nowrap"},className:"ft14"},"\xa0",s.a.createElement("br",null),"\xa0",s.a.createElement("br",null),"\xa0",s.a.createElement("br",null),"\xa0"),s.a.createElement("p",{style:{position:"absolute",top:"784px",left:"98px",whiteSpace:"nowrap"},className:"ft13"},"Signature\xa0de\xa0(des)\xa0l'auteur(s)\xa0"),s.a.createElement("p",{style:{position:"absolute",top:"784px",left:"523px",whiteSpace:"nowrap"},className:"ft13"},"\xa0"),s.a.createElement("p",{style:{position:"absolute",top:"784px",left:"566px",whiteSpace:"nowrap"},className:"ft13"},"Signature\xa0de\xa0l'int\xe9ress\xe9,\xa0"),s.a.createElement("p",{style:{position:"absolute",top:"802px",left:"98px",whiteSpace:"nowrap"},className:"ft13"},"du\xa0proc\xe8s-verbal,\xa0"),s.a.createElement("p",{style:{position:"absolute",top:"820px",left:"98px",whiteSpace:"nowrap"},className:"ft13"},"\xa0")))}}]),t}(r.Component);var ba=Object(o.b)(function(e){return{AGENT_DD_IDENT:e.dataReducer.AGENT_DD_IDENT}})(function(e){return e.AGENT_DD_IDENT?s.a.createElement(b.d,null,s.a.createElement(b.b,{exact:!0,path:"/etablissements",component:ca}),s.a.createElement(b.b,{exact:!0,path:"/etablissement/:id",component:pa}),s.a.createElement(b.b,{exact:!0,path:"/menu",component:B}),s.a.createElement(b.b,{exact:!0,path:"/preferences",component:fa}),s.a.createElement(b.b,{exact:!0,path:"/mes-dossiers",component:me}),s.a.createElement(b.b,{exact:!0,path:"/dossier/:id",component:Ue}),s.a.createElement(b.b,{exact:!0,path:"/visite/:id",component:sa}),s.a.createElement(b.b,{exact:!0,path:"/nouvelle-trame/:id",component:jt}),s.a.createElement(b.b,{exact:!0,path:"/nouvelle-visite/:dossierId",component:ht}),s.a.createElement(b.b,{exact:!0,path:"/modify-visite/:visiteId",component:ht}),s.a.createElement(b.b,{exact:!0,path:"/nouvelle-trame",component:jt}),s.a.createElement(b.b,{exact:!0,path:"/authentification",component:Ea}),s.a.createElement(b.b,{exact:!0,path:"/form-test",component:wa}),s.a.createElement(b.b,{render:function(){return s.a.createElement(b.a,{to:"/menu"})}})):s.a.createElement(Ea,null)}),ga=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(A.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{style:{height:"100vh",backgroundColor:"#f2f2f2",display:"flex",flexDirection:"column"}},s.a.createElement(d.a,null,s.a.createElement(D,null),s.a.createElement("div",{className:"marginNavbar",style:{position:"absolute",height:"100%",width:"100%"}},s.a.createElement(ba,null))))}}]),t}(s.a.Component),va=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Da(e,t){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}var Ca=a(62),xa=a(354),Oa=a(499),ya={backPage:"/menu",nameOfPage:"Menu",activePages:{mesDossiers:"/mes-dossiers",etablissements:"/etablissements",preferences:"/preferences"}},Ia=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ya,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CHANGE_NAME":return Object(ne.a)({},e,{nameOfPage:t.payload.newName});case"CHANGE_BACK_URL":return Object(ne.a)({},e,{backPage:t.payload.backUrl});case"CHANGE_ACTIVE_PAGE":return function(e,t,a){switch(t){case"mesDossiers":return Object(ne.a)({},e,{activePages:Object(ne.a)({},e.activePages,{mesDossiers:a})});case"etablissements":return Object(ne.a)({},e,{activePages:Object(ne.a)({},e.activePages,{etablissements:a})});case"preferences":return Object(ne.a)({},e,{activePages:Object(ne.a)({},e.activePages,{preferences:a})})}}(e,t.payload.tab,t.payload.value);default:return e}},Ta={AGENT_DD_IDENT:void 0},Sa=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ta,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CHANGE_AGENT":return Object(ne.a)({},e,{AGENT_DD_IDENT:t.payload.newAgentIdent});default:return e}},ka={key:"root",storage:a.n(Oa).a};a.d(t,"store",function(){return Ba});var Na=function(){var e=Object(Ca.c)({navbarReducer:Ia,dataReducer:Sa}),t=Object(xa.a)(ka,e),a=Object(Ca.e)(t,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());return{store:a,persistor:Object(xa.b)(a)}}(),Ba=Na.store,La=Na.persistor;i.a.render(s.a.createElement(o.a,{store:Ba},s.a.createElement(n.a,{loading:null,persistor:La},s.a.createElement(ga,null))),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var t="".concat("","/service-worker.js");va?(function(e,t){fetch(e).then(function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):Da(e,t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")})):Da(t,e)})}}()}},[[507,1,2]]]);
//# sourceMappingURL=main.4631c4d4.chunk.js.map